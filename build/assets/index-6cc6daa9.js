function zT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $T(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L_={exports:{}},nc={},M_={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),WT=Symbol.for("react.portal"),HT=Symbol.for("react.fragment"),GT=Symbol.for("react.strict_mode"),KT=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),YT=Symbol.for("react.context"),QT=Symbol.for("react.forward_ref"),XT=Symbol.for("react.suspense"),JT=Symbol.for("react.memo"),ZT=Symbol.for("react.lazy"),bm=Symbol.iterator;function e1(e){return e===null||typeof e!="object"?null:(e=bm&&e[bm]||e["@@iterator"],typeof e=="function"?e:null)}var F_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j_=Object.assign,B_={};function Ji(e,t,n){this.props=e,this.context=t,this.refs=B_,this.updater=n||F_}Ji.prototype.isReactComponent={};Ji.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function V_(){}V_.prototype=Ji.prototype;function Gf(e,t,n){this.props=e,this.context=t,this.refs=B_,this.updater=n||F_}var Kf=Gf.prototype=new V_;Kf.constructor=Gf;j_(Kf,Ji.prototype);Kf.isPureReactComponent=!0;var Nm=Array.isArray,U_=Object.prototype.hasOwnProperty,qf={current:null},z_={key:!0,ref:!0,__self:!0,__source:!0};function $_(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)U_.call(t,r)&&!z_.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Do,type:e,key:s,ref:o,props:i,_owner:qf.current}}function t1(e,t){return{$$typeof:Do,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Do}function n1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rm=/\/+/g;function Zc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?n1(""+e.key):t.toString(36)}function ka(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Do:case WT:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Zc(o,0):r,Nm(i)?(n="",e!=null&&(n=e.replace(Rm,"$&/")+"/"),ka(i,t,n,"",function(c){return c})):i!=null&&(Yf(i)&&(i=t1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Nm(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Zc(s,a);o+=ka(s,t,n,l,i)}else if(l=e1(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Zc(s,a++),o+=ka(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ta(e,t,n){if(e==null)return e;var r=[],i=0;return ka(e,r,"","",function(s){return t.call(n,s,i++)}),r}function r1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},ba={transition:null},i1={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:ba,ReactCurrentOwner:qf};function W_(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ta,forEach:function(e,t,n){ta(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ta(e,function(){t++}),t},toArray:function(e){return ta(e,function(t){return t})||[]},only:function(e){if(!Yf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Ji;W.Fragment=HT;W.Profiler=KT;W.PureComponent=Gf;W.StrictMode=GT;W.Suspense=XT;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i1;W.act=W_;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=j_({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=qf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)U_.call(t,l)&&!z_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Do,type:e.type,key:i,ref:s,props:r,_owner:o}};W.createContext=function(e){return e={$$typeof:YT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qT,_context:e},e.Consumer=e};W.createElement=$_;W.createFactory=function(e){var t=$_.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:QT,render:e}};W.isValidElement=Yf;W.lazy=function(e){return{$$typeof:ZT,_payload:{_status:-1,_result:e},_init:r1}};W.memo=function(e,t){return{$$typeof:JT,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=ba.transition;ba.transition={};try{e()}finally{ba.transition=t}};W.unstable_act=W_;W.useCallback=function(e,t){return Ze.current.useCallback(e,t)};W.useContext=function(e){return Ze.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ze.current.useEffect(e,t)};W.useId=function(){return Ze.current.useId()};W.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ze.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};W.useRef=function(e){return Ze.current.useRef(e)};W.useState=function(e){return Ze.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Ze.current.useTransition()};W.version="18.3.1";M_.exports=W;var w=M_.exports;const rc=$T(w),s1=zT({__proto__:null,default:rc},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1=w,a1=Symbol.for("react.element"),l1=Symbol.for("react.fragment"),c1=Object.prototype.hasOwnProperty,u1=o1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d1={key:!0,ref:!0,__self:!0,__source:!0};function H_(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)c1.call(t,r)&&!d1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:a1,type:e,key:s,ref:o,props:i,_owner:u1.current}}nc.Fragment=l1;nc.jsx=H_;nc.jsxs=H_;L_.exports=nc;var v=L_.exports,rd={},G_={exports:{}},St={},K_={exports:{}},q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,M){var B=R.length;R.push(M);e:for(;0<B;){var te=B-1>>>1,de=R[te];if(0<i(de,M))R[te]=M,R[B]=de,B=te;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var M=R[0],B=R.pop();if(B!==M){R[0]=B;e:for(var te=0,de=R.length,fn=de>>>1;te<fn;){var Te=2*(te+1)-1,Dt=R[Te],tt=Te+1,Ot=R[tt];if(0>i(Dt,B))tt<de&&0>i(Ot,Dt)?(R[te]=Ot,R[tt]=B,te=tt):(R[te]=Dt,R[Te]=B,te=Te);else if(tt<de&&0>i(Ot,B))R[te]=Ot,R[tt]=B,te=tt;else break e}}return M}function i(R,M){var B=R.sortIndex-M.sortIndex;return B!==0?B:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,g=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=R)r(c),M.sortIndex=M.expirationTime,t(l,M);else break;M=n(c)}}function E(R){if(_=!1,y(R),!g)if(n(l)!==null)g=!0,Ye(C);else{var M=n(c);M!==null&&Y(E,M.startTime-R)}}function C(R,M){g=!1,_&&(_=!1,m(T),T=-1),h=!0;var B=f;try{for(y(M),d=n(l);d!==null&&(!(d.expirationTime>M)||R&&!G());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var de=te(d.expirationTime<=M);M=e.unstable_now(),typeof de=="function"?d.callback=de:d===n(l)&&r(l),y(M)}else r(l);d=n(l)}if(d!==null)var fn=!0;else{var Te=n(c);Te!==null&&Y(E,Te.startTime-M),fn=!1}return fn}finally{d=null,f=B,h=!1}}var I=!1,b=null,T=-1,O=5,L=-1;function G(){return!(e.unstable_now()-L<O)}function Re(){if(b!==null){var R=e.unstable_now();L=R;var M=!0;try{M=b(!0,R)}finally{M?Ae():(I=!1,b=null)}}else I=!1}var Ae;if(typeof p=="function")Ae=function(){p(Re)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,xe=X.port2;X.port1.onmessage=Re,Ae=function(){xe.postMessage(null)}}else Ae=function(){S(Re,0)};function Ye(R){b=R,I||(I=!0,Ae())}function Y(R,M){T=S(function(){R(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,Ye(C))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var B=f;f=M;try{return R()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=f;f=R;try{return M()}finally{f=B}},e.unstable_scheduleCallback=function(R,M,B){var te=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?te+B:te):B=te,R){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=B+de,R={id:u++,callback:M,priorityLevel:R,startTime:B,expirationTime:de,sortIndex:-1},B>te?(R.sortIndex=B,t(c,R),n(l)===null&&R===n(c)&&(_?(m(T),T=-1):_=!0,Y(E,B-te))):(R.sortIndex=de,t(l,R),g||h||(g=!0,Ye(C))),R},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(R){var M=f;return function(){var B=f;f=M;try{return R.apply(this,arguments)}finally{f=B}}}})(q_);K_.exports=q_;var f1=K_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1=w,_t=f1;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y_=new Set,Js={};function qr(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(Js[e]=t,e=0;e<t.length;e++)Y_.add(t[e])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),id=Object.prototype.hasOwnProperty,p1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Am={},Pm={};function m1(e){return id.call(Pm,e)?!0:id.call(Am,e)?!1:p1.test(e)?Pm[e]=!0:(Am[e]=!0,!1)}function g1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function y1(e,t,n,r){if(t===null||typeof t>"u"||g1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qf=/[\-:]([a-z])/g;function Xf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qf,Xf);Ue[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qf,Xf);Ue[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qf,Xf);Ue[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jf(e,t,n,r){var i=Ue.hasOwnProperty(t)?Ue[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(y1(t,n,i,r)&&(n=null),r||i===null?m1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rn=h1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,na=Symbol.for("react.element"),ii=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),sd=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),X_=Symbol.for("react.context"),eh=Symbol.for("react.forward_ref"),od=Symbol.for("react.suspense"),ad=Symbol.for("react.suspense_list"),th=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),J_=Symbol.for("react.offscreen"),Dm=Symbol.iterator;function us(e){return e===null||typeof e!="object"?null:(e=Dm&&e[Dm]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,eu;function ks(e){if(eu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eu=t&&t[1]||""}return`
`+eu+e}var tu=!1;function nu(e,t){if(!e||tu)return"";tu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{tu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ks(e):""}function v1(e){switch(e.tag){case 5:return ks(e.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 2:case 15:return e=nu(e.type,!1),e;case 11:return e=nu(e.type.render,!1),e;case 1:return e=nu(e.type,!0),e;default:return""}}function ld(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case si:return"Fragment";case ii:return"Portal";case sd:return"Profiler";case Zf:return"StrictMode";case od:return"Suspense";case ad:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X_:return(e.displayName||"Context")+".Consumer";case Q_:return(e._context.displayName||"Context")+".Provider";case eh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case th:return t=e.displayName||null,t!==null?t:ld(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return ld(e(t))}catch{}}return null}function _1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ld(t);case 8:return t===Zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w1(e){var t=Z_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ra(e){e._valueTracker||(e._valueTracker=w1(e))}function e0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cd(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Om(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function t0(e,t){t=t.checked,t!=null&&Jf(e,"checked",t,!1)}function ud(e,t){t0(e,t);var n=tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dd(e,t.type,n):t.hasOwnProperty("defaultValue")&&dd(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dd(e,t,n){(t!=="number"||Qa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bs=Array.isArray;function xi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(bs(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tr(n)}}function n0(e,t){var n=tr(t.value),r=tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Fm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function r0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?r0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ia,i0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ia=ia||document.createElement("div"),ia.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ia.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S1=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(e){S1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Os[t]=Os[e]})});function s0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Os.hasOwnProperty(e)&&Os[e]?(""+t).trim():t+"px"}function o0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=s0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var E1=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pd(e,t){if(t){if(E1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function md(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gd=null;function nh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yd=null,Ti=null,Ii=null;function jm(e){if(e=Mo(e)){if(typeof yd!="function")throw Error(N(280));var t=e.stateNode;t&&(t=lc(t),yd(e.stateNode,e.type,t))}}function a0(e){Ti?Ii?Ii.push(e):Ii=[e]:Ti=e}function l0(){if(Ti){var e=Ti,t=Ii;if(Ii=Ti=null,jm(e),t)for(e=0;e<t.length;e++)jm(t[e])}}function c0(e,t){return e(t)}function u0(){}var ru=!1;function d0(e,t,n){if(ru)return e(t,n);ru=!0;try{return c0(e,t,n)}finally{ru=!1,(Ti!==null||Ii!==null)&&(u0(),l0())}}function eo(e,t){var n=e.stateNode;if(n===null)return null;var r=lc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var vd=!1;if(Sn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){vd=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{vd=!1}function C1(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ls=!1,Xa=null,Ja=!1,_d=null,x1={onError:function(e){Ls=!0,Xa=e}};function T1(e,t,n,r,i,s,o,a,l){Ls=!1,Xa=null,C1.apply(x1,arguments)}function I1(e,t,n,r,i,s,o,a,l){if(T1.apply(this,arguments),Ls){if(Ls){var c=Xa;Ls=!1,Xa=null}else throw Error(N(198));Ja||(Ja=!0,_d=c)}}function Yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bm(e){if(Yr(e)!==e)throw Error(N(188))}function k1(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Bm(i),e;if(s===r)return Bm(i),t;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function h0(e){return e=k1(e),e!==null?p0(e):null}function p0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=p0(e);if(t!==null)return t;e=e.sibling}return null}var m0=_t.unstable_scheduleCallback,Vm=_t.unstable_cancelCallback,b1=_t.unstable_shouldYield,N1=_t.unstable_requestPaint,we=_t.unstable_now,R1=_t.unstable_getCurrentPriorityLevel,rh=_t.unstable_ImmediatePriority,g0=_t.unstable_UserBlockingPriority,Za=_t.unstable_NormalPriority,A1=_t.unstable_LowPriority,y0=_t.unstable_IdlePriority,ic=null,tn=null;function P1(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ic,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:L1,D1=Math.log,O1=Math.LN2;function L1(e){return e>>>=0,e===0?32:31-(D1(e)/O1|0)|0}var sa=64,oa=4194304;function Ns(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function el(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ns(a):(s&=o,s!==0&&(r=Ns(s)))}else o=n&~i,o!==0?r=Ns(o):s!==0&&(r=Ns(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),i=1<<n,r|=e[n],t&=~i;return r}function M1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Wt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=M1(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function wd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function v0(){var e=sa;return sa<<=1,!(sa&4194240)&&(sa=64),e}function iu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function j1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Wt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function ih(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Z=0;function _0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var w0,sh,S0,E0,C0,Sd=!1,aa=[],$n=null,Wn=null,Hn=null,to=new Map,no=new Map,Fn=[],B1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Um(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":to.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(t.pointerId)}}function fs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Mo(t),t!==null&&sh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function V1(e,t,n,r,i){switch(t){case"focusin":return $n=fs($n,e,t,n,r,i),!0;case"dragenter":return Wn=fs(Wn,e,t,n,r,i),!0;case"mouseover":return Hn=fs(Hn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return to.set(s,fs(to.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,no.set(s,fs(no.get(s)||null,e,t,n,r,i)),!0}return!1}function x0(e){var t=Tr(e.target);if(t!==null){var n=Yr(t);if(n!==null){if(t=n.tag,t===13){if(t=f0(n),t!==null){e.blockedOn=t,C0(e.priority,function(){S0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ed(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gd=r,n.target.dispatchEvent(r),gd=null}else return t=Mo(n),t!==null&&sh(t),e.blockedOn=n,!1;t.shift()}return!0}function zm(e,t,n){Na(e)&&n.delete(t)}function U1(){Sd=!1,$n!==null&&Na($n)&&($n=null),Wn!==null&&Na(Wn)&&(Wn=null),Hn!==null&&Na(Hn)&&(Hn=null),to.forEach(zm),no.forEach(zm)}function hs(e,t){e.blockedOn===t&&(e.blockedOn=null,Sd||(Sd=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,U1)))}function ro(e){function t(i){return hs(i,e)}if(0<aa.length){hs(aa[0],e);for(var n=1;n<aa.length;n++){var r=aa[n];r.blockedOn===e&&(r.blockedOn=null)}}for($n!==null&&hs($n,e),Wn!==null&&hs(Wn,e),Hn!==null&&hs(Hn,e),to.forEach(t),no.forEach(t),n=0;n<Fn.length;n++)r=Fn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fn.length&&(n=Fn[0],n.blockedOn===null);)x0(n),n.blockedOn===null&&Fn.shift()}var ki=Rn.ReactCurrentBatchConfig,tl=!0;function z1(e,t,n,r){var i=Z,s=ki.transition;ki.transition=null;try{Z=1,oh(e,t,n,r)}finally{Z=i,ki.transition=s}}function $1(e,t,n,r){var i=Z,s=ki.transition;ki.transition=null;try{Z=4,oh(e,t,n,r)}finally{Z=i,ki.transition=s}}function oh(e,t,n,r){if(tl){var i=Ed(e,t,n,r);if(i===null)pu(e,t,r,nl,n),Um(e,r);else if(V1(i,e,t,n,r))r.stopPropagation();else if(Um(e,r),t&4&&-1<B1.indexOf(e)){for(;i!==null;){var s=Mo(i);if(s!==null&&w0(s),s=Ed(e,t,n,r),s===null&&pu(e,t,r,nl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pu(e,t,r,null,n)}}var nl=null;function Ed(e,t,n,r){if(nl=null,e=nh(r),e=Tr(e),e!==null)if(t=Yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=f0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function T0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R1()){case rh:return 1;case g0:return 4;case Za:case A1:return 16;case y0:return 536870912;default:return 16}default:return 16}}var Vn=null,ah=null,Ra=null;function I0(){if(Ra)return Ra;var e,t=ah,n=t.length,r,i="value"in Vn?Vn.value:Vn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ra=i.slice(e,1<r?1-r:void 0)}function Aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function la(){return!0}function $m(){return!1}function Et(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?la:$m,this.isPropagationStopped=$m,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),t}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lh=Et(Zi),Lo=me({},Zi,{view:0,detail:0}),W1=Et(Lo),su,ou,ps,sc=me({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ch,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ps&&(ps&&e.type==="mousemove"?(su=e.screenX-ps.screenX,ou=e.screenY-ps.screenY):ou=su=0,ps=e),su)},movementY:function(e){return"movementY"in e?e.movementY:ou}}),Wm=Et(sc),H1=me({},sc,{dataTransfer:0}),G1=Et(H1),K1=me({},Lo,{relatedTarget:0}),au=Et(K1),q1=me({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Y1=Et(q1),Q1=me({},Zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X1=Et(Q1),J1=me({},Zi,{data:0}),Hm=Et(J1),Z1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tI[e])?!!t[e]:!1}function ch(){return nI}var rI=me({},Lo,{key:function(e){if(e.key){var t=Z1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ch,charCode:function(e){return e.type==="keypress"?Aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iI=Et(rI),sI=me({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gm=Et(sI),oI=me({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ch}),aI=Et(oI),lI=me({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),cI=Et(lI),uI=me({},sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dI=Et(uI),fI=[9,13,27,32],uh=Sn&&"CompositionEvent"in window,Ms=null;Sn&&"documentMode"in document&&(Ms=document.documentMode);var hI=Sn&&"TextEvent"in window&&!Ms,k0=Sn&&(!uh||Ms&&8<Ms&&11>=Ms),Km=String.fromCharCode(32),qm=!1;function b0(e,t){switch(e){case"keyup":return fI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oi=!1;function pI(e,t){switch(e){case"compositionend":return N0(t);case"keypress":return t.which!==32?null:(qm=!0,Km);case"textInput":return e=t.data,e===Km&&qm?null:e;default:return null}}function mI(e,t){if(oi)return e==="compositionend"||!uh&&b0(e,t)?(e=I0(),Ra=ah=Vn=null,oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return k0&&t.locale!=="ko"?null:t.data;default:return null}}var gI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gI[e.type]:t==="textarea"}function R0(e,t,n,r){a0(r),t=rl(t,"onChange"),0<t.length&&(n=new lh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fs=null,io=null;function yI(e){U0(e,0)}function oc(e){var t=ci(e);if(e0(t))return e}function vI(e,t){if(e==="change")return t}var A0=!1;if(Sn){var lu;if(Sn){var cu="oninput"in document;if(!cu){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),cu=typeof Qm.oninput=="function"}lu=cu}else lu=!1;A0=lu&&(!document.documentMode||9<document.documentMode)}function Xm(){Fs&&(Fs.detachEvent("onpropertychange",P0),io=Fs=null)}function P0(e){if(e.propertyName==="value"&&oc(io)){var t=[];R0(t,io,e,nh(e)),d0(yI,t)}}function _I(e,t,n){e==="focusin"?(Xm(),Fs=t,io=n,Fs.attachEvent("onpropertychange",P0)):e==="focusout"&&Xm()}function wI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oc(io)}function SI(e,t){if(e==="click")return oc(t)}function EI(e,t){if(e==="input"||e==="change")return oc(t)}function CI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:CI;function so(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!id.call(t,i)||!qt(e[i],t[i]))return!1}return!0}function Jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zm(e,t){var n=Jm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jm(n)}}function D0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function O0(){for(var e=window,t=Qa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qa(e.document)}return t}function dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xI(e){var t=O0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&D0(n.ownerDocument.documentElement,n)){if(r!==null&&dh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Zm(n,s);var o=Zm(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TI=Sn&&"documentMode"in document&&11>=document.documentMode,ai=null,Cd=null,js=null,xd=!1;function eg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xd||ai==null||ai!==Qa(r)||(r=ai,"selectionStart"in r&&dh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),js&&so(js,r)||(js=r,r=rl(Cd,"onSelect"),0<r.length&&(t=new lh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ai)))}function ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var li={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionend:ca("Transition","TransitionEnd")},uu={},L0={};Sn&&(L0=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function ac(e){if(uu[e])return uu[e];if(!li[e])return e;var t=li[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in L0)return uu[e]=t[n];return e}var M0=ac("animationend"),F0=ac("animationiteration"),j0=ac("animationstart"),B0=ac("transitionend"),V0=new Map,tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){V0.set(e,t),qr(t,[e])}for(var du=0;du<tg.length;du++){var fu=tg[du],II=fu.toLowerCase(),kI=fu[0].toUpperCase()+fu.slice(1);cr(II,"on"+kI)}cr(M0,"onAnimationEnd");cr(F0,"onAnimationIteration");cr(j0,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(B0,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function ng(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,I1(r,t,void 0,e),e.currentTarget=null}function U0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ng(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ng(i,a,c),s=l}}}if(Ja)throw e=_d,Ja=!1,_d=null,e}function se(e,t){var n=t[Nd];n===void 0&&(n=t[Nd]=new Set);var r=e+"__bubble";n.has(r)||(z0(t,e,2,!1),n.add(r))}function hu(e,t,n){var r=0;t&&(r|=4),z0(n,e,r,t)}var ua="_reactListening"+Math.random().toString(36).slice(2);function oo(e){if(!e[ua]){e[ua]=!0,Y_.forEach(function(n){n!=="selectionchange"&&(bI.has(n)||hu(n,!1,e),hu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ua]||(t[ua]=!0,hu("selectionchange",!1,t))}}function z0(e,t,n,r){switch(T0(t)){case 1:var i=z1;break;case 4:i=$1;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!vd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function pu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Tr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}d0(function(){var c=s,u=nh(n),d=[];e:{var f=V0.get(e);if(f!==void 0){var h=lh,g=e;switch(e){case"keypress":if(Aa(n)===0)break e;case"keydown":case"keyup":h=iI;break;case"focusin":g="focus",h=au;break;case"focusout":g="blur",h=au;break;case"beforeblur":case"afterblur":h=au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=G1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=aI;break;case M0:case F0:case j0:h=Y1;break;case B0:h=cI;break;case"scroll":h=W1;break;case"wheel":h=dI;break;case"copy":case"cut":case"paste":h=X1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Gm}var _=(t&4)!==0,S=!_&&e==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var p=c,y;p!==null;){y=p;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,m!==null&&(E=eo(p,m),E!=null&&_.push(ao(p,E,y)))),S)break;p=p.return}0<_.length&&(f=new h(f,g,null,n,u),d.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==gd&&(g=n.relatedTarget||n.fromElement)&&(Tr(g)||g[En]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?Tr(g):null,g!==null&&(S=Yr(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(_=Wm,E="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=Gm,E="onPointerLeave",m="onPointerEnter",p="pointer"),S=h==null?f:ci(h),y=g==null?f:ci(g),f=new _(E,p+"leave",h,n,u),f.target=S,f.relatedTarget=y,E=null,Tr(u)===c&&(_=new _(m,p+"enter",g,n,u),_.target=y,_.relatedTarget=S,E=_),S=E,h&&g)t:{for(_=h,m=g,p=0,y=_;y;y=ti(y))p++;for(y=0,E=m;E;E=ti(E))y++;for(;0<p-y;)_=ti(_),p--;for(;0<y-p;)m=ti(m),y--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=ti(_),m=ti(m)}_=null}else _=null;h!==null&&rg(d,f,h,_,!1),g!==null&&S!==null&&rg(d,S,g,_,!0)}}e:{if(f=c?ci(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=vI;else if(Ym(f))if(A0)C=EI;else{C=wI;var I=_I}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=SI);if(C&&(C=C(e,c))){R0(d,C,n,u);break e}I&&I(e,f,c),e==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&dd(f,"number",f.value)}switch(I=c?ci(c):window,e){case"focusin":(Ym(I)||I.contentEditable==="true")&&(ai=I,Cd=c,js=null);break;case"focusout":js=Cd=ai=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,eg(d,n,u);break;case"selectionchange":if(TI)break;case"keydown":case"keyup":eg(d,n,u)}var b;if(uh)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else oi?b0(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(k0&&n.locale!=="ko"&&(oi||T!=="onCompositionStart"?T==="onCompositionEnd"&&oi&&(b=I0()):(Vn=u,ah="value"in Vn?Vn.value:Vn.textContent,oi=!0)),I=rl(c,T),0<I.length&&(T=new Hm(T,e,null,n,u),d.push({event:T,listeners:I}),b?T.data=b:(b=N0(n),b!==null&&(T.data=b)))),(b=hI?pI(e,n):mI(e,n))&&(c=rl(c,"onBeforeInput"),0<c.length&&(u=new Hm("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=b))}U0(d,t)})}function ao(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=eo(e,n),s!=null&&r.unshift(ao(e,s,i)),s=eo(e,t),s!=null&&r.push(ao(e,s,i))),e=e.return}return r}function ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rg(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=eo(n,s),l!=null&&o.unshift(ao(n,l,a))):i||(l=eo(n,s),l!=null&&o.push(ao(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var NI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function ig(e){return(typeof e=="string"?e:""+e).replace(NI,`
`).replace(RI,"")}function da(e,t,n){if(t=ig(t),ig(e)!==t&&n)throw Error(N(425))}function il(){}var Td=null,Id=null;function kd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,AI=typeof clearTimeout=="function"?clearTimeout:void 0,sg=typeof Promise=="function"?Promise:void 0,PI=typeof queueMicrotask=="function"?queueMicrotask:typeof sg<"u"?function(e){return sg.resolve(null).then(e).catch(DI)}:bd;function DI(e){setTimeout(function(){throw e})}function mu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ro(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ro(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function og(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),en="__reactFiber$"+es,lo="__reactProps$"+es,En="__reactContainer$"+es,Nd="__reactEvents$"+es,OI="__reactListeners$"+es,LI="__reactHandles$"+es;function Tr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=og(e);e!==null;){if(n=e[en])return n;e=og(e)}return t}e=n,n=e.parentNode}return null}function Mo(e){return e=e[en]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ci(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function lc(e){return e[lo]||null}var Rd=[],ui=-1;function ur(e){return{current:e}}function ae(e){0>ui||(e.current=Rd[ui],Rd[ui]=null,ui--)}function ie(e,t){ui++,Rd[ui]=e.current,e.current=t}var nr={},qe=ur(nr),st=ur(!1),Mr=nr;function Mi(e,t){var n=e.type.contextTypes;if(!n)return nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ot(e){return e=e.childContextTypes,e!=null}function sl(){ae(st),ae(qe)}function ag(e,t,n){if(qe.current!==nr)throw Error(N(168));ie(qe,t),ie(st,n)}function $0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(N(108,_1(e)||"Unknown",i));return me({},n,r)}function ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Mr=qe.current,ie(qe,e),ie(st,st.current),!0}function lg(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=$0(e,t,Mr),r.__reactInternalMemoizedMergedChildContext=e,ae(st),ae(qe),ie(qe,e)):ae(st),ie(st,n)}var mn=null,cc=!1,gu=!1;function W0(e){mn===null?mn=[e]:mn.push(e)}function MI(e){cc=!0,W0(e)}function dr(){if(!gu&&mn!==null){gu=!0;var e=0,t=Z;try{var n=mn;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mn=null,cc=!1}catch(i){throw mn!==null&&(mn=mn.slice(e+1)),m0(rh,dr),i}finally{Z=t,gu=!1}}return null}var di=[],fi=0,al=null,ll=0,It=[],kt=0,Fr=null,gn=1,yn="";function _r(e,t){di[fi++]=ll,di[fi++]=al,al=e,ll=t}function H0(e,t,n){It[kt++]=gn,It[kt++]=yn,It[kt++]=Fr,Fr=e;var r=gn;e=yn;var i=32-Wt(r)-1;r&=~(1<<i),n+=1;var s=32-Wt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gn=1<<32-Wt(t)+i|n<<i|r,yn=s+e}else gn=1<<s|n<<i|r,yn=e}function fh(e){e.return!==null&&(_r(e,1),H0(e,1,0))}function hh(e){for(;e===al;)al=di[--fi],di[fi]=null,ll=di[--fi],di[fi]=null;for(;e===Fr;)Fr=It[--kt],It[kt]=null,yn=It[--kt],It[kt]=null,gn=It[--kt],It[kt]=null}var pt=null,ft=null,ce=!1,Vt=null;function G0(e,t){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function cg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ft=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fr!==null?{id:gn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ft=null,!0):!1;default:return!1}}function Ad(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pd(e){if(ce){var t=ft;if(t){var n=t;if(!cg(e,t)){if(Ad(e))throw Error(N(418));t=Gn(n.nextSibling);var r=pt;t&&cg(e,t)?G0(r,n):(e.flags=e.flags&-4097|2,ce=!1,pt=e)}}else{if(Ad(e))throw Error(N(418));e.flags=e.flags&-4097|2,ce=!1,pt=e}}}function ug(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function fa(e){if(e!==pt)return!1;if(!ce)return ug(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kd(e.type,e.memoizedProps)),t&&(t=ft)){if(Ad(e))throw K0(),Error(N(418));for(;t;)G0(e,t),t=Gn(t.nextSibling)}if(ug(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ft=Gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=pt?Gn(e.stateNode.nextSibling):null;return!0}function K0(){for(var e=ft;e;)e=Gn(e.nextSibling)}function Fi(){ft=pt=null,ce=!1}function ph(e){Vt===null?Vt=[e]:Vt.push(e)}var FI=Rn.ReactCurrentBatchConfig;function ms(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function ha(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dg(e){var t=e._init;return t(e._payload)}function q0(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Qn(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,E){return p===null||p.tag!==6?(p=Cu(y,m.mode,E),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,E){var C=y.type;return C===si?u(m,p,y.props.children,E,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ln&&dg(C)===p.type)?(E=i(p,y.props),E.ref=ms(m,p,y),E.return=m,E):(E=ja(y.type,y.key,y.props,null,m.mode,E),E.ref=ms(m,p,y),E.return=m,E)}function c(m,p,y,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=xu(y,m.mode,E),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function u(m,p,y,E,C){return p===null||p.tag!==7?(p=Dr(y,m.mode,E,C),p.return=m,p):(p=i(p,y),p.return=m,p)}function d(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Cu(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case na:return y=ja(p.type,p.key,p.props,null,m.mode,y),y.ref=ms(m,null,p),y.return=m,y;case ii:return p=xu(p,m.mode,y),p.return=m,p;case Ln:var E=p._init;return d(m,E(p._payload),y)}if(bs(p)||us(p))return p=Dr(p,m.mode,y,null),p.return=m,p;ha(m,p)}return null}function f(m,p,y,E){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(m,p,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case na:return y.key===C?l(m,p,y,E):null;case ii:return y.key===C?c(m,p,y,E):null;case Ln:return C=y._init,f(m,p,C(y._payload),E)}if(bs(y)||us(y))return C!==null?null:u(m,p,y,E,null);ha(m,y)}return null}function h(m,p,y,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(y)||null,a(p,m,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case na:return m=m.get(E.key===null?y:E.key)||null,l(p,m,E,C);case ii:return m=m.get(E.key===null?y:E.key)||null,c(p,m,E,C);case Ln:var I=E._init;return h(m,p,y,I(E._payload),C)}if(bs(E)||us(E))return m=m.get(y)||null,u(p,m,E,C,null);ha(p,E)}return null}function g(m,p,y,E){for(var C=null,I=null,b=p,T=p=0,O=null;b!==null&&T<y.length;T++){b.index>T?(O=b,b=null):O=b.sibling;var L=f(m,b,y[T],E);if(L===null){b===null&&(b=O);break}e&&b&&L.alternate===null&&t(m,b),p=s(L,p,T),I===null?C=L:I.sibling=L,I=L,b=O}if(T===y.length)return n(m,b),ce&&_r(m,T),C;if(b===null){for(;T<y.length;T++)b=d(m,y[T],E),b!==null&&(p=s(b,p,T),I===null?C=b:I.sibling=b,I=b);return ce&&_r(m,T),C}for(b=r(m,b);T<y.length;T++)O=h(b,m,T,y[T],E),O!==null&&(e&&O.alternate!==null&&b.delete(O.key===null?T:O.key),p=s(O,p,T),I===null?C=O:I.sibling=O,I=O);return e&&b.forEach(function(G){return t(m,G)}),ce&&_r(m,T),C}function _(m,p,y,E){var C=us(y);if(typeof C!="function")throw Error(N(150));if(y=C.call(y),y==null)throw Error(N(151));for(var I=C=null,b=p,T=p=0,O=null,L=y.next();b!==null&&!L.done;T++,L=y.next()){b.index>T?(O=b,b=null):O=b.sibling;var G=f(m,b,L.value,E);if(G===null){b===null&&(b=O);break}e&&b&&G.alternate===null&&t(m,b),p=s(G,p,T),I===null?C=G:I.sibling=G,I=G,b=O}if(L.done)return n(m,b),ce&&_r(m,T),C;if(b===null){for(;!L.done;T++,L=y.next())L=d(m,L.value,E),L!==null&&(p=s(L,p,T),I===null?C=L:I.sibling=L,I=L);return ce&&_r(m,T),C}for(b=r(m,b);!L.done;T++,L=y.next())L=h(b,m,T,L.value,E),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?T:L.key),p=s(L,p,T),I===null?C=L:I.sibling=L,I=L);return e&&b.forEach(function(Re){return t(m,Re)}),ce&&_r(m,T),C}function S(m,p,y,E){if(typeof y=="object"&&y!==null&&y.type===si&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case na:e:{for(var C=y.key,I=p;I!==null;){if(I.key===C){if(C=y.type,C===si){if(I.tag===7){n(m,I.sibling),p=i(I,y.props.children),p.return=m,m=p;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ln&&dg(C)===I.type){n(m,I.sibling),p=i(I,y.props),p.ref=ms(m,I,y),p.return=m,m=p;break e}n(m,I);break}else t(m,I);I=I.sibling}y.type===si?(p=Dr(y.props.children,m.mode,E,y.key),p.return=m,m=p):(E=ja(y.type,y.key,y.props,null,m.mode,E),E.ref=ms(m,p,y),E.return=m,m=E)}return o(m);case ii:e:{for(I=y.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=xu(y,m.mode,E),p.return=m,m=p}return o(m);case Ln:return I=y._init,S(m,p,I(y._payload),E)}if(bs(y))return g(m,p,y,E);if(us(y))return _(m,p,y,E);ha(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=Cu(y,m.mode,E),p.return=m,m=p),o(m)):n(m,p)}return S}var ji=q0(!0),Y0=q0(!1),cl=ur(null),ul=null,hi=null,mh=null;function gh(){mh=hi=ul=null}function yh(e){var t=cl.current;ae(cl),e._currentValue=t}function Dd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bi(e,t){ul=e,mh=hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(mh!==e)if(e={context:e,memoizedValue:t,next:null},hi===null){if(ul===null)throw Error(N(308));hi=e,ul.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return t}var Ir=null;function vh(e){Ir===null?Ir=[e]:Ir.push(e)}function Q0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,vh(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function _h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cn(e,n)}return i=r.interleaved,i===null?(t.next=t,vh(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cn(e,n)}function Pa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ih(e,n)}}function fg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dl(e,t,n,r){var i=e.updateQueue;Mn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,_=a;switch(f=t,h=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=me({},d,f);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Br|=o,e.lanes=o,e.memoizedState=d}}function hg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var Fo={},nn=ur(Fo),co=ur(Fo),uo=ur(Fo);function kr(e){if(e===Fo)throw Error(N(174));return e}function wh(e,t){switch(ie(uo,t),ie(co,e),ie(nn,Fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hd(t,e)}ae(nn),ie(nn,t)}function Bi(){ae(nn),ae(co),ae(uo)}function J0(e){kr(uo.current);var t=kr(nn.current),n=hd(t,e.type);t!==n&&(ie(co,e),ie(nn,n))}function Sh(e){co.current===e&&(ae(nn),ae(co))}var fe=ur(0);function fl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yu=[];function Eh(){for(var e=0;e<yu.length;e++)yu[e]._workInProgressVersionPrimary=null;yu.length=0}var Da=Rn.ReactCurrentDispatcher,vu=Rn.ReactCurrentBatchConfig,jr=0,pe=null,Ie=null,De=null,hl=!1,Bs=!1,fo=0,jI=0;function ze(){throw Error(N(321))}function Ch(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qt(e[n],t[n]))return!1;return!0}function xh(e,t,n,r,i,s){if(jr=s,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Da.current=e===null||e.memoizedState===null?zI:$I,e=n(r,i),Bs){s=0;do{if(Bs=!1,fo=0,25<=s)throw Error(N(301));s+=1,De=Ie=null,t.updateQueue=null,Da.current=WI,e=n(r,i)}while(Bs)}if(Da.current=pl,t=Ie!==null&&Ie.next!==null,jr=0,De=Ie=pe=null,hl=!1,t)throw Error(N(300));return e}function Th(){var e=fo!==0;return fo=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?pe.memoizedState=De=e:De=De.next=e,De}function Pt(){if(Ie===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=De===null?pe.memoizedState:De.next;if(t!==null)De=t,Ie=e;else{if(e===null)throw Error(N(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},De===null?pe.memoizedState=De=e:De=De.next=e}return De}function ho(e,t){return typeof t=="function"?t(e):t}function _u(e){var t=Pt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=Ie,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((jr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,pe.lanes|=u,Br|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,qt(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,pe.lanes|=s,Br|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wu(e){var t=Pt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);qt(s,t.memoizedState)||(rt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Z0(){}function ew(e,t){var n=pe,r=Pt(),i=t(),s=!qt(r.memoizedState,i);if(s&&(r.memoizedState=i,rt=!0),r=r.queue,Ih(rw.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,po(9,nw.bind(null,n,r,i,t),void 0,null),Me===null)throw Error(N(349));jr&30||tw(n,t,i)}return i}function tw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nw(e,t,n,r){t.value=n,t.getSnapshot=r,iw(t)&&sw(e)}function rw(e,t,n){return n(function(){iw(t)&&sw(e)})}function iw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qt(e,n)}catch{return!0}}function sw(e){var t=Cn(e,1);t!==null&&Ht(t,e,1,-1)}function pg(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:e},t.queue=e,e=e.dispatch=UI.bind(null,pe,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ow(){return Pt().memoizedState}function Oa(e,t,n,r){var i=Zt();pe.flags|=e,i.memoizedState=po(1|t,n,void 0,r===void 0?null:r)}function uc(e,t,n,r){var i=Pt();r=r===void 0?null:r;var s=void 0;if(Ie!==null){var o=Ie.memoizedState;if(s=o.destroy,r!==null&&Ch(r,o.deps)){i.memoizedState=po(t,n,s,r);return}}pe.flags|=e,i.memoizedState=po(1|t,n,s,r)}function mg(e,t){return Oa(8390656,8,e,t)}function Ih(e,t){return uc(2048,8,e,t)}function aw(e,t){return uc(4,2,e,t)}function lw(e,t){return uc(4,4,e,t)}function cw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uw(e,t,n){return n=n!=null?n.concat([e]):null,uc(4,4,cw.bind(null,t,e),n)}function kh(){}function dw(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ch(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fw(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ch(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hw(e,t,n){return jr&21?(qt(n,t)||(n=v0(),pe.lanes|=n,Br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function BI(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=vu.transition;vu.transition={};try{e(!1),t()}finally{Z=n,vu.transition=r}}function pw(){return Pt().memoizedState}function VI(e,t,n){var r=Yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mw(e))gw(t,n);else if(n=Q0(e,t,n,r),n!==null){var i=Je();Ht(n,e,r,i),yw(n,t,r)}}function UI(e,t,n){var r=Yn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mw(e))gw(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,qt(a,o)){var l=t.interleaved;l===null?(i.next=i,vh(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Q0(e,t,i,r),n!==null&&(i=Je(),Ht(n,e,r,i),yw(n,t,r))}}function mw(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function gw(e,t){Bs=hl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ih(e,n)}}var pl={readContext:At,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},zI={readContext:At,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:mg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oa(4194308,4,cw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=VI.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:pg,useDebugValue:kh,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=pg(!1),t=e[0];return e=BI.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pe,i=Zt();if(ce){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Me===null)throw Error(N(349));jr&30||tw(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,mg(rw.bind(null,r,s,e),[e]),r.flags|=2048,po(9,nw.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Zt(),t=Me.identifierPrefix;if(ce){var n=yn,r=gn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$I={readContext:At,useCallback:dw,useContext:At,useEffect:Ih,useImperativeHandle:uw,useInsertionEffect:aw,useLayoutEffect:lw,useMemo:fw,useReducer:_u,useRef:ow,useState:function(){return _u(ho)},useDebugValue:kh,useDeferredValue:function(e){var t=Pt();return hw(t,Ie.memoizedState,e)},useTransition:function(){var e=_u(ho)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Z0,useSyncExternalStore:ew,useId:pw,unstable_isNewReconciler:!1},WI={readContext:At,useCallback:dw,useContext:At,useEffect:Ih,useImperativeHandle:uw,useInsertionEffect:aw,useLayoutEffect:lw,useMemo:fw,useReducer:wu,useRef:ow,useState:function(){return wu(ho)},useDebugValue:kh,useDeferredValue:function(e){var t=Pt();return Ie===null?t.memoizedState=e:hw(t,Ie.memoizedState,e)},useTransition:function(){var e=wu(ho)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Z0,useSyncExternalStore:ew,useId:pw,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Od(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var dc={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),i=Yn(e),s=_n(r,i);s.payload=t,n!=null&&(s.callback=n),t=Kn(e,s,i),t!==null&&(Ht(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),i=Yn(e),s=_n(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Kn(e,s,i),t!==null&&(Ht(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=Yn(e),i=_n(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kn(e,i,r),t!==null&&(Ht(t,e,r,n),Pa(t,e,r))}};function gg(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!so(n,r)||!so(i,s):!0}function vw(e,t,n){var r=!1,i=nr,s=t.contextType;return typeof s=="object"&&s!==null?s=At(s):(i=ot(t)?Mr:qe.current,r=t.contextTypes,s=(r=r!=null)?Mi(e,i):nr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function yg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&dc.enqueueReplaceState(t,t.state,null)}function Ld(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},_h(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=At(s):(s=ot(t)?Mr:qe.current,i.context=Mi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Od(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&dc.enqueueReplaceState(i,i.state,null),dl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Vi(e,t){try{var n="",r=t;do n+=v1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Su(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Md(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var HI=typeof WeakMap=="function"?WeakMap:Map;function _w(e,t,n){n=_n(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gl||(gl=!0,Gd=r),Md(e,t)},n}function ww(e,t,n){n=_n(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Md(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Md(e,t),typeof r!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function vg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new HI;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=sk.bind(null,e,t,n),t.then(e,e))}function _g(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wg(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_n(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var GI=Rn.ReactCurrentOwner,rt=!1;function Qe(e,t,n,r){t.child=e===null?Y0(t,null,n,r):ji(t,e.child,n,r)}function Sg(e,t,n,r,i){n=n.render;var s=t.ref;return bi(t,i),r=xh(e,t,n,r,s,i),n=Th(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xn(e,t,i)):(ce&&n&&fh(t),t.flags|=1,Qe(e,t,r,i),t.child)}function Eg(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Lh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Sw(e,t,s,r,i)):(e=ja(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:so,n(o,r)&&e.ref===t.ref)return xn(e,t,i)}return t.flags|=1,e=Qn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Sw(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(so(s,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,xn(e,t,i)}return Fd(e,t,n,r,i)}function Ew(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(mi,dt),dt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(mi,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ie(mi,dt),dt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ie(mi,dt),dt|=r;return Qe(e,t,i,n),t.child}function Cw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fd(e,t,n,r,i){var s=ot(n)?Mr:qe.current;return s=Mi(t,s),bi(t,i),n=xh(e,t,n,r,s,i),r=Th(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xn(e,t,i)):(ce&&r&&fh(t),t.flags|=1,Qe(e,t,n,i),t.child)}function Cg(e,t,n,r,i){if(ot(n)){var s=!0;ol(t)}else s=!1;if(bi(t,i),t.stateNode===null)La(e,t),vw(t,n,r),Ld(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=At(c):(c=ot(n)?Mr:qe.current,c=Mi(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&yg(t,o,r,c),Mn=!1;var f=t.memoizedState;o.state=f,dl(t,r,o,i),l=t.memoizedState,a!==r||f!==l||st.current||Mn?(typeof u=="function"&&(Od(t,n,u,r),l=t.memoizedState),(a=Mn||gg(t,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,X0(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:jt(t.type,a),o.props=c,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=At(l):(l=ot(n)?Mr:qe.current,l=Mi(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&yg(t,o,r,l),Mn=!1,f=t.memoizedState,o.state=f,dl(t,r,o,i);var g=t.memoizedState;a!==d||f!==g||st.current||Mn?(typeof h=="function"&&(Od(t,n,h,r),g=t.memoizedState),(c=Mn||gg(t,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return jd(e,t,n,r,s,i)}function jd(e,t,n,r,i,s){Cw(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&lg(t,n,!1),xn(e,t,s);r=t.stateNode,GI.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ji(t,e.child,null,s),t.child=ji(t,null,a,s)):Qe(e,t,a,s),t.memoizedState=r.state,i&&lg(t,n,!0),t.child}function xw(e){var t=e.stateNode;t.pendingContext?ag(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ag(e,t.context,!1),wh(e,t.containerInfo)}function xg(e,t,n,r,i){return Fi(),ph(i),t.flags|=256,Qe(e,t,n,r),t.child}var Bd={dehydrated:null,treeContext:null,retryLane:0};function Vd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tw(e,t,n){var r=t.pendingProps,i=fe.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ie(fe,i&1),e===null)return Pd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pc(o,r,0,null),e=Dr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Vd(n),t.memoizedState=Bd,e):bh(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KI(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qn(a,s):(s=Dr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Vd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Bd,r}return s=e.child,e=s.sibling,r=Qn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bh(e,t){return t=pc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pa(e,t,n,r){return r!==null&&ph(r),ji(t,e.child,null,n),e=bh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KI(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Su(Error(N(422))),pa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=pc({mode:"visible",children:r.children},i,0,null),s=Dr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ji(t,e.child,null,o),t.child.memoizedState=Vd(o),t.memoizedState=Bd,s);if(!(t.mode&1))return pa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Su(s,r,void 0),pa(e,t,o,r)}if(a=(o&e.childLanes)!==0,rt||a){if(r=Me,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cn(e,i),Ht(r,e,i,-1))}return Oh(),r=Su(Error(N(421))),pa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ok.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ft=Gn(i.nextSibling),pt=t,ce=!0,Vt=null,e!==null&&(It[kt++]=gn,It[kt++]=yn,It[kt++]=Fr,gn=e.id,yn=e.overflow,Fr=t),t=bh(t,r.children),t.flags|=4096,t)}function Tg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Dd(e.return,t,n)}function Eu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Iw(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Qe(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tg(e,n,t);else if(e.tag===19)Tg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(fe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&fl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Eu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Eu(t,!0,n,null,s);break;case"together":Eu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function La(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qI(e,t,n){switch(t.tag){case 3:xw(t),Fi();break;case 5:J0(t);break;case 1:ot(t.type)&&ol(t);break;case 4:wh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ie(cl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?Tw(e,t,n):(ie(fe,fe.current&1),e=xn(e,t,n),e!==null?e.sibling:null);ie(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Iw(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Ew(e,t,n)}return xn(e,t,n)}var kw,Ud,bw,Nw;kw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ud=function(){};bw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,kr(nn.current);var s=null;switch(n){case"input":i=cd(e,i),r=cd(e,r),s=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),s=[];break;case"textarea":i=fd(e,i),r=fd(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=il)}pd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Js.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Js.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&se("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Nw=function(e,t,n,r){n!==r&&(t.flags|=4)};function gs(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function YI(e,t,n){var r=t.pendingProps;switch(hh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return ot(t.type)&&sl(),$e(t),null;case 3:return r=t.stateNode,Bi(),ae(st),ae(qe),Eh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(Yd(Vt),Vt=null))),Ud(e,t),$e(t),null;case 5:Sh(t);var i=kr(uo.current);if(n=t.type,e!==null&&t.stateNode!=null)bw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return $e(t),null}if(e=kr(nn.current),fa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[en]=t,r[lo]=s,e=(t.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(i=0;i<Rs.length;i++)se(Rs[i],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":Om(r,s),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},se("invalid",r);break;case"textarea":Mm(r,s),se("invalid",r)}pd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&da(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&da(r.textContent,a,e),i=["children",""+a]):Js.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&se("scroll",r)}switch(n){case"input":ra(r),Lm(r,s,!0);break;case"textarea":ra(r),Fm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=il)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=r0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[en]=t,e[lo]=r,kw(e,t,!1,!1),t.stateNode=e;e:{switch(o=md(n,r),n){case"dialog":se("cancel",e),se("close",e),i=r;break;case"iframe":case"object":case"embed":se("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rs.length;i++)se(Rs[i],e);i=r;break;case"source":se("error",e),i=r;break;case"img":case"image":case"link":se("error",e),se("load",e),i=r;break;case"details":se("toggle",e),i=r;break;case"input":Om(e,r),i=cd(e,r),se("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),se("invalid",e);break;case"textarea":Mm(e,r),i=fd(e,r),se("invalid",e);break;default:i=r}pd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?o0(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&i0(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zs(e,l):typeof l=="number"&&Zs(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Js.hasOwnProperty(s)?l!=null&&s==="onScroll"&&se("scroll",e):l!=null&&Jf(e,s,l,o))}switch(n){case"input":ra(e),Lm(e,r,!1);break;case"textarea":ra(e),Fm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?xi(e,!!r.multiple,s,!1):r.defaultValue!=null&&xi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)Nw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=kr(uo.current),kr(nn.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(s=r.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:da(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&da(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return $e(t),null;case 13:if(ae(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&ft!==null&&t.mode&1&&!(t.flags&128))K0(),Fi(),t.flags|=98560,s=!1;else if(s=fa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(N(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[en]=t}else Fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),s=!1}else Vt!==null&&(Yd(Vt),Vt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Ne===0&&(Ne=3):Oh())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return Bi(),Ud(e,t),e===null&&oo(t.stateNode.containerInfo),$e(t),null;case 10:return yh(t.type._context),$e(t),null;case 17:return ot(t.type)&&sl(),$e(t),null;case 19:if(ae(fe),s=t.memoizedState,s===null)return $e(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)gs(s,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=fl(e),o!==null){for(t.flags|=128,gs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(fe,fe.current&1|2),t.child}e=e.sibling}s.tail!==null&&we()>Ui&&(t.flags|=128,r=!0,gs(s,!1),t.lanes=4194304)}else{if(!r)if(e=fl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ce)return $e(t),null}else 2*we()-s.renderingStartTime>Ui&&n!==1073741824&&(t.flags|=128,r=!0,gs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=we(),t.sibling=null,n=fe.current,ie(fe,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return Dh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dt&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function QI(e,t){switch(hh(t),t.tag){case 1:return ot(t.type)&&sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bi(),ae(st),ae(qe),Eh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sh(t),null;case 13:if(ae(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(fe),null;case 4:return Bi(),null;case 10:return yh(t.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var ma=!1,He=!1,XI=typeof WeakSet=="function"?WeakSet:Set,D=null;function pi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(e,t,r)}else n.current=null}function zd(e,t,n){try{n()}catch(r){ve(e,t,r)}}var Ig=!1;function JI(e,t){if(Td=tl,e=O0(),dh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Id={focusedElem:e,selectionRange:n},tl=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,S=g.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:jt(t.type,_),S);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){ve(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return g=Ig,Ig=!1,g}function Vs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&zd(t,n,s)}i=i.next}while(i!==r)}}function fc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $d(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rw(e){var t=e.alternate;t!==null&&(e.alternate=null,Rw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[lo],delete t[Nd],delete t[OI],delete t[LI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Aw(e){return e.tag===5||e.tag===3||e.tag===4}function kg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Aw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=il));else if(r!==4&&(e=e.child,e!==null))for(Wd(e,t,n),e=e.sibling;e!==null;)Wd(e,t,n),e=e.sibling}function Hd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hd(e,t,n),e=e.sibling;e!==null;)Hd(e,t,n),e=e.sibling}var Fe=null,Bt=!1;function Dn(e,t,n){for(n=n.child;n!==null;)Pw(e,t,n),n=n.sibling}function Pw(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ic,n)}catch{}switch(n.tag){case 5:He||pi(n,t);case 6:var r=Fe,i=Bt;Fe=null,Dn(e,t,n),Fe=r,Bt=i,Fe!==null&&(Bt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Bt?(e=Fe,n=n.stateNode,e.nodeType===8?mu(e.parentNode,n):e.nodeType===1&&mu(e,n),ro(e)):mu(Fe,n.stateNode));break;case 4:r=Fe,i=Bt,Fe=n.stateNode.containerInfo,Bt=!0,Dn(e,t,n),Fe=r,Bt=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zd(n,t,o),i=i.next}while(i!==r)}Dn(e,t,n);break;case 1:if(!He&&(pi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ve(n,t,a)}Dn(e,t,n);break;case 21:Dn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Dn(e,t,n),He=r):Dn(e,t,n);break;default:Dn(e,t,n)}}function bg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new XI),t.forEach(function(r){var i=ak.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Bt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Bt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Bt=!0;break e}a=a.return}if(Fe===null)throw Error(N(160));Pw(s,o,i),Fe=null,Bt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ve(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dw(t,e),t=t.sibling}function Dw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Xt(e),r&4){try{Vs(3,e,e.return),fc(3,e)}catch(_){ve(e,e.return,_)}try{Vs(5,e,e.return)}catch(_){ve(e,e.return,_)}}break;case 1:Mt(t,e),Xt(e),r&512&&n!==null&&pi(n,n.return);break;case 5:if(Mt(t,e),Xt(e),r&512&&n!==null&&pi(n,n.return),e.flags&32){var i=e.stateNode;try{Zs(i,"")}catch(_){ve(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&t0(i,s),md(a,o);var c=md(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?o0(i,d):u==="dangerouslySetInnerHTML"?i0(i,d):u==="children"?Zs(i,d):Jf(i,u,d,c)}switch(a){case"input":ud(i,s);break;case"textarea":n0(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?xi(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?xi(i,!!s.multiple,s.defaultValue,!0):xi(i,!!s.multiple,s.multiple?[]:"",!1))}i[lo]=s}catch(_){ve(e,e.return,_)}}break;case 6:if(Mt(t,e),Xt(e),r&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){ve(e,e.return,_)}}break;case 3:if(Mt(t,e),Xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ro(t.containerInfo)}catch(_){ve(e,e.return,_)}break;case 4:Mt(t,e),Xt(e);break;case 13:Mt(t,e),Xt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ah=we())),r&4&&bg(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(He=(c=He)||u,Mt(t,e),He=c):Mt(t,e),Xt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(D=e,u=e.child;u!==null;){for(d=D=u;D!==null;){switch(f=D,h=f.child,f.tag){case 0:case 11:case 14:case 15:Vs(4,f,f.return);break;case 1:pi(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){ve(r,n,_)}}break;case 5:pi(f,f.return);break;case 22:if(f.memoizedState!==null){Rg(d);continue}}h!==null?(h.return=f,D=h):Rg(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=s0("display",o))}catch(_){ve(e,e.return,_)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){ve(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Mt(t,e),Xt(e),r&4&&bg(e);break;case 21:break;default:Mt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Aw(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zs(i,""),r.flags&=-33);var s=kg(e);Hd(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kg(e);Wd(e,a,o);break;default:throw Error(N(161))}}catch(l){ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZI(e,t,n){D=e,Ow(e)}function Ow(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var i=D,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ma;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||He;a=ma;var c=He;if(ma=o,(He=l)&&!c)for(D=i;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Ag(i):l!==null?(l.return=o,D=l):Ag(i);for(;s!==null;)D=s,Ow(s),s=s.sibling;D=i,ma=a,He=c}Ng(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,D=s):Ng(e)}}function Ng(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||fc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&hg(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hg(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ro(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}He||t.flags&512&&$d(t)}catch(f){ve(t,t.return,f)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Rg(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Ag(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fc(4,t)}catch(l){ve(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ve(t,i,l)}}var s=t.return;try{$d(t)}catch(l){ve(t,s,l)}break;case 5:var o=t.return;try{$d(t)}catch(l){ve(t,o,l)}}}catch(l){ve(t,t.return,l)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var ek=Math.ceil,ml=Rn.ReactCurrentDispatcher,Nh=Rn.ReactCurrentOwner,Nt=Rn.ReactCurrentBatchConfig,q=0,Me=null,Ee=null,Ve=0,dt=0,mi=ur(0),Ne=0,mo=null,Br=0,hc=0,Rh=0,Us=null,nt=null,Ah=0,Ui=1/0,pn=null,gl=!1,Gd=null,qn=null,ga=!1,Un=null,yl=0,zs=0,Kd=null,Ma=-1,Fa=0;function Je(){return q&6?we():Ma!==-1?Ma:Ma=we()}function Yn(e){return e.mode&1?q&2&&Ve!==0?Ve&-Ve:FI.transition!==null?(Fa===0&&(Fa=v0()),Fa):(e=Z,e!==0||(e=window.event,e=e===void 0?16:T0(e.type)),e):1}function Ht(e,t,n,r){if(50<zs)throw zs=0,Kd=null,Error(N(185));Oo(e,n,r),(!(q&2)||e!==Me)&&(e===Me&&(!(q&2)&&(hc|=n),Ne===4&&jn(e,Ve)),at(e,r),n===1&&q===0&&!(t.mode&1)&&(Ui=we()+500,cc&&dr()))}function at(e,t){var n=e.callbackNode;F1(e,t);var r=el(e,e===Me?Ve:0);if(r===0)n!==null&&Vm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Vm(n),t===1)e.tag===0?MI(Pg.bind(null,e)):W0(Pg.bind(null,e)),PI(function(){!(q&6)&&dr()}),n=null;else{switch(_0(r)){case 1:n=rh;break;case 4:n=g0;break;case 16:n=Za;break;case 536870912:n=y0;break;default:n=Za}n=zw(n,Lw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lw(e,t){if(Ma=-1,Fa=0,q&6)throw Error(N(327));var n=e.callbackNode;if(Ni()&&e.callbackNode!==n)return null;var r=el(e,e===Me?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vl(e,r);else{t=r;var i=q;q|=2;var s=Fw();(Me!==e||Ve!==t)&&(pn=null,Ui=we()+500,Pr(e,t));do try{rk();break}catch(a){Mw(e,a)}while(1);gh(),ml.current=s,q=i,Ee!==null?t=0:(Me=null,Ve=0,t=Ne)}if(t!==0){if(t===2&&(i=wd(e),i!==0&&(r=i,t=qd(e,i))),t===1)throw n=mo,Pr(e,0),jn(e,r),at(e,we()),n;if(t===6)jn(e,r);else{if(i=e.current.alternate,!(r&30)&&!tk(i)&&(t=vl(e,r),t===2&&(s=wd(e),s!==0&&(r=s,t=qd(e,s))),t===1))throw n=mo,Pr(e,0),jn(e,r),at(e,we()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:wr(e,nt,pn);break;case 3:if(jn(e,r),(r&130023424)===r&&(t=Ah+500-we(),10<t)){if(el(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bd(wr.bind(null,e,nt,pn),t);break}wr(e,nt,pn);break;case 4:if(jn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Wt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ek(r/1960))-r,10<r){e.timeoutHandle=bd(wr.bind(null,e,nt,pn),r);break}wr(e,nt,pn);break;case 5:wr(e,nt,pn);break;default:throw Error(N(329))}}}return at(e,we()),e.callbackNode===n?Lw.bind(null,e):null}function qd(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=vl(e,t),e!==2&&(t=nt,nt=n,t!==null&&Yd(t)),e}function Yd(e){nt===null?nt=e:nt.push.apply(nt,e)}function tk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~Rh,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function Pg(e){if(q&6)throw Error(N(327));Ni();var t=el(e,0);if(!(t&1))return at(e,we()),null;var n=vl(e,t);if(e.tag!==0&&n===2){var r=wd(e);r!==0&&(t=r,n=qd(e,r))}if(n===1)throw n=mo,Pr(e,0),jn(e,t),at(e,we()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wr(e,nt,pn),at(e,we()),null}function Ph(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(Ui=we()+500,cc&&dr())}}function Vr(e){Un!==null&&Un.tag===0&&!(q&6)&&Ni();var t=q;q|=1;var n=Nt.transition,r=Z;try{if(Nt.transition=null,Z=1,e)return e()}finally{Z=r,Nt.transition=n,q=t,!(q&6)&&dr()}}function Dh(){dt=mi.current,ae(mi)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,AI(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(hh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:Bi(),ae(st),ae(qe),Eh();break;case 5:Sh(r);break;case 4:Bi();break;case 13:ae(fe);break;case 19:ae(fe);break;case 10:yh(r.type._context);break;case 22:case 23:Dh()}n=n.return}if(Me=e,Ee=e=Qn(e.current,null),Ve=dt=t,Ne=0,mo=null,Rh=hc=Br=0,nt=Us=null,Ir!==null){for(t=0;t<Ir.length;t++)if(n=Ir[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ir=null}return e}function Mw(e,t){do{var n=Ee;try{if(gh(),Da.current=pl,hl){for(var r=pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hl=!1}if(jr=0,De=Ie=pe=null,Bs=!1,fo=0,Nh.current=null,n===null||n.return===null){Ne=1,mo=t,Ee=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Ve,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=_g(o);if(h!==null){h.flags&=-257,wg(h,o,a,s,t),h.mode&1&&vg(s,c,t),t=h,l=c;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){vg(s,c,t),Oh();break e}l=Error(N(426))}}else if(ce&&a.mode&1){var S=_g(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),wg(S,o,a,s,t),ph(Vi(l,a));break e}}s=l=Vi(l,a),Ne!==4&&(Ne=2),Us===null?Us=[s]:Us.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=_w(s,l,t);fg(s,m);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qn===null||!qn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=ww(s,a,t);fg(s,E);break e}}s=s.return}while(s!==null)}Bw(n)}catch(C){t=C,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(1)}function Fw(){var e=ml.current;return ml.current=pl,e===null?pl:e}function Oh(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Me===null||!(Br&268435455)&&!(hc&268435455)||jn(Me,Ve)}function vl(e,t){var n=q;q|=2;var r=Fw();(Me!==e||Ve!==t)&&(pn=null,Pr(e,t));do try{nk();break}catch(i){Mw(e,i)}while(1);if(gh(),q=n,ml.current=r,Ee!==null)throw Error(N(261));return Me=null,Ve=0,Ne}function nk(){for(;Ee!==null;)jw(Ee)}function rk(){for(;Ee!==null&&!b1();)jw(Ee)}function jw(e){var t=Uw(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?Bw(e):Ee=t,Nh.current=null}function Bw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=QI(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,Ee=null;return}}else if(n=YI(n,t,dt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ne===0&&(Ne=5)}function wr(e,t,n){var r=Z,i=Nt.transition;try{Nt.transition=null,Z=1,ik(e,t,n,r)}finally{Nt.transition=i,Z=r}return null}function ik(e,t,n,r){do Ni();while(Un!==null);if(q&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(j1(e,s),e===Me&&(Ee=Me=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ga||(ga=!0,zw(Za,function(){return Ni(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nt.transition,Nt.transition=null;var o=Z;Z=1;var a=q;q|=4,Nh.current=null,JI(e,n),Dw(n,e),xI(Id),tl=!!Td,Id=Td=null,e.current=n,ZI(n),N1(),q=a,Z=o,Nt.transition=s}else e.current=n;if(ga&&(ga=!1,Un=e,yl=i),s=e.pendingLanes,s===0&&(qn=null),P1(n.stateNode),at(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gl)throw gl=!1,e=Gd,Gd=null,e;return yl&1&&e.tag!==0&&Ni(),s=e.pendingLanes,s&1?e===Kd?zs++:(zs=0,Kd=e):zs=0,dr(),null}function Ni(){if(Un!==null){var e=_0(yl),t=Nt.transition,n=Z;try{if(Nt.transition=null,Z=16>e?16:e,Un===null)var r=!1;else{if(e=Un,Un=null,yl=0,q&6)throw Error(N(331));var i=q;for(q|=4,D=e.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:Vs(8,u,s)}var d=u.child;if(d!==null)d.return=u,D=d;else for(;D!==null;){u=D;var f=u.sibling,h=u.return;if(Rw(u),u===c){D=null;break}if(f!==null){f.return=h,D=f;break}D=h}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vs(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,D=m;break e}D=s.return}}var p=e.current;for(D=p;D!==null;){o=D;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,D=y;else e:for(o=p;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fc(9,a)}}catch(C){ve(a,a.return,C)}if(a===o){D=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,D=E;break e}D=a.return}}if(q=i,dr(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ic,e)}catch{}r=!0}return r}finally{Z=n,Nt.transition=t}}return!1}function Dg(e,t,n){t=Vi(n,t),t=_w(e,t,1),e=Kn(e,t,1),t=Je(),e!==null&&(Oo(e,1,t),at(e,t))}function ve(e,t,n){if(e.tag===3)Dg(e,e,n);else for(;t!==null;){if(t.tag===3){Dg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qn===null||!qn.has(r))){e=Vi(n,e),e=ww(t,e,1),t=Kn(t,e,1),e=Je(),t!==null&&(Oo(t,1,e),at(t,e));break}}t=t.return}}function sk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Ve&n)===n&&(Ne===4||Ne===3&&(Ve&130023424)===Ve&&500>we()-Ah?Pr(e,0):Rh|=n),at(e,t)}function Vw(e,t){t===0&&(e.mode&1?(t=oa,oa<<=1,!(oa&130023424)&&(oa=4194304)):t=1);var n=Je();e=Cn(e,t),e!==null&&(Oo(e,t,n),at(e,n))}function ok(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vw(e,n)}function ak(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Vw(e,n)}var Uw;Uw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,qI(e,t,n);rt=!!(e.flags&131072)}else rt=!1,ce&&t.flags&1048576&&H0(t,ll,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;La(e,t),e=t.pendingProps;var i=Mi(t,qe.current);bi(t,n),i=xh(null,t,r,e,i,n);var s=Th();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(s=!0,ol(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_h(t),i.updater=dc,t.stateNode=i,i._reactInternals=t,Ld(t,r,e,n),t=jd(null,t,r,!0,s,n)):(t.tag=0,ce&&s&&fh(t),Qe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(La(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ck(r),e=jt(r,e),i){case 0:t=Fd(null,t,r,e,n);break e;case 1:t=Cg(null,t,r,e,n);break e;case 11:t=Sg(null,t,r,e,n);break e;case 14:t=Eg(null,t,r,jt(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),Fd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),Cg(e,t,r,i,n);case 3:e:{if(xw(t),e===null)throw Error(N(387));r=t.pendingProps,s=t.memoizedState,i=s.element,X0(e,t),dl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Vi(Error(N(423)),t),t=xg(e,t,r,n,i);break e}else if(r!==i){i=Vi(Error(N(424)),t),t=xg(e,t,r,n,i);break e}else for(ft=Gn(t.stateNode.containerInfo.firstChild),pt=t,ce=!0,Vt=null,n=Y0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fi(),r===i){t=xn(e,t,n);break e}Qe(e,t,r,n)}t=t.child}return t;case 5:return J0(t),e===null&&Pd(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,kd(r,i)?o=null:s!==null&&kd(r,s)&&(t.flags|=32),Cw(e,t),Qe(e,t,o,n),t.child;case 6:return e===null&&Pd(t),null;case 13:return Tw(e,t,n);case 4:return wh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ji(t,null,r,n):Qe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),Sg(e,t,r,i,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ie(cl,r._currentValue),r._currentValue=o,s!==null)if(qt(s.value,o)){if(s.children===i.children&&!st.current){t=xn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_n(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dd(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dd(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,bi(t,n),i=At(i),r=r(i),t.flags|=1,Qe(e,t,r,n),t.child;case 14:return r=t.type,i=jt(r,t.pendingProps),i=jt(r.type,i),Eg(e,t,r,i,n);case 15:return Sw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),La(e,t),t.tag=1,ot(r)?(e=!0,ol(t)):e=!1,bi(t,n),vw(t,r,i),Ld(t,r,i,n),jd(null,t,r,!0,e,n);case 19:return Iw(e,t,n);case 22:return Ew(e,t,n)}throw Error(N(156,t.tag))};function zw(e,t){return m0(e,t)}function lk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,n,r){return new lk(e,t,n,r)}function Lh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ck(e){if(typeof e=="function")return Lh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eh)return 11;if(e===th)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ja(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Lh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case si:return Dr(n.children,i,s,t);case Zf:o=8,i|=8;break;case sd:return e=bt(12,n,t,i|2),e.elementType=sd,e.lanes=s,e;case od:return e=bt(13,n,t,i),e.elementType=od,e.lanes=s,e;case ad:return e=bt(19,n,t,i),e.elementType=ad,e.lanes=s,e;case J_:return pc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q_:o=10;break e;case X_:o=9;break e;case eh:o=11;break e;case th:o=14;break e;case Ln:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=bt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Dr(e,t,n,r){return e=bt(7,e,r,t),e.lanes=n,e}function pc(e,t,n,r){return e=bt(22,e,r,t),e.elementType=J_,e.lanes=n,e.stateNode={isHidden:!1},e}function Cu(e,t,n){return e=bt(6,e,null,t),e.lanes=n,e}function xu(e,t,n){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uk(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iu(0),this.expirationTimes=iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mh(e,t,n,r,i,s,o,a,l){return e=new uk(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=bt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_h(s),e}function dk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $w(e){if(!e)return nr;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(ot(n))return $0(e,n,t)}return t}function Ww(e,t,n,r,i,s,o,a,l){return e=Mh(n,r,!0,e,i,s,o,a,l),e.context=$w(null),n=e.current,r=Je(),i=Yn(n),s=_n(r,i),s.callback=t??null,Kn(n,s,i),e.current.lanes=i,Oo(e,i,r),at(e,r),e}function mc(e,t,n,r){var i=t.current,s=Je(),o=Yn(i);return n=$w(n),t.context===null?t.context=n:t.pendingContext=n,t=_n(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(i,t,o),e!==null&&(Ht(e,i,o,s),Pa(e,i,o)),o}function _l(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Og(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fh(e,t){Og(e,t),(e=e.alternate)&&Og(e,t)}function fk(){return null}var Hw=typeof reportError=="function"?reportError:function(e){console.error(e)};function jh(e){this._internalRoot=e}gc.prototype.render=jh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));mc(e,t,null,null)};gc.prototype.unmount=jh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vr(function(){mc(null,e,null,null)}),t[En]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=E0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fn.length&&t!==0&&t<Fn[n].priority;n++);Fn.splice(n,0,e),n===0&&x0(e)}};function Bh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lg(){}function hk(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=_l(o);s.call(c)}}var o=Ww(t,r,e,0,null,!1,!1,"",Lg);return e._reactRootContainer=o,e[En]=o.current,oo(e.nodeType===8?e.parentNode:e),Vr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=_l(l);a.call(c)}}var l=Mh(e,0,!1,null,null,!1,!1,"",Lg);return e._reactRootContainer=l,e[En]=l.current,oo(e.nodeType===8?e.parentNode:e),Vr(function(){mc(t,l,n,r)}),l}function vc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=_l(o);a.call(l)}}mc(t,o,e,i)}else o=hk(n,t,e,i,r);return _l(o)}w0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ns(t.pendingLanes);n!==0&&(ih(t,n|1),at(t,we()),!(q&6)&&(Ui=we()+500,dr()))}break;case 13:Vr(function(){var r=Cn(e,1);if(r!==null){var i=Je();Ht(r,e,1,i)}}),Fh(e,1)}};sh=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=Je();Ht(t,e,134217728,n)}Fh(e,134217728)}};S0=function(e){if(e.tag===13){var t=Yn(e),n=Cn(e,t);if(n!==null){var r=Je();Ht(n,e,t,r)}Fh(e,t)}};E0=function(){return Z};C0=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};yd=function(e,t,n){switch(t){case"input":if(ud(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=lc(r);if(!i)throw Error(N(90));e0(r),ud(r,i)}}}break;case"textarea":n0(e,n);break;case"select":t=n.value,t!=null&&xi(e,!!n.multiple,t,!1)}};c0=Ph;u0=Vr;var pk={usingClientEntryPoint:!1,Events:[Mo,ci,lc,a0,l0,Ph]},ys={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mk={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h0(e),e===null?null:e.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||fk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ya.isDisabled&&ya.supportsFiber)try{ic=ya.inject(mk),tn=ya}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pk;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bh(t))throw Error(N(200));return dk(e,t,null,n)};St.createRoot=function(e,t){if(!Bh(e))throw Error(N(299));var n=!1,r="",i=Hw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mh(e,1,!1,null,null,n,!1,r,i),e[En]=t.current,oo(e.nodeType===8?e.parentNode:e),new jh(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=h0(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Vr(e)};St.hydrate=function(e,t,n){if(!yc(t))throw Error(N(200));return vc(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!Bh(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Hw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ww(t,null,e,1,n??null,i,!1,s,o),e[En]=t.current,oo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new gc(t)};St.render=function(e,t,n){if(!yc(t))throw Error(N(200));return vc(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!yc(e))throw Error(N(40));return e._reactRootContainer?(Vr(function(){vc(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};St.unstable_batchedUpdates=Ph;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yc(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return vc(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function Gw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gw)}catch(e){console.error(e)}}Gw(),G_.exports=St;var Kw=G_.exports,Mg=Kw;rd.createRoot=Mg.createRoot,rd.hydrateRoot=Mg.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(this,arguments)}var zn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zn||(zn={}));const Fg="popstate";function gk(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Qd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yw(i)}return vk(t,n,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yk(){return Math.random().toString(36).substr(2,8)}function jg(e,t){return{usr:e.state,key:e.key,idx:t}}function Qd(e,t,n,r){return n===void 0&&(n=null),wl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_c(t):t,{state:n,key:t&&t.key||r||yk()})}function Yw(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _c(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vk(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(wl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=zn.Pop;let S=u(),m=S==null?null:S-c;c=S,l&&l({action:a,location:_.location,delta:m})}function f(S,m){a=zn.Push;let p=Qd(_.location,S,m);n&&n(p,S),c=u()+1;let y=jg(p,c),E=_.createHref(p);try{o.pushState(y,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(E)}s&&l&&l({action:a,location:_.location,delta:1})}function h(S,m){a=zn.Replace;let p=Qd(_.location,S,m);n&&n(p,S),c=u();let y=jg(p,c),E=_.createHref(p);o.replaceState(y,"",E),s&&l&&l({action:a,location:_.location,delta:0})}function g(S){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof S=="string"?S:Yw(S);return p=p.replace(/ $/,"%20"),ct(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let _={get action(){return a},get location(){return e(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Fg,d),l=S,()=>{i.removeEventListener(Fg,d),l=null}},createHref(S){return t(i,S)},createURL:g,encodeLocation(S){let m=g(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:h,go(S){return o.go(S)}};return _}var Bg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bg||(Bg={}));function _k(e,t,n){return n===void 0&&(n="/"),wk(e,t,n,!1)}function wk(e,t,n,r){let i=typeof t=="string"?_c(t):t,s=Jw(i.pathname||"/",n);if(s==null)return null;let o=Qw(e);Sk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Pk(s);a=Rk(o[l],c,r)}return a}function Qw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ri([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Qw(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:bk(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Xw(s.path))i(s,o,l)}),t}function Xw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Xw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Sk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Nk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ek=/^:[\w-]+$/,Ck=3,xk=2,Tk=1,Ik=10,kk=-2,Vg=e=>e==="*";function bk(e,t){let n=e.split("/"),r=n.length;return n.some(Vg)&&(r+=kk),t&&(r+=xk),n.filter(i=>!Vg(i)).reduce((i,s)=>i+(Ek.test(s)?Ck:s===""?Tk:Ik),r)}function Nk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Rk(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=Ug({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Ug({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ri([s,d.pathname]),pathnameBase:Dk(Ri([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ri([s,d.pathnameBase]))}return o}function Ug(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ak(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let _=a[d]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[d];return h&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function Ak(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Pk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Ri=e=>e.join("/").replace(/\/\/+/g,"/"),Dk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function Ok(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zw=["post","put","patch","delete"];new Set(Zw);const Lk=["get",...Zw];new Set(Lk);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(this,arguments)}const Mk=w.createContext(null),Fk=w.createContext(null),eS=w.createContext(null),wc=w.createContext(null),Sc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),tS=w.createContext(null);function Vh(){return w.useContext(wc)!=null}function nS(){return Vh()||ct(!1),w.useContext(wc).location}function jk(e,t){return Bk(e,t)}function Bk(e,t,n,r){Vh()||ct(!1);let{navigator:i}=w.useContext(eS),{matches:s}=w.useContext(Sc),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=nS(),u;if(t){var d;let S=typeof t=="string"?_c(t):t;l==="/"||(d=S.pathname)!=null&&d.startsWith(l)||ct(!1),u=S}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let g=_k(e,{pathname:h}),_=Wk(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Ri([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Ri([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return t&&_?w.createElement(wc.Provider,{value:{location:Sl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:zn.Pop}},_):_}function Vk(){let e=qk(),t=Ok(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}const Uk=w.createElement(Vk,null);class zk extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Sc.Provider,{value:this.props.routeContext},w.createElement(tS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $k(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(Mk);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Sc.Provider,{value:t},r)}function Wk(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||ct(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let h,g=!1,_=null,S=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||Uk,l&&(c<0&&f===0?(Yk("route-fallback",!1),g=!0,S=null):c===f&&(g=!0,S=d.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let y;return h?y=_:g?y=S:d.route.Component?y=w.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=u,w.createElement($k,{match:d,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(zk,{location:n.location,revalidation:n.revalidation,component:_,error:h,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Xd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xd||{});function Hk(e){let t=w.useContext(Fk);return t||ct(!1),t}function Gk(e){let t=w.useContext(Sc);return t||ct(!1),t}function Kk(e){let t=Gk(),n=t.matches[t.matches.length-1];return n.route.id||ct(!1),n.route.id}function qk(){var e;let t=w.useContext(tS),n=Hk(Xd.UseRouteError),r=Kk(Xd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}const zg={};function Yk(e,t,n){!t&&!zg[e]&&(zg[e]=!0)}const $g={};function Qk(e,t){$g[t]||($g[t]=!0,console.warn(t))}const ni=(e,t,n)=>Qk(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Xk(e,t){e!=null&&e.v7_startTransition||ni("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&(!t||!t.v7_relativeSplatPath)&&ni("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||ni("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||ni("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||ni("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||ni("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function rS(e){ct(!1)}function Jk(e){let{basename:t="/",children:n=null,location:r,navigationType:i=zn.Pop,navigator:s,static:o=!1,future:a}=e;Vh()&&ct(!1);let l=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:s,static:o,future:Sl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=_c(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:g="default"}=r,_=w.useMemo(()=>{let S=Jw(u,l);return S==null?null:{location:{pathname:S,search:d,hash:f,state:h,key:g},navigationType:i}},[l,u,d,f,h,g,i]);return _==null?null:w.createElement(eS.Provider,{value:c},w.createElement(wc.Provider,{children:n,value:_}))}function Zk(e){let{children:t,location:n}=e;return jk(Jd(t),n)}new Promise(()=>{});function Jd(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,Jd(r.props.children,s));return}r.type!==rS&&ct(!1),!r.props.index||!r.props.children||ct(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const eb="6";try{window.__reactRouterVersion=eb}catch{}const tb="startTransition",Wg=s1[tb];function nb(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=gk({window:i,v5Compat:!0}));let o=s.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=w.useCallback(d=>{c&&Wg?Wg(()=>l(d)):l(d)},[l,c]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.useEffect(()=>Xk(r),[r]),w.createElement(Jk,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Hg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hg||(Hg={}));var Gg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gg||(Gg={}));const rb="/assets/tiger-eba3509c.svg",ib="/assets/buffalo-4b8f6867.svg",sb="/assets/chicken-e2616f29.svg",ob="/assets/dragon-0a5d3bd9.svg",ab="/assets/goat-07b22d99.svg",lb="/assets/snake-abacc38b.svg",cb="/assets/horse-bd08a26a.svg",ub="/assets/pig-63de21f0.svg",zi="/assets/icoin-188c0f53.svg",iS="/assets/arrow-white-d1d11646.svg";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(e,t){if(!e)throw ts(t)},ts=function(e){return new Error("Firebase Database ("+sS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},db=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Uh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):db(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new fb;const f=s<<2|a>>4;if(r.push(f),c!==64){const h=a<<4&240|c>>2;if(r.push(h),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aS=function(e){const t=oS(e);return Uh.encodeByteArray(t,!0)},El=function(e){return aS(e).replace(/\./g,"")},Zd=function(e){try{return Uh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(e){return lS(void 0,e)}function lS(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!pb(n)||(e[n]=lS(e[n],t[n]));return e}function pb(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=()=>mb().__FIREBASE_DEFAULTS__,yb=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vb=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Zd(e[1]);return t&&JSON.parse(t)},cS=()=>{try{return gb()||yb()||vb()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},_b=e=>{var t,n;return(n=(t=cS())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},uS=e=>{const t=_b(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},dS=()=>{var e;return(e=cS())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[El(JSON.stringify(n)),El(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sb())}function Eb(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hS(){return sS.NODE_ADMIN===!0}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function mS(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function xb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="FirebaseError";class fr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Tb,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Ib(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fr(i,a,r)}}function Ib(e,t){return e.replace(kb,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const kb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(e){return JSON.parse(e)}function ke(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=go(Zd(s[0])||""),n=go(Zd(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},bb=function(e){const t=gS(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Nb=function(e){const t=gS(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $i(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Kg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Cl(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function xl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(qg(s)&&qg(o)){if(!xl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function yS(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,A(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Cc=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=1e3,Ob=2,Lb=4*60*60*1e3,Mb=.5;function Yg(e,t=Db,n=Ob){const r=t*Math.pow(n,e),i=Math.round(Mb*r*(Math.random()-.5)*2);return Math.min(Lb,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(e){return e&&e._delegate?e._delegate:e}class ln{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new zh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Bb(t))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Sr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sr){return this.instances.has(t)}getOptions(t=Sr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jb(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Sr){return this.component?this.component.multipleInstances?t:Sr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jb(e){return e===Sr?void 0:e}function Bb(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Fb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ne||(ne={}));const Ub={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},zb=ne.INFO,$b={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Wb=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=$b[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $h{constructor(t){this.name=t,this._logLevel=zb,this._logHandler=Wb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ub[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const Hb=(e,t)=>t.some(n=>e instanceof n);let Qg,Xg;function Gb(){return Qg||(Qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kb(){return Xg||(Xg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,ef=new WeakMap,_S=new WeakMap,Tu=new WeakMap,Wh=new WeakMap;function qb(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Xn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&vS.set(n,e)}).catch(()=>{}),Wh.set(t,e),t}function Yb(e){if(ef.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});ef.set(e,t)}let tf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ef.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_S.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Qb(e){tf=e(tf)}function Xb(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Iu(this),t,...n);return _S.set(r,t.sort?t.sort():[t]),Xn(r)}:Kb().includes(e)?function(...t){return e.apply(Iu(this),t),Xn(vS.get(this))}:function(...t){return Xn(e.apply(Iu(this),t))}}function Jb(e){return typeof e=="function"?Xb(e):(e instanceof IDBTransaction&&Yb(e),Hb(e,Gb())?new Proxy(e,tf):e)}function Xn(e){if(e instanceof IDBRequest)return qb(e);if(Tu.has(e))return Tu.get(e);const t=Jb(e);return t!==e&&(Tu.set(e,t),Wh.set(t,e)),t}const Iu=e=>Wh.get(e);function wS(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Xn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xn(o.result),l.oldVersion,l.newVersion,Xn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Zb=["get","getKey","getAll","getAllKeys","count"],eN=["put","add","delete","clear"],ku=new Map;function Jg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ku.get(t))return ku.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=eN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Zb.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return ku.set(t,s),s}Qb(e=>({...e,get:(t,n,r)=>Jg(t,n)||e.get(t,n,r),has:(t,n)=>!!Jg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nN(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nf="@firebase/app",Zg="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new $h("@firebase/app"),rN="@firebase/app-compat",iN="@firebase/analytics-compat",sN="@firebase/analytics",oN="@firebase/app-check-compat",aN="@firebase/app-check",lN="@firebase/auth",cN="@firebase/auth-compat",uN="@firebase/database",dN="@firebase/data-connect",fN="@firebase/database-compat",hN="@firebase/functions",pN="@firebase/functions-compat",mN="@firebase/installations",gN="@firebase/installations-compat",yN="@firebase/messaging",vN="@firebase/messaging-compat",_N="@firebase/performance",wN="@firebase/performance-compat",SN="@firebase/remote-config",EN="@firebase/remote-config-compat",CN="@firebase/storage",xN="@firebase/storage-compat",TN="@firebase/firestore",IN="@firebase/vertexai-preview",kN="@firebase/firestore-compat",bN="firebase",NN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="[DEFAULT]",RN={[nf]:"fire-core",[rN]:"fire-core-compat",[sN]:"fire-analytics",[iN]:"fire-analytics-compat",[aN]:"fire-app-check",[oN]:"fire-app-check-compat",[lN]:"fire-auth",[cN]:"fire-auth-compat",[uN]:"fire-rtdb",[dN]:"fire-data-connect",[fN]:"fire-rtdb-compat",[hN]:"fire-fn",[pN]:"fire-fn-compat",[mN]:"fire-iid",[gN]:"fire-iid-compat",[yN]:"fire-fcm",[vN]:"fire-fcm-compat",[_N]:"fire-perf",[wN]:"fire-perf-compat",[SN]:"fire-rc",[EN]:"fire-rc-compat",[CN]:"fire-gcs",[xN]:"fire-gcs-compat",[TN]:"fire-fst",[kN]:"fire-fst-compat",[IN]:"fire-vertex","fire-js":"fire-js",[bN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new Map,AN=new Map,sf=new Map;function ey(e,t){try{e.container.addComponent(t)}catch(n){Tn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function In(e){const t=e.name;if(sf.has(t))return Tn.debug(`There were multiple attempts to register component ${t}.`),!1;sf.set(t,e);for(const n of Tl.values())ey(n,e);for(const n of AN.values())ey(n,e);return!0}function ns(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new Ec("app","Firebase",PN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=NN;function SS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:rf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Jn.create("bad-app-name",{appName:String(i)});if(n||(n=dS()),!n)throw Jn.create("no-options");const s=Tl.get(i);if(s){if(xl(n,s.options)&&xl(r,s.config))return s;throw Jn.create("duplicate-app",{appName:i})}const o=new Vb(i);for(const l of sf.values())o.addComponent(l);const a=new DN(n,r,o);return Tl.set(i,a),a}function Hh(e=rf){const t=Tl.get(e);if(!t&&e===rf&&dS())return SS();if(!t)throw Jn.create("no-app",{appName:e});return t}function Rt(e,t,n){var r;let i=(r=RN[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Tn.warn(a.join(" "));return}In(new ln(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="firebase-heartbeat-database",MN=1,yo="firebase-heartbeat-store";let bu=null;function ES(){return bu||(bu=wS(LN,MN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(yo)}catch(n){console.warn(n)}}}}).catch(e=>{throw Jn.create("idb-open",{originalErrorMessage:e.message})})),bu}async function FN(e){try{const n=(await ES()).transaction(yo),r=await n.objectStore(yo).get(CS(e));return await n.done,r}catch(t){if(t instanceof fr)Tn.warn(t.message);else{const n=Jn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Tn.warn(n.message)}}}async function ty(e,t){try{const r=(await ES()).transaction(yo,"readwrite");await r.objectStore(yo).put(t,CS(e)),await r.done}catch(n){if(n instanceof fr)Tn.warn(n.message);else{const r=Jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tn.warn(r.message)}}}function CS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=1024,BN=30*24*60*60*1e3;class VN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ny();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=BN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Tn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ny(),{heartbeatsToSend:r,unsentEntries:i}=UN(this._heartbeatsCache.heartbeats),s=El(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Tn.warn(n),""}}}function ny(){return new Date().toISOString().substring(0,10)}function UN(e,t=jN){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ry(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ry(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?mS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ty(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ty(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ry(e){return El(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e){In(new ln("platform-logger",t=>new tN(t),"PRIVATE")),In(new ln("heartbeat",t=>new VN(t),"PRIVATE")),Rt(nf,Zg,e),Rt(nf,Zg,"esm2017"),Rt("fire-js","")}$N("");const iy="@firebase/database",sy="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xS="";function WN(e){xS=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ke(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:go(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return An(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new HN(t)}}catch{}return new GN},br=TS("localStorage"),of=TS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new $h("@firebase/database"),KN=function(){let e=1;return function(){return e++}}(),IS=function(e){const t=Pb(e),n=new Ab;n.update(t);const r=n.digest();return Uh.encodeByteArray(r)},jo=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=jo.apply(null,r):typeof r=="object"?t+=ke(r):t+=r,t+=" "}return t};let Or=null,oy=!0;const qN=function(e,t){A(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ai.logLevel=ne.VERBOSE,Or=Ai.log.bind(Ai),t&&of.set("logging_enabled",!0)):typeof e=="function"?Or=e:(Or=null,of.remove("logging_enabled"))},Ge=function(...e){if(oy===!0&&(oy=!1,Or===null&&of.get("logging_enabled")===!0&&qN(!0)),Or){const t=jo.apply(null,e);Or(t)}},Bo=function(e){return function(...t){Ge(e,...t)}},af=function(...e){const t="FIREBASE INTERNAL ERROR: "+jo(...e);Ai.error(t)},kn=function(...e){const t=`FIREBASE FATAL ERROR: ${jo(...e)}`;throw Ai.error(t),new Error(t)},mt=function(...e){const t="FIREBASE WARNING: "+jo(...e);Ai.warn(t)},YN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kS=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},QN=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Wi="[MIN_NAME]",Ur="[MAX_NAME]",rs=function(e,t){if(e===t)return 0;if(e===Wi||t===Ur)return-1;if(t===Wi||e===Ur)return 1;{const n=ay(e),r=ay(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},XN=function(e,t){return e===t?0:e<t?-1:1},vs=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ke(t))},Gh=function(e){if(typeof e!="object"||e===null)return ke(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ke(t[r]),n+=":",n+=Gh(e[t[r]]);return n+="}",n},bS=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ut(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const NS=function(e){A(!kS(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,a,l;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},JN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function eR(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const tR=new RegExp("^-?(0*)\\d{1,10}$"),nR=-2147483648,rR=2147483647,ay=function(e){if(tR.test(e)){const t=Number(e);if(t>=nR&&t<=rR)return t}return null},Vo=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw mt("Exception was thrown by user callback.",n),t},Math.floor(0))}},iR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$s=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ge("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(t)}}class Pi{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Pi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="5",RS="v",AS="s",PS="r",DS="f",OS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LS="ls",MS="p",lf="ac",FS="websocket",jS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=br.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&br.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function aR(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function VS(e,t,n){A(typeof t=="string","typeof type must == string"),A(typeof n=="object","typeof params must == object");let r;if(t===FS)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===jS)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);aR(e)&&(n.ns=e.namespace);const i=[];return ut(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.counters_={}}incrementCounter(t,n=1){An(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return hb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu={},Ru={};function qh(e){const t=e.toString();return Nu[t]||(Nu[t]=new lR),Nu[t]}function cR(e,t){const n=e.toString();return Ru[n]||(Ru[n]=t()),Ru[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Vo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="start",dR="close",fR="pLPCommand",hR="pRTLPCB",US="id",zS="pw",$S="ser",pR="cb",mR="seg",gR="ts",yR="d",vR="dframe",WS=1870,HS=30,_R=WS-HS,wR=25e3,SR=3e4;class gi{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bo(t),this.stats_=qh(n),this.urlFn=l=>(this.appCheckToken&&(l[lf]=this.appCheckToken),VS(n,jS,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new uR(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(SR)),QN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yh((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ly)this.id=a,this.password=l;else if(o===dR)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[ly]="t",r[$S]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[pR]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RS]=Kh,this.transportSessionId&&(r[AS]=this.transportSessionId),this.lastSessionId&&(r[LS]=this.lastSessionId),this.applicationId&&(r[MS]=this.applicationId),this.appCheckToken&&(r[lf]=this.appCheckToken),typeof location<"u"&&location.hostname&&OS.test(location.hostname)&&(r[PS]=DS);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gi.forceAllow_=!0}static forceDisallow(){gi.forceDisallow_=!0}static isAvailable(){return gi.forceAllow_?!0:!gi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!JN()&&!ZN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ke(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=aS(n),i=bS(r,_R);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[vR]="t",r[US]=t,r[zS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ke(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Yh{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=KN(),window[fR+this.uniqueCallbackIdentifier]=t,window[hR+this.uniqueCallbackIdentifier]=n,this.myIFrame=Yh.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ge("frame writing exception"),a.stack&&Ge(a.stack),Ge(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ge("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[US]=this.myID,t[zS]=this.myPW,t[$S]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+HS+r.length<=WS;){const o=this.pendingSegs.shift();r=r+"&"+mR+i+"="+o.seg+"&"+gR+i+"="+o.ts+"&"+yR+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(wR)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ge("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=16384,CR=45e3;let Il=null;typeof MozWebSocket<"u"?Il=MozWebSocket:typeof WebSocket<"u"&&(Il=WebSocket);class Ut{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bo(this.connId),this.stats_=qh(n),this.connURL=Ut.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[RS]=Kh,typeof location<"u"&&location.hostname&&OS.test(location.hostname)&&(o[PS]=DS),n&&(o[AS]=n),r&&(o[LS]=r),i&&(o[lf]=i),s&&(o[MS]=s),VS(t,FS,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,br.set("previous_websocket_failure",!0);try{let r;hS(),this.mySock=new Il(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ut.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Il!==null&&!Ut.forceDisallow_}static previouslyFailed(){return br.isInMemoryStorage||br.get("previous_websocket_failure")===!0}markConnectionHealthy(){br.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=go(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(A(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=ke(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=bS(n,ER);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CR))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ut.responsesRequiredToBeHealthy=2;Ut.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[gi,Ut]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Ut&&Ut.isAvailable();let r=n&&!Ut.previouslyFailed();if(t.webSocketOnly&&(n||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ut];else{const i=this.transports_=[];for(const s of vo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);vo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=6e4,TR=5e3,IR=10*1024,kR=100*1024,Au="t",cy="d",bR="s",uy="r",NR="e",dy="o",fy="a",hy="n",py="p",RR="h";class AR{constructor(t,n,r,i,s,o,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bo("c:"+this.id+":"),this.transportManager_=new vo(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=$s(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>kR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Au in t){const n=t[Au];n===fy?this.upgradeIfSecondaryHealthy_():n===uy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===dy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=vs("t",t),r=vs("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:py,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:hy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=vs("t",t),r=vs("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=vs(Au,t);if(cy in t){const r=t[cy];if(n===RR){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===hy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===bR?this.onConnectionShutdown_(r):n===uy?this.onReset_(r):n===NR?af("Server Error: "+r):n===dy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):af("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Kh!==r&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$s(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xR))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$s(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(TR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:py,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(br.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t){this.allowedEvents_=t,this.listeners_={},A(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){A(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends KS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new kl}getInitialEvent(t){return A(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=32,gy=768;class ee{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Q(){return new ee("")}function z(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function rr(e){return e.pieces_.length-e.pieceNum_}function re(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ee(e.pieces_,t)}function qS(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function PR(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function YS(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function QS(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ee(t,0)}function be(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ee)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ee(n,0)}function $(e){return e.pieceNum_>=e.pieces_.length}function Xe(e,t){const n=z(e),r=z(t);if(n===null)return t;if(n===r)return Xe(re(e),re(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Qh(e,t){if(rr(e)!==rr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function zt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(rr(e)>rr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class DR{constructor(t,n){this.errorPrefix_=n,this.parts_=YS(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Cc(this.parts_[r]);XS(this)}}function OR(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Cc(t),XS(e)}function LR(e){const t=e.parts_.pop();e.byteLength_-=Cc(t),e.parts_.length>0&&(e.byteLength_-=1)}function XS(e){if(e.byteLength_>gy)throw new Error(e.errorPrefix_+"has a key path longer than "+gy+" bytes ("+e.byteLength_+").");if(e.parts_.length>my)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+my+") or object contains a cycle "+Er(e))}function Er(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends KS{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Xh}getInitialEvent(t){return A(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=1e3,MR=60*5*1e3,yy=30*1e3,FR=1.3,jR=3e4,BR="server_kill",vy=3;class wn extends GS{constructor(t,n,r,i,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=wn.nextPersistentConnectionId_++,this.log_=Bo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_s,this.maxReconnectDelay_=MR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!hS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&kl.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(ke(s)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new zh,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;wn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(c,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&An(t,"w")){const r=$i(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Nb(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=bb(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ke(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):af("Unrecognized action received from server: "+ke(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jR&&(this.reconnectDelay_=_s),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+wn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){A(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Ge("getToken() completed but was canceled"):(Ge("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new AR(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,h=>{mt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(BR)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&mt(d),l())}}}interrupt(t){Ge("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ge("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Kg(this.interruptReasons_)&&(this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Gh(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new ee(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Ge("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vy&&(this.reconnectDelay_=yy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ge("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+xS.replace(/\./g,"-")]=1,fS()?t["framework.cordova"]=1:Cb()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=kl.getInstance().currentlyOnline();return Kg(this.interruptReasons_)&&t}}wn.nextPersistentConnectionId_=0;wn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new U(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new U(Wi,t),i=new U(Wi,n);return this.compare(r,i)!==0}minPost(){return U.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va;class JS extends xc{static get __EMPTY_NODE(){return va}static set __EMPTY_NODE(t){va=t}compare(t,n){return rs(t.name,n.name)}isDefinedOn(t){throw ts("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return U.MIN}maxPost(){return new U(Ur,va)}makePost(t,n){return A(typeof t=="string","KeyIndex indexValue must always be a string."),new U(t,va)}toString(){return".key"}}const Di=new JS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Oe{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Oe.RED,this.left=i??it.EMPTY_NODE,this.right=s??it.EMPTY_NODE}copy(t,n,r,i,s){return new Oe(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return it.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return it.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Oe.RED=!0;Oe.BLACK=!1;class VR{copy(t,n,r,i,s){return this}insert(t,n,r){return new Oe(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class it{constructor(t,n=it.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new it(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Oe.BLACK,null,null))}remove(t){return new it(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Oe.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _a(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new _a(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new _a(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new _a(this.root_,null,this.comparator_,!0,t)}}it.EMPTY_NODE=new VR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(e,t){return rs(e.name,t.name)}function Jh(e,t){return rs(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf;function zR(e){cf=e}const ZS=function(e){return typeof e=="number"?"number:"+NS(e):"string:"+e},eE=function(e){if(e.isLeafNode()){const t=e.val();A(typeof t=="string"||typeof t=="number"||typeof t=="object"&&An(t,".sv"),"Priority must be a string or number.")}else A(e===cf||e.isEmpty(),"priority of unexpected type.");A(e===cf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _y;class Pe{constructor(t,n=Pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),eE(this.priorityNode_)}static set __childrenNodeConstructor(t){_y=t}static get __childrenNodeConstructor(){return _y}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Pe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return $(t)?this:z(t)===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=z(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(A(r!==".priority"||rr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+ZS(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=NS(this.value_):t+=this.value_,this.lazyHash_=IS(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Pe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Pe.__childrenNodeConstructor?-1:(A(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Pe.VALUE_TYPE_ORDER.indexOf(n),s=Pe.VALUE_TYPE_ORDER.indexOf(r);return A(i>=0,"Unknown leaf type: "+n),A(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tE,nE;function $R(e){tE=e}function WR(e){nE=e}class HR extends xc{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?rs(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return U.MIN}maxPost(){return new U(Ur,new Pe("[PRIORITY-POST]",nE))}makePost(t,n){const r=tE(t);return new U(n,new Pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const _e=new HR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=Math.log(2);class KR{constructor(t){const n=s=>parseInt(Math.log(s)/GR,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const bl=function(e,t,n,r){e.sort(t);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=e[l],f=n?n(d):d,new Oe(f,d.node,Oe.BLACK,null,null);{const h=parseInt(u/2,10)+l,g=i(l,h),_=i(h+1,c);return d=e[h],f=n?n(d):d,new Oe(f,d.node,Oe.BLACK,g,_)}},s=function(l){let c=null,u=null,d=e.length;const f=function(g,_){const S=d-g,m=d;d-=g;const p=i(S+1,m),y=e[S],E=n?n(y):y;h(new Oe(E,y.node,_,null,p))},h=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const _=l.nextBitIsOne(),S=Math.pow(2,l.count-(g+1));_?f(S,Oe.BLACK):(f(S,Oe.BLACK),f(S,Oe.RED))}return u},o=new KR(e.length),a=s(o);return new it(r||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;const ri={};class vn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return A(ri&&_e,"ChildrenNode.ts has not been loaded"),Pu=Pu||new vn({".priority":ri},{".priority":_e}),Pu}get(t){const n=$i(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof it?n:null}hasIndex(t){return An(this.indexSet_,t.toString())}addIndex(t,n){A(t!==Di,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(U.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=bl(r,t.getCompare()):a=ri;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const u=Object.assign({},this.indexes_);return u[l]=a,new vn(u,c)}addToIndexes(t,n){const r=Cl(this.indexes_,(i,s)=>{const o=$i(this.indexSet_,s);if(A(o,"Missing index implementation for "+s),i===ri)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(U.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),bl(a,o.getCompare())}else return ri;else{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new U(t.name,a))),l.insert(t,t.node)}});return new vn(r,this.indexSet_)}removeFromIndexes(t,n){const r=Cl(this.indexes_,i=>{if(i===ri)return i;{const s=n.get(t.name);return s?i.remove(new U(t.name,s)):i}});return new vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws;class j{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&eE(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ws||(ws=new j(new it(Jh),null,vn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ws}updatePriority(t){return this.children_.isEmpty()?this:new j(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ws:n}}getChild(t){const n=z(t);return n===null?this:this.getImmediateChild(n).getChild(re(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(A(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new U(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ws:this.priorityNode_;return new j(i,o,s)}}updateChild(t,n){const r=z(t);if(r===null)return n;{A(z(t)!==".priority"||rr(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(re(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(_e,(o,a)=>{n[o]=a.val(t),r++,s&&j.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+ZS(this.getPriority().val())+":"),this.forEachChild(_e,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":IS(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new U(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new U(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new U(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,U.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,U.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Uo?-1:0}withIndex(t){if(t===Di||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new j(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Di||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(_e),i=n.getIterator(_e);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Di?null:this.indexMap_.get(t.toString())}}j.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qR extends j{constructor(){super(new it(Jh),j.EMPTY_NODE,vn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return j.EMPTY_NODE}isEmpty(){return!1}}const Uo=new qR;Object.defineProperties(U,{MIN:{value:new U(Wi,j.EMPTY_NODE)},MAX:{value:new U(Ur,Uo)}});JS.__EMPTY_NODE=j.EMPTY_NODE;Pe.__childrenNodeConstructor=j;zR(Uo);WR(Uo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=!0;function Be(e,t=null){if(e===null)return j.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),A(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Pe(n,Be(t))}if(!(e instanceof Array)&&YR){const n=[];let r=!1;if(ut(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=Be(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new U(o,l)))}}),n.length===0)return j.EMPTY_NODE;const s=bl(n,UR,o=>o.name,Jh);if(r){const o=bl(n,_e.getCompare());return new j(s,Be(t),new vn({".priority":o},{".priority":_e}))}else return new j(s,Be(t),vn.Default)}else{let n=j.EMPTY_NODE;return ut(e,(r,i)=>{if(An(e,r)&&r.substring(0,1)!=="."){const s=Be(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Be(t))}}$R(Be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends xc{constructor(t){super(),this.indexPath_=t,A(!$(t)&&z(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?rs(t.name,n.name):s}makePost(t,n){const r=Be(t),i=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new U(n,i)}maxPost(){const t=j.EMPTY_NODE.updateChild(this.indexPath_,Uo);return new U(Ur,t)}toString(){return YS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR extends xc{compare(t,n){const r=t.node.compareTo(n.node);return r===0?rs(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return U.MIN}maxPost(){return U.MAX}makePost(t,n){const r=Be(t);return new U(n,r)}toString(){return".value"}}const JR=new XR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(e){return{type:"value",snapshotNode:e}}function Hi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _o(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function wo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function ZR(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){A(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(_o(n,a)):A(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Hi(n,r)):o.trackChildChange(wo(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(_e,(i,s)=>{n.hasChild(i)||r.trackChildChange(_o(i,s))}),n.isLeafNode()||n.forEachChild(_e,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(wo(i,s,o))}else r.trackChildChange(Hi(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?j.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t){this.indexedFilter_=new Zh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=So.getStartPost_(t),this.endPost_=So.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new U(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(j.EMPTY_NODE);const s=this;return n.forEachChild(_e,(o,a)=>{s.matches(new U(o,a))||(i=i.updateImmediateChild(o,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new So(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new U(n,r))||(r=j.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=j.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(j.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=t;A(a.numChildren()===this.limit_,"");const l=new U(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!r.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(wo(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(_o(n,d));const _=a.updateImmediateChild(n,j.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Hi(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return r.isEmpty()?t:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(_o(c.name,c.node)),s.trackChildChange(Hi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,j.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_e}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wi}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ur}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_e}copy(){const t=new ep;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function tA(e){return e.loadsAllData()?new Zh(e.getIndex()):e.hasLimit()?new eA(e):new So(e)}function wy(e){const t={};if(e.isDefault())return t;let n;if(e.index_===_e?n="$priority":e.index_===JR?n="$value":e.index_===Di?n="$key":(A(e.index_ instanceof QR,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ke(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=ke(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ke(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ke(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ke(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Sy(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==_e&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends GS{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bo("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(A(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Nl.getListenId_(t,r),a={};this.listens_[o]=a;const l=wy(t._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),$i(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(t,n){const r=Nl.getListenId_(t,n);delete this.listens_[r]}get(t){const n=wy(t._queryParams),r=t._path.toString(),i=new zh;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Rb(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=go(a.responseText)}catch{mt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&mt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(){return{value:null,children:new Map}}function iE(e,t,n){if($(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=z(t);e.children.has(r)||e.children.set(r,Rl());const i=e.children.get(r);t=re(t),iE(i,t,n)}}function uf(e,t,n){e.value!==null?n(t,e.value):rA(e,(r,i)=>{const s=new ee(t.toString()+"/"+r);uf(i,s,n)})}function rA(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ut(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=10*1e3,sA=30*1e3,oA=5*60*1e3;class aA{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new iA(t);const r=Ey+(sA-Ey)*Math.random();$s(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;ut(t,(i,s)=>{s>0&&An(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),$s(this.reportStats_.bind(this),Math.floor(Math.random()*2*oA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($t||($t={}));function sE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function np(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=$t.ACK_USER_WRITE,this.source=sE()}operationForChild(t){if($(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ee(t));return new Al(Q(),n,this.revert)}}else return A(z(this.path)===t,"operationForChild called for unrelated child."),new Al(re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,n){this.source=t,this.path=n,this.type=$t.LISTEN_COMPLETE}operationForChild(t){return $(this.path)?new Eo(this.source,Q()):new Eo(this.source,re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=$t.OVERWRITE}operationForChild(t){return $(this.path)?new zr(this.source,Q(),this.snap.getImmediateChild(t)):new zr(this.source,re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=$t.MERGE}operationForChild(t){if($(this.path)){const n=this.children.subtree(new ee(t));return n.isEmpty()?null:n.value?new zr(this.source,Q(),n.value):new Co(this.source,Q(),n)}else return A(z(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Co(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if($(t))return this.isFullyInitialized()&&!this.filtered_;const n=z(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function cA(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ZR(o.childName,o.snapshotNode))}),Ss(e,i,"child_removed",t,r,n),Ss(e,i,"child_added",t,r,n),Ss(e,i,"child_moved",s,r,n),Ss(e,i,"child_changed",t,r,n),Ss(e,i,"value",t,r,n),i}function Ss(e,t,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>dA(e,a,l)),o.forEach(a=>{const l=uA(e,a,s);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function uA(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function dA(e,t,n){if(t.childName==null||n.childName==null)throw ts("Should only compare child_ events.");const r=new U(t.childName,t.snapshotNode),i=new U(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e,t){return{eventCache:e,serverCache:t}}function Ws(e,t,n,r){return Tc(new ir(t,n,r),e.serverCache)}function oE(e,t,n,r){return Tc(e.eventCache,new ir(t,n,r))}function Pl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $r(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du;const fA=()=>(Du||(Du=new it(XN)),Du);class oe{constructor(t,n=fA()){this.value=t,this.children=n}static fromObject(t){let n=new oe(null);return ut(t,(r,i)=>{n=n.set(new ee(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Q(),value:this.value};if($(t))return null;{const r=z(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(re(t),n);return s!=null?{path:be(new ee(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if($(t))return this;{const n=z(t),r=this.children.get(n);return r!==null?r.subtree(re(t)):new oe(null)}}set(t,n){if($(t))return new oe(n,this.children);{const r=z(t),s=(this.children.get(r)||new oe(null)).set(re(t),n),o=this.children.insert(r,s);return new oe(this.value,o)}}remove(t){if($(t))return this.children.isEmpty()?new oe(null):new oe(null,this.children);{const n=z(t),r=this.children.get(n);if(r){const i=r.remove(re(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new oe(null):new oe(this.value,s)}else return this}}get(t){if($(t))return this.value;{const n=z(t),r=this.children.get(n);return r?r.get(re(t)):null}}setTree(t,n){if($(t))return n;{const r=z(t),s=(this.children.get(r)||new oe(null)).setTree(re(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new oe(this.value,o)}}fold(t){return this.fold_(Q(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(be(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Q(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if($(t))return null;{const s=z(t),o=this.children.get(s);return o?o.findOnPath_(re(t),be(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Q(),n)}foreachOnPath_(t,n,r){if($(t))return this;{this.value&&r(n,this.value);const i=z(t),s=this.children.get(i);return s?s.foreachOnPath_(re(t),be(n,i),r):new oe(null)}}foreach(t){this.foreach_(Q(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.writeTree_=t}static empty(){return new Gt(new oe(null))}}function Hs(e,t,n){if($(t))return new Gt(new oe(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Xe(i,t);return s=s.updateChild(o,n),new Gt(e.writeTree_.set(i,s))}else{const i=new oe(n),s=e.writeTree_.setTree(t,i);return new Gt(s)}}}function Cy(e,t,n){let r=e;return ut(n,(i,s)=>{r=Hs(r,be(t,i),s)}),r}function xy(e,t){if($(t))return Gt.empty();{const n=e.writeTree_.setTree(t,new oe(null));return new Gt(n)}}function df(e,t){return Qr(e,t)!=null}function Qr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Xe(n.path,t)):null}function Ty(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(_e,(r,i)=>{t.push(new U(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new U(r,i.value))}),t}function Zn(e,t){if($(t))return e;{const n=Qr(e,t);return n!=null?new Gt(new oe(n)):new Gt(e.writeTree_.subtree(t))}}function ff(e){return e.writeTree_.isEmpty()}function Gi(e,t){return aE(Q(),e.writeTree_,t)}function aE(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(A(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=aE(be(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(be(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(e,t){return dE(t,e)}function hA(e,t,n,r,i){A(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Hs(e.visibleWrites,t,n)),e.lastWriteId=r}function pA(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function mA(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);A(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&gA(a,r.path)?i=!1:zt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return yA(e),!0;if(r.snap)e.visibleWrites=xy(e.visibleWrites,r.path);else{const a=r.children;ut(a,l=>{e.visibleWrites=xy(e.visibleWrites,be(r.path,l))})}return!0}else return!1}function gA(e,t){if(e.snap)return zt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&zt(be(e.path,n),t))return!0;return!1}function yA(e){e.visibleWrites=lE(e.allWrites,vA,Q()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function vA(e){return e.visible}function lE(e,t,n){let r=Gt.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let a;if(s.snap)zt(n,o)?(a=Xe(n,o),r=Hs(r,a,s.snap)):zt(o,n)&&(a=Xe(o,n),r=Hs(r,Q(),s.snap.getChild(a)));else if(s.children){if(zt(n,o))a=Xe(n,o),r=Cy(r,a,s.children);else if(zt(o,n))if(a=Xe(o,n),$(a))r=Cy(r,Q(),s.children);else{const l=$i(s.children,z(a));if(l){const c=l.getChild(re(a));r=Hs(r,Q(),c)}}}else throw ts("WriteRecord should have .snap or .children")}}return r}function cE(e,t,n,r,i){if(!r&&!i){const s=Qr(e.visibleWrites,t);if(s!=null)return s;{const o=Zn(e.visibleWrites,t);if(ff(o))return n;if(n==null&&!df(o,Q()))return null;{const a=n||j.EMPTY_NODE;return Gi(o,a)}}}else{const s=Zn(e.visibleWrites,t);if(!i&&ff(s))return n;if(!i&&n==null&&!df(s,Q()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(zt(c.path,t)||zt(t,c.path))},a=lE(e.allWrites,o,t),l=n||j.EMPTY_NODE;return Gi(a,l)}}}function _A(e,t,n){let r=j.EMPTY_NODE;const i=Qr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(_e,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Zn(e.visibleWrites,t);return n.forEachChild(_e,(o,a)=>{const l=Gi(Zn(s,new ee(o)),a);r=r.updateImmediateChild(o,l)}),Ty(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Zn(e.visibleWrites,t);return Ty(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function wA(e,t,n,r,i){A(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=be(t,n);if(df(e.visibleWrites,s))return null;{const o=Zn(e.visibleWrites,s);return ff(o)?i.getChild(n):Gi(o,i.getChild(n))}}function SA(e,t,n,r){const i=be(t,n),s=Qr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Zn(e.visibleWrites,i);return Gi(o,r.getNode().getImmediateChild(n))}else return null}function EA(e,t){return Qr(e.visibleWrites,t)}function CA(e,t,n,r,i,s,o){let a;const l=Zn(e.visibleWrites,t),c=Qr(l,Q());if(c!=null)a=c;else if(n!=null)a=Gi(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function xA(){return{visibleWrites:Gt.empty(),allWrites:[],lastWriteId:-1}}function Dl(e,t,n,r){return cE(e.writeTree,e.treePath,t,n,r)}function rp(e,t){return _A(e.writeTree,e.treePath,t)}function Iy(e,t,n,r){return wA(e.writeTree,e.treePath,t,n,r)}function Ol(e,t){return EA(e.writeTree,be(e.treePath,t))}function TA(e,t,n,r,i,s){return CA(e.writeTree,e.treePath,t,n,r,i,s)}function ip(e,t,n){return SA(e.writeTree,e.treePath,t,n)}function uE(e,t){return dE(be(e.treePath,t),e.writeTree)}function dE(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;A(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),A(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,wo(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_o(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Hi(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,wo(r,t.snapshotNode,i.oldSnap));else throw ts("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const fE=new kA;class sp{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ir(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ip(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$r(this.viewCache_),s=TA(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(e){return{filter:e}}function NA(e,t){A(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),A(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function RA(e,t,n,r,i){const s=new IA;let o,a;if(n.type===$t.OVERWRITE){const c=n;c.source.fromUser?o=hf(e,t,c.path,c.snap,r,i,s):(A(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!$(c.path),o=Ll(e,t,c.path,c.snap,r,i,a,s))}else if(n.type===$t.MERGE){const c=n;c.source.fromUser?o=PA(e,t,c.path,c.children,r,i,s):(A(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=pf(e,t,c.path,c.children,r,i,a,s))}else if(n.type===$t.ACK_USER_WRITE){const c=n;c.revert?o=LA(e,t,c.path,r,i,s):o=DA(e,t,c.path,c.affectedTree,r,i,s)}else if(n.type===$t.LISTEN_COMPLETE)o=OA(e,t,n.path,r,s);else throw ts("Unknown operation type: "+n.type);const l=s.getChanges();return AA(t,o,l),{viewCache:o,changes:l}}function AA(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Pl(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(rE(Pl(t)))}}function hE(e,t,n,r,i,s){const o=t.eventCache;if(Ol(r,n)!=null)return t;{let a,l;if($(n))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=$r(t),u=c instanceof j?c:j.EMPTY_NODE,d=rp(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const c=Dl(r,$r(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const c=z(n);if(c===".priority"){A(rr(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=t.serverCache.getNode();const d=Iy(r,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=o.getNode()}else{const u=re(n);let d;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const f=Iy(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=ip(r,c,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Ws(t,a,o.isFullyInitialized()||$(n),e.filter.filtersNodes())}}function Ll(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if($(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{const h=z(n);if(!l.isCompleteForPath(n)&&rr(n)>1)return t;const g=re(n),S=l.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?c=u.updatePriority(l.getNode(),S):c=u.updateChild(l.getNode(),h,S,g,fE,null)}const d=oE(t,c,l.isFullyInitialized()||$(n),u.filtersNodes()),f=new sp(i,d,s);return hE(e,d,n,i,f,a)}function hf(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new sp(i,t,s);if($(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Ws(t,c,!0,e.filter.filtersNodes());else{const d=z(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ws(t,c,a.isFullyInitialized(),a.isFiltered());else{const f=re(n),h=a.getNode().getImmediateChild(d);let g;if($(f))g=r;else{const _=u.getCompleteChild(d);_!=null?qS(f)===".priority"&&_.getChild(QS(f)).isEmpty()?g=_:g=_.updateChild(f,r):g=j.EMPTY_NODE}if(h.equals(g))l=t;else{const _=e.filter.updateChild(a.getNode(),d,g,f,u,o);l=Ws(t,_,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function ky(e,t){return e.eventCache.isCompleteForChild(t)}function PA(e,t,n,r,i,s,o){let a=t;return r.foreach((l,c)=>{const u=be(n,l);ky(t,z(u))&&(a=hf(e,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=be(n,l);ky(t,z(u))||(a=hf(e,a,u,c,i,s,o))}),a}function by(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function pf(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;$(n)?c=r:c=new oe(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=t.serverCache.getNode().getImmediateChild(d),g=by(e,h,f);l=Ll(e,l,new ee(d),g,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const g=t.serverCache.getNode().getImmediateChild(d),_=by(e,g,f);l=Ll(e,l,new ee(d),_,i,s,o,a)}}),l}function DA(e,t,n,r,i,s,o){if(Ol(i,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if($(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ll(e,t,n,l.getNode().getChild(n),i,s,a,o);if($(n)){let c=new oe(null);return l.getNode().forEachChild(Di,(u,d)=>{c=c.set(new ee(u),d)}),pf(e,t,n,c,i,s,a,o)}else return t}else{let c=new oe(null);return r.foreach((u,d)=>{const f=be(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),pf(e,t,n,c,i,s,a,o)}}function OA(e,t,n,r,i){const s=t.serverCache,o=oE(t,s.getNode(),s.isFullyInitialized()||$(n),s.isFiltered());return hE(e,o,n,r,fE,i)}function LA(e,t,n,r,i,s){let o;if(Ol(r,n)!=null)return t;{const a=new sp(r,t,i),l=t.eventCache.getNode();let c;if($(n)||z(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Dl(r,$r(t));else{const d=t.serverCache.getNode();A(d instanceof j,"serverChildren would be complete if leaf node"),u=rp(r,d)}u=u,c=e.filter.updateFullNode(l,u,s)}else{const u=z(n);let d=ip(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,re(n),a,s):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,j.EMPTY_NODE,re(n),a,s):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Dl(r,$r(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||Ol(r,Q())!=null,Ws(t,c,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Zh(r.getIndex()),s=tA(r);this.processor_=bA(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(j.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(j.EMPTY_NODE,a.getNode(),null),u=new ir(l,o.isFullyInitialized(),i.filtersNodes()),d=new ir(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Tc(d,u),this.eventGenerator_=new lA(this.query_)}get query(){return this.query_}}function FA(e){return e.viewCache_.serverCache.getNode()}function jA(e){return Pl(e.viewCache_)}function BA(e,t){const n=$r(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!$(t)&&!n.getImmediateChild(z(t)).isEmpty())?n.getChild(t):null}function Ny(e){return e.eventRegistrations_.length===0}function VA(e,t){e.eventRegistrations_.push(t)}function Ry(e,t,n){const r=[];if(n){A(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Ay(e,t,n,r){t.type===$t.MERGE&&t.source.queryId!==null&&(A($r(e.viewCache_),"We should always have a full cache before handling merges"),A(Pl(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=RA(e.processor_,i,t,n,r);return NA(e.processor_,s.viewCache),A(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,pE(e,s.changes,s.viewCache.eventCache.getNode(),null)}function UA(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(_e,(s,o)=>{r.push(Hi(s,o))}),n.isFullyInitialized()&&r.push(rE(n.getNode())),pE(e,r,n.getNode(),t)}function pE(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return cA(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml;class mE{constructor(){this.views=new Map}}function zA(e){A(!Ml,"__referenceConstructor has already been defined"),Ml=e}function $A(){return A(Ml,"Reference.ts has not been loaded"),Ml}function WA(e){return e.views.size===0}function op(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return A(s!=null,"SyncTree gave us an op for an invalid query."),Ay(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Ay(o,t,n,r));return s}}function gE(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let a=Dl(n,i?r:null),l=!1;a?l=!0:r instanceof j?(a=rp(n,r),l=!1):(a=j.EMPTY_NODE,l=!1);const c=Tc(new ir(a,l,!1),new ir(r,i,!1));return new MA(t,c)}return o}function HA(e,t,n,r,i,s){const o=gE(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),VA(o,n),UA(o,n)}function GA(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=sr(e);if(i==="default")for(const[l,c]of e.views.entries())o=o.concat(Ry(c,n,r)),Ny(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=e.views.get(i);l&&(o=o.concat(Ry(l,n,r)),Ny(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!sr(e)&&s.push(new($A())(t._repo,t._path)),{removed:s,events:o}}function yE(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function er(e,t){let n=null;for(const r of e.views.values())n=n||BA(r,t);return n}function vE(e,t){if(t._queryParams.loadsAllData())return kc(e);{const r=t._queryIdentifier;return e.views.get(r)}}function _E(e,t){return vE(e,t)!=null}function sr(e){return kc(e)!=null}function kc(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl;function KA(e){A(!Fl,"__referenceConstructor has already been defined"),Fl=e}function qA(){return A(Fl,"Reference.ts has not been loaded"),Fl}let YA=1;class Py{constructor(t){this.listenProvider_=t,this.syncPointTree_=new oe(null),this.pendingWriteTree_=xA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function QA(e,t,n,r,i){return hA(e.pendingWriteTree_,t,n,r,i),i?$o(e,new zr(sE(),t,n)):[]}function yi(e,t,n=!1){const r=pA(e.pendingWriteTree_,t);if(mA(e.pendingWriteTree_,t)){let s=new oe(null);return r.snap!=null?s=s.set(Q(),!0):ut(r.children,o=>{s=s.set(new ee(o),!0)}),$o(e,new Al(r.path,s,n))}else return[]}function zo(e,t,n){return $o(e,new zr(tp(),t,n))}function XA(e,t,n){const r=oe.fromObject(n);return $o(e,new Co(tp(),t,r))}function JA(e,t){return $o(e,new Eo(tp(),t))}function ZA(e,t,n){const r=ap(e,n);if(r){const i=lp(r),s=i.path,o=i.queryId,a=Xe(s,t),l=new Eo(np(o),a);return cp(e,s,l)}else return[]}function jl(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&(t._queryIdentifier==="default"||_E(o,t))){const l=GA(o,t,n,r);WA(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(f,h)=>sr(h));if(u&&!d){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=nP(f);for(let g=0;g<h.length;++g){const _=h[g],S=_.query,m=xE(e,_);e.listenProvider_.startListening(Gs(S),xo(e,S),m.hashFn,m.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(Gs(t),null):c.forEach(f=>{const h=e.queryToTagMap.get(bc(f));e.listenProvider_.stopListening(Gs(f),h)}))}rP(e,c)}return a}function wE(e,t,n,r){const i=ap(e,r);if(i!=null){const s=lp(i),o=s.path,a=s.queryId,l=Xe(o,t),c=new zr(np(a),l,n);return cp(e,o,c)}else return[]}function eP(e,t,n,r){const i=ap(e,r);if(i){const s=lp(i),o=s.path,a=s.queryId,l=Xe(o,t),c=oe.fromObject(n),u=new Co(np(a),l,c);return cp(e,o,u)}else return[]}function mf(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{const g=Xe(f,i);s=s||er(h,g),o=o||sr(h)});let a=e.syncPointTree_.get(i);a?(o=o||sr(a),s=s||er(a,Q())):(a=new mE,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=j.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,g)=>{const _=er(g,Q());_&&(s=s.updateImmediateChild(h,_))}));const c=_E(a,t);if(!c&&!t._queryParams.loadsAllData()){const f=bc(t);A(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=iP();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}const u=Ic(e.pendingWriteTree_,i);let d=HA(a,t,n,u,s,l);if(!c&&!o&&!r){const f=vE(a,t);d=d.concat(sP(e,t,f))}return d}function SE(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=Xe(o,t),c=er(a,l);if(c)return c});return cE(i,t,s,n,!0)}function tP(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Xe(c,n);r=r||er(u,d)});let i=e.syncPointTree_.get(n);i?r=r||er(i,Q()):(i=new mE,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new ir(r,!0,!1):null,a=Ic(e.pendingWriteTree_,t._path),l=gE(i,t,a,s?o.getNode():j.EMPTY_NODE,s);return jA(l)}function $o(e,t){return EE(t,e.syncPointTree_,null,Ic(e.pendingWriteTree_,Q()))}function EE(e,t,n,r){if($(e.path))return CE(e,t,n,r);{const i=t.get(Q());n==null&&i!=null&&(n=er(i,Q()));let s=[];const o=z(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=uE(r,o);s=s.concat(EE(a,l,c,u))}return i&&(s=s.concat(op(i,e,r,n))),s}}function CE(e,t,n,r){const i=t.get(Q());n==null&&i!=null&&(n=er(i,Q()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=uE(r,o),u=e.operationForChild(o);u&&(s=s.concat(CE(u,a,l,c)))}),i&&(s=s.concat(op(i,e,r,n))),s}function xE(e,t){const n=t.query,r=xo(e,n);return{hashFn:()=>(FA(t)||j.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?ZA(e,n._path,r):JA(e,n._path);{const s=eR(i,n);return jl(e,n,null,s)}}}}function xo(e,t){const n=bc(t);return e.queryToTagMap.get(n)}function bc(e){return e._path.toString()+"$"+e._queryIdentifier}function ap(e,t){return e.tagToQueryMap.get(t)}function lp(e){const t=e.indexOf("$");return A(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ee(e.substr(0,t))}}function cp(e,t,n){const r=e.syncPointTree_.get(t);A(r,"Missing sync point for query tag that we're tracking");const i=Ic(e.pendingWriteTree_,t);return op(r,n,i,null)}function nP(e){return e.fold((t,n,r)=>{if(n&&sr(n))return[kc(n)];{let i=[];return n&&(i=yE(n)),ut(r,(s,o)=>{i=i.concat(o)}),i}})}function Gs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(qA())(e._repo,e._path):e}function rP(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=bc(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function iP(){return YA++}function sP(e,t,n){const r=t._path,i=xo(e,t),s=xE(e,n),o=e.listenProvider_.startListening(Gs(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)A(!sr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!$(c)&&u&&sr(u))return[kc(u).query];{let f=[];return u&&(f=f.concat(yE(u).map(h=>h.query))),ut(d,(h,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){const u=l[c];e.listenProvider_.stopListening(Gs(u),xo(e,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new up(n)}node(){return this.node_}}class dp{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=be(this.path_,t);return new dp(this.syncTree_,n)}node(){return SE(this.syncTree_,this.path_)}}const oP=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Dy=function(e,t,n){if(!e||typeof e!="object")return e;if(A(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return aP(e[".sv"],t,n);if(typeof e[".sv"]=="object")return lP(e[".sv"],t);A(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},aP=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:A(!1,"Unexpected server value: "+e)}},lP=function(e,t,n){e.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&A(!1,"Unexpected increment value: "+r);const i=t.node();if(A(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},cP=function(e,t,n,r){return fp(t,new dp(n,e),r)},uP=function(e,t,n){return fp(e,new up(t),n)};function fp(e,t,n){const r=e.getPriority().val(),i=Dy(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=Dy(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new Pe(a,Be(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Pe(i))),o.forEachChild(_e,(a,l)=>{const c=fp(l,t.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function pp(e,t){let n=t instanceof ee?t:new ee(t),r=e,i=z(n);for(;i!==null;){const s=$i(r.node.children,i)||{children:{},childCount:0};r=new hp(i,r,s),n=re(n),i=z(n)}return r}function is(e){return e.node.value}function TE(e,t){e.node.value=t,gf(e)}function IE(e){return e.node.childCount>0}function dP(e){return is(e)===void 0&&!IE(e)}function Nc(e,t){ut(e.node.children,(n,r)=>{t(new hp(n,e,r))})}function kE(e,t,n,r){n&&!r&&t(e),Nc(e,i=>{kE(i,t,!0,r)}),n&&r&&t(e)}function fP(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Wo(e){return new ee(e.parent===null?e.name:Wo(e.parent)+"/"+e.name)}function gf(e){e.parent!==null&&hP(e.parent,e.name,e)}function hP(e,t,n){const r=dP(n),i=An(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,gf(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,gf(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=/[\[\].#$\/\u0000-\u001F\u007F]/,mP=/[\[\].#$\u0000-\u001F\u007F]/,Ou=10*1024*1024,bE=function(e){return typeof e=="string"&&e.length!==0&&!pP.test(e)},NE=function(e){return typeof e=="string"&&e.length!==0&&!mP.test(e)},gP=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),NE(e)},RE=function(e,t,n){const r=n instanceof ee?new DR(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Er(r));if(typeof t=="function")throw new Error(e+"contains a function "+Er(r)+" with contents = "+t.toString());if(kS(t))throw new Error(e+"contains "+t.toString()+" "+Er(r));if(typeof t=="string"&&t.length>Ou/3&&Cc(t)>Ou)throw new Error(e+"contains a string greater than "+Ou+" utf8 bytes "+Er(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(ut(t,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!bE(o)))throw new Error(e+" contains an invalid key ("+o+") "+Er(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OR(r,o),RE(e,a,r),LR(r)}),i&&s)throw new Error(e+' contains ".value" child '+Er(r)+" in addition to actual children.")}},AE=function(e,t,n,r){if(!(r&&n===void 0)&&!NE(n))throw new Error(yS(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},yP=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),AE(e,t,n,r)},vP=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!bE(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!gP(n))throw new Error(yS(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function PE(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Qh(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function DE(e,t,n){PE(e,n),OE(e,r=>Qh(r,t))}function hr(e,t,n){PE(e,n),OE(e,r=>zt(r,t)||zt(t,r))}function OE(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(wP(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function wP(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Or&&Ge("event: "+n.toString()),Vo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="repo_interrupt",EP=25;class CP{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _P,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rl(),this.transactionQueueTree_=new hp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xP(e,t,n){if(e.stats_=qh(e.repoInfo_),e.forceRestClient_||iR())e.server_=new Nl(e.repoInfo_,(r,i,s,o)=>{Oy(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Ly(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new wn(e.repoInfo_,t,(r,i,s,o)=>{Oy(e,r,i,s,o)},r=>{Ly(e,r)},r=>{IP(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=cR(e.repoInfo_,()=>new aA(e.stats_,e.server_)),e.infoData_=new nA,e.infoSyncTree_=new Py({startListening:(r,i,s,o)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=zo(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),mp(e,"connected",!1),e.serverSyncTree_=new Py({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);hr(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function TP(e){const n=e.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function LE(e){return oP({timestamp:TP(e)})}function Oy(e,t,n,r,i){e.dataUpdateCount++;const s=new ee(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const l=Cl(n,c=>Be(c));o=eP(e.serverSyncTree_,s,l,i)}else{const l=Be(n);o=wE(e.serverSyncTree_,s,l,i)}else if(r){const l=Cl(n,c=>Be(c));o=XA(e.serverSyncTree_,s,l)}else{const l=Be(n);o=zo(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=vp(e,s)),hr(e.eventQueue_,a,o)}function Ly(e,t){mp(e,"connected",t),t===!1&&NP(e)}function IP(e,t){ut(t,(n,r)=>{mp(e,n,r)})}function mp(e,t,n){const r=new ee("/.info/"+t),i=Be(n);e.infoData_.updateSnapshot(r,i);const s=zo(e.infoSyncTree_,r,i);hr(e.eventQueue_,r,s)}function kP(e){return e.nextWriteId_++}function bP(e,t,n){const r=tP(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=Be(i).withIndex(t._queryParams.getIndex());mf(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=zo(e.serverSyncTree_,t._path,s);else{const a=xo(e.serverSyncTree_,t);o=wE(e.serverSyncTree_,t._path,s,a)}return hr(e.eventQueue_,t._path,o),jl(e.serverSyncTree_,t,n,null,!0),s},i=>(gp(e,"get for query "+ke(t)+" failed: "+i),Promise.reject(new Error(i))))}function NP(e){gp(e,"onDisconnectEvents");const t=LE(e),n=Rl();uf(e.onDisconnect_,Q(),(i,s)=>{const o=cP(i,s,e.serverSyncTree_,t);iE(n,i,o)});let r=[];uf(n,Q(),(i,s)=>{r=r.concat(zo(e.serverSyncTree_,i,s));const o=OP(e,i);vp(e,o)}),e.onDisconnect_=Rl(),hr(e.eventQueue_,Q(),r)}function RP(e,t,n){let r;z(t._path)===".info"?r=mf(e.infoSyncTree_,t,n):r=mf(e.serverSyncTree_,t,n),DE(e.eventQueue_,t._path,r)}function yf(e,t,n){let r;z(t._path)===".info"?r=jl(e.infoSyncTree_,t,n):r=jl(e.serverSyncTree_,t,n),DE(e.eventQueue_,t._path,r)}function AP(e){e.persistentConnection_&&e.persistentConnection_.interrupt(SP)}function gp(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ge(n,...t)}function ME(e,t,n){return SE(e.serverSyncTree_,t,n)||j.EMPTY_NODE}function yp(e,t=e.transactionQueueTree_){if(t||Rc(e,t),is(t)){const n=jE(e,t);A(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&PP(e,Wo(t),n)}else IE(t)&&Nc(t,n=>{yp(e,n)})}function PP(e,t,n){const r=n.map(c=>c.currentWriteId),i=ME(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];A(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Xe(t,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,c=>{gp(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(yi(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Rc(e,pp(e.transactionQueueTree_,t)),yp(e,e.transactionQueueTree_),hr(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Vo(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{mt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}vp(e,t)}},o)}function vp(e,t){const n=FE(e,t),r=Wo(n),i=jE(e,n);return DP(e,i,r),r}function DP(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=Xe(n,l.path);let u=!1,d;if(A(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(yi(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=EP)u=!0,d="maxretry",i=i.concat(yi(e.serverSyncTree_,l.currentWriteId,!0));else{const f=ME(e,l.path,o);l.currentInputSnapshot=f;const h=t[a].update(f.val());if(h!==void 0){RE("transaction failed: Data returned ",h,l.path);let g=Be(h);typeof h=="object"&&h!=null&&An(h,".priority")||(g=g.updatePriority(f.getPriority()));const S=l.currentWriteId,m=LE(e),p=uP(g,f,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=p,l.currentWriteId=kP(e),o.splice(o.indexOf(S),1),i=i.concat(QA(e.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(yi(e.serverSyncTree_,S,!0))}else u=!0,d="nodata",i=i.concat(yi(e.serverSyncTree_,l.currentWriteId,!0))}hr(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Rc(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Vo(r[a]);yp(e,e.transactionQueueTree_)}function FE(e,t){let n,r=e.transactionQueueTree_;for(n=z(t);n!==null&&is(r)===void 0;)r=pp(r,n),t=re(t),n=z(t);return r}function jE(e,t){const n=[];return BE(e,t,n),n.sort((r,i)=>r.order-i.order),n}function BE(e,t,n){const r=is(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Nc(t,i=>{BE(e,i,n)})}function Rc(e,t){const n=is(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,TE(t,n.length>0?n:void 0)}Nc(t,r=>{Rc(e,r)})}function OP(e,t){const n=Wo(FE(e,t)),r=pp(e.transactionQueueTree_,t);return fP(r,i=>{Lu(e,i)}),Lu(e,r),kE(r,i=>{Lu(e,i)}),n}function Lu(e,t){const n=is(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(A(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(A(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(yi(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?TE(t,void 0):n.length=s+1,hr(e.eventQueue_,Wo(t),i);for(let o=0;o<r.length;o++)Vo(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function MP(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mt(`Invalid query segment '${n}' in query '${e}'`)}return t}const My=function(e,t){const n=FP(e),r=n.namespace;n.domain==="firebase.com"&&kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||YN();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new BS(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ee(n.pathString)}},FP=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=LP(e.substring(u,d)));const f=MP(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ke(this.snapshot.exportVal())}}class UE{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $(this._path)?null:qS(this._path)}get ref(){return new un(this._repo,this._path)}get _queryIdentifier(){const t=Sy(this._queryParams),n=Gh(t);return n==="{}"?"default":n}get _queryObject(){return Sy(this._queryParams)}isEqual(t){if(t=cn(t),!(t instanceof wp))return!1;const n=this._repo===t._repo,r=Qh(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+PR(this._path)}}class un extends wp{constructor(t,n){super(t,n,new ep,!1)}get parent(){const t=QS(this._path);return t===null?null:new un(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ki{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ee(t),r=Bl(this.ref,t);return new Ki(this._node.getChild(n),r,_e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Ki(i,Bl(this.ref,r),_e)))}hasChild(t){const n=new ee(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xr(e,t){return e=cn(e),e._checkNotDeleted("ref"),t!==void 0?Bl(e._root,t):e._root}function Bl(e,t){return e=cn(e),z(e._path)===null?yP("child","path",t,!1):AE("child","path",t,!1),new un(e._repo,be(e._path,t))}function jP(e){e=cn(e);const t=new _p(()=>{}),n=new Ho(t);return bP(e._repo,e,n).then(r=>new Ki(r,new un(e._repo,e._path),e._queryParams.getIndex()))}class Ho{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new VE("value",this,new Ki(t.snapshotNode,new un(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new UE(this,t,n):null}matches(t){return t instanceof Ho?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ac{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new UE(this,t,n):null}createEvent(t,n){A(t.childName!=null,"Child events should have a childName.");const r=Bl(new un(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new VE(t.type,this,new Ki(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Ac?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function BP(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{yf(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new _p(n,s||void 0),a=t==="value"?new Ho(o):new Ac(t,o);return RP(e._repo,e,a),()=>yf(e._repo,e,a)}function ss(e,t,n,r){return BP(e,"value",t,n,r)}function os(e,t,n){let r=null;const i=n?new _p(n):null;t==="value"?r=new Ho(i):t&&(r=new Ac(t,i)),yf(e._repo,e,r)}zA(un);KA(un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="FIREBASE_DATABASE_EMULATOR_HOST",vf={};let UP=!1;function zP(e,t,n,r){e.repoInfo_=new BS(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function $P(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ge("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=My(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[VP]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=My(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Pi(Pi.OWNER):new oR(e.name,e.options,t);vP("Invalid Firebase Database URL",o),$(o.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=HP(a,e,u,new sR(e.name,n));return new GP(d,e)}function WP(e,t){const n=vf[t];(!n||n[e.key]!==e)&&kn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),AP(e),delete n[e.key]}function HP(e,t,n,r){let i=vf[t.name];i||(i={},vf[t.name]=i);let s=i[e.toURLString()];return s&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new CP(e,UP,n,r),i[e.toURLString()]=s,s}class GP{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new un(this._repo,Q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(WP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&kn("Cannot call "+t+" on a deleted database.")}}function KP(e=Hh(),t){const n=ns(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=uS("database");r&&qP(n,...r)}return n}function qP(e,t,n,r={}){e=cn(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&kn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Pi(Pi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:wb(r.mockUserToken,e.app.options.projectId);s=new Pi(o)}zP(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(e){WN(ON),In(new ln("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return $P(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Rt(iy,sy,e),Rt(iy,sy,"esm2017")}wn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};wn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};YP();var QP="firebase",XP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt(QP,XP,"app");const zE="@firebase/installations",Sp="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=1e4,WE=`w:${Sp}`,HE="FIS_v2",JP="https://firebaseinstallations.googleapis.com/v1",ZP=60*60*1e3,eD="installations",tD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wr=new Ec(eD,tD,nD);function GE(e){return e instanceof fr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE({projectId:e}){return`${JP}/projects/${e}/installations`}function qE(e){return{token:e.token,requestStatus:2,expiresIn:iD(e.expiresIn),creationTime:Date.now()}}async function YE(e,t){const r=(await t.json()).error;return Wr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function QE({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function rD(e,{refreshToken:t}){const n=QE(e);return n.append("Authorization",sD(t)),n}async function XE(e){const t=await e();return t.status>=500&&t.status<600?e():t}function iD(e){return Number(e.replace("s","000"))}function sD(e){return`${HE} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=KE(e),i=QE(e),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:HE,appId:e.appId,sdkVersion:WE},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await XE(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:qE(c.authToken)}}else throw await YE("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=/^[cdef][\w-]{21}$/,_f="";function cD(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=uD(e);return lD.test(n)?n:_f}catch{return _f}}function uD(e){return aD(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;function eC(e,t){const n=Pc(e);tC(n,t),dD(n,t)}function tC(e,t){const n=ZE.get(e);if(n)for(const r of n)r(t)}function dD(e,t){const n=fD();n&&n.postMessage({key:e,fid:t}),hD()}let Nr=null;function fD(){return!Nr&&"BroadcastChannel"in self&&(Nr=new BroadcastChannel("[Firebase] FID Change"),Nr.onmessage=e=>{tC(e.data.key,e.data.fid)}),Nr}function hD(){ZE.size===0&&Nr&&(Nr.close(),Nr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="firebase-installations-database",mD=1,Hr="firebase-installations-store";let Mu=null;function Ep(){return Mu||(Mu=wS(pD,mD,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Hr)}}})),Mu}async function Vl(e,t){const n=Pc(e),i=(await Ep()).transaction(Hr,"readwrite"),s=i.objectStore(Hr),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&eC(e,t.fid),t}async function nC(e){const t=Pc(e),r=(await Ep()).transaction(Hr,"readwrite");await r.objectStore(Hr).delete(t),await r.done}async function Dc(e,t){const n=Pc(e),i=(await Ep()).transaction(Hr,"readwrite"),s=i.objectStore(Hr),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&eC(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cp(e){let t;const n=await Dc(e.appConfig,r=>{const i=gD(r),s=yD(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===_f?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function gD(e){const t=e||{fid:cD(),registrationStatus:0};return rC(t)}function yD(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Wr.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=vD(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:_D(e)}:{installationEntry:t}}async function vD(e,t){try{const n=await oD(e,t);return Vl(e.appConfig,n)}catch(n){throw GE(n)&&n.customData.serverCode===409?await nC(e.appConfig):await Vl(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function _D(e){let t=await Fy(e.appConfig);for(;t.registrationStatus===1;)await JE(100),t=await Fy(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Cp(e);return r||n}return t}function Fy(e){return Dc(e,t=>{if(!t)throw Wr.create("installation-not-found");return rC(t)})}function rC(e){return wD(e)?{fid:e.fid,registrationStatus:0}:e}function wD(e){return e.registrationStatus===1&&e.registrationTime+$E<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD({appConfig:e,heartbeatServiceProvider:t},n){const r=ED(e,n),i=rD(e,n),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:WE,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await XE(()=>fetch(r,a));if(l.ok){const c=await l.json();return qE(c)}else throw await YE("Generate Auth Token",l)}function ED(e,{fid:t}){return`${KE(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(e,t=!1){let n;const r=await Dc(e.appConfig,s=>{if(!iC(s))throw Wr.create("not-registered");const o=s.authToken;if(!t&&TD(o))return s;if(o.requestStatus===1)return n=CD(e,t),s;{if(!navigator.onLine)throw Wr.create("app-offline");const a=kD(s);return n=xD(e,a),a}});return n?await n:r.authToken}async function CD(e,t){let n=await jy(e.appConfig);for(;n.authToken.requestStatus===1;)await JE(100),n=await jy(e.appConfig);const r=n.authToken;return r.requestStatus===0?xp(e,t):r}function jy(e){return Dc(e,t=>{if(!iC(t))throw Wr.create("not-registered");const n=t.authToken;return bD(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function xD(e,t){try{const n=await SD(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Vl(e.appConfig,r),n}catch(n){if(GE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nC(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Vl(e.appConfig,r)}throw n}}function iC(e){return e!==void 0&&e.registrationStatus===2}function TD(e){return e.requestStatus===2&&!ID(e)}function ID(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ZP}function kD(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function bD(e){return e.requestStatus===1&&e.requestTime+$E<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(e){const t=e,{installationEntry:n,registrationPromise:r}=await Cp(t);return r?r.catch(console.error):xp(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(e,t=!1){const n=e;return await AD(n),(await xp(n,t)).token}async function AD(e){const{registrationPromise:t}=await Cp(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(e){if(!e||!e.options)throw Fu("App Configuration");if(!e.name)throw Fu("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Fu(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Fu(e){return Wr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="installations",DD="installations-internal",OD=e=>{const t=e.getProvider("app").getImmediate(),n=PD(t),r=ns(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},LD=e=>{const t=e.getProvider("app").getImmediate(),n=ns(t,sC).getImmediate();return{getId:()=>ND(n),getToken:i=>RD(n,i)}};function MD(){In(new ln(sC,OD,"PUBLIC")),In(new ln(DD,LD,"PRIVATE"))}MD();Rt(zE,Sp);Rt(zE,Sp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="analytics",FD="firebase_id",jD="origin",BD=60*1e3,VD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt=new $h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gt=new Ec("analytics","Analytics",UD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(e){if(!e.startsWith(Tp)){const t=gt.create("invalid-gtag-resource",{gtagURL:e});return lt.warn(t.message),""}return e}function oC(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function $D(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function WD(e,t){const n=$D("firebase-js-sdk-policy",{createScriptURL:zD}),r=document.createElement("script"),i=`${Tp}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function HD(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function GD(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const l=(await oC(n)).find(c=>c.measurementId===i);l&&await t[l.appId]}}catch(a){lt.error(a)}e("config",i,s)}async function KD(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await oC(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&t[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){lt.error(s)}}function qD(e,t,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await KD(e,t,n,a,l)}else if(s==="config"){const[a,l]=o;await GD(e,t,n,r,a,l)}else if(s==="consent"){const[a,l]=o;e("consent",a,l)}else if(s==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(s==="set"){const[a]=o;e("set",a)}else e(s,...o)}catch(a){lt.error(a)}}return i}function YD(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=qD(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function QD(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Tp)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=30,JD=1e3;class ZD{constructor(t={},n=JD){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const aC=new ZD;function eO(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function tO(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:eO(r)},s=VD.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw gt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function nO(e,t=aC,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw gt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw gt.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new sO;return setTimeout(async()=>{a.abort()},n!==void 0?n:BD),lC({appId:r,apiKey:i,measurementId:s},o,a,t)}async function lC(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=aC){var s;const{appId:o,measurementId:a}=e;try{await rO(r,t)}catch(l){if(a)return lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await tO(e);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!iO(c)){if(i.deleteThrottleMetadata(o),a)return lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Yg(n,i.intervalMillis,XD):Yg(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),lt.debug(`Calling attemptFetch again in ${u} millis`),lC(e,d,r,i)}}function rO(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(gt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function iO(e){if(!(e instanceof fr)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class sO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function oO(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,o=Object.assign(Object.assign({},r),{send_to:s});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(){if(pS())try{await mS()}catch(e){return lt.warn(gt.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return lt.warn(gt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function lO(e,t,n,r,i,s,o){var a;const l=nO(e);l.then(h=>{n[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&lt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>lt.error(h)),t.push(l);const c=aO().then(h=>{if(h)return r.getId()}),[u,d]=await Promise.all([l,c]);QD(s)||WD(s,u.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[jD]="firebase",f.update=!0,d!=null&&(f[FD]=d),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.app=t}_delete(){return delete Ks[this.app.options.appId],Promise.resolve()}}let Ks={},By=[];const Vy={};let ju="dataLayer",uO="gtag",Uy,cC,zy=!1;function dO(){const e=[];if(Eb()&&e.push("This is a browser extension environment."),xb()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gt.create("invalid-analytics-context",{errorInfo:t});lt.warn(n.message)}}function fO(e,t,n){dO();const r=e.options.appId;if(!r)throw gt.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gt.create("no-api-key");if(Ks[r]!=null)throw gt.create("already-exists",{id:r});if(!zy){HD(ju);const{wrappedGtag:s,gtagCore:o}=YD(Ks,By,Vy,ju,uO);cC=s,Uy=o,zy=!0}return Ks[r]=lO(e,By,Vy,t,Uy,ju,n),new cO(e)}function hO(e=Hh()){e=cn(e);const t=ns(e,Ul);return t.isInitialized()?t.getImmediate():pO(e)}function pO(e,t={}){const n=ns(e,Ul);if(n.isInitialized()){const i=n.getImmediate();if(xl(t,n.getOptions()))return i;throw gt.create("already-initialized")}return n.initialize({options:t})}function mO(e,t,n,r){e=cn(e),oO(cC,Ks[e.app.options.appId],t,n,r).catch(i=>lt.error(i))}const $y="@firebase/analytics",Wy="0.10.8";function gO(){In(new ln(Ul,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return fO(r,i,n)},"PUBLIC")),In(new ln("analytics-internal",e,"PRIVATE")),Rt($y,Wy),Rt($y,Wy,"esm2017");function e(t){try{const n=t.getProvider(Ul).getImmediate();return{logEvent:(r,i,s)=>mO(n,r,i,s)}}catch(n){throw gt.create("interop-component-reg-failed",{reason:n})}}}gO();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="type.googleapis.com/google.protobuf.Int64Value",vO="type.googleapis.com/google.protobuf.UInt64Value";function uC(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function wf(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>wf(t));if(typeof e=="function"||typeof e=="object")return uC(e,t=>wf(t));throw new Error("Data cannot be encoded in JSON: "+e)}function zl(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case yO:case vO:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>zl(t)):typeof e=="function"||typeof e=="object"?uC(e,t=>zl(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oi extends fr{constructor(t,n,r){super(`${Ip}/${t}`,n||""),this.details=r}}function _O(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function wO(e,t){let n=_O(e),r=n,i;try{const s=t&&t.error;if(s){const o=s.status;if(typeof o=="string"){if(!Hy[o])return new Oi("internal","internal");n=Hy[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=zl(i))}}catch{}return n==="ok"?null:new Oi(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="us-central1";function EO(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Oi("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class CO{constructor(t,n,r,i,s=Sf,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new SO(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Sf}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function xO(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function TO(e,t,n){return r=>kO(e,t,r,n||{})}async function IO(e,t,n,r){n["Content-Type"]="application/json";let i;try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function kO(e,t,n,r){const i=e._url(t);return bO(e,i,n,r)}async function bO(e,t,n,r){n=wf(n);const i={data:n},s={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=EO(a),c=await Promise.race([IO(t,i,s,e.fetchImpl),l.promise,e.cancelAllRequests]);if(l.cancel(),!c)throw new Oi("cancelled","Firebase Functions instance was deleted.");const u=wO(c.status,c.json);if(u)throw u;if(!c.json)throw new Oi("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new Oi("internal","Response is missing data field.");return{data:zl(d)}}const Gy="@firebase/functions",Ky="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="auth-internal",RO="app-check-internal",AO="messaging-internal";function PO(e,t){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(NO),a=r.getProvider(AO),l=r.getProvider(RO);return new CO(s,o,a,l,i,e)};In(new ln(Ip,n,"PUBLIC").setMultipleInstances(!0)),Rt(Gy,Ky,t),Rt(Gy,Ky,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(e=Hh(),t=Sf){const r=ns(cn(e),Ip).getImmediate({identifier:t}),i=uS("functions");return i&&OO(r,...i),r}function OO(e,t,n){xO(cn(e),t,n)}function LO(e,t,n){return TO(cn(e),t,n)}PO(fetch.bind(self));const MO={apiKey:"AIzaSyAo6d1HES7mP7llZLq_U4Fz1lCXt5sMFYk",authDomain:"mascot-burundi.firebaseapp.com",databaseURL:"https://mascot-burundi-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mascot-burundi",storageBucket:"mascot-burundi.firebasestorage.app",messagingSenderId:"500676163065",appId:"1:500676163065:web:c06dc636cf77d625f3b928",measurementId:"G-BPHGQL02XS"},FO=MO,dC=SS(FO);hO(dC);const Jr=KP(),jO=DO(dC),BO="/assets/bg_my_bonus_today-1c055e02.png";var VO=e=>typeof e!="string"?{}:e.split(/ ?; ?/).reduce((t,n)=>{const[r,i]=n.split(/ ?: ?/).map((s,o)=>o===0?s.replace(/\s+/g,""):s.trim());if(r&&i){const s=r.replace(/(\w)-(\w)/g,(a,l,c)=>`${l}${c.toUpperCase()}`);let o=i.trim();Number.isNaN(Number(i))||(o=Number(i)),t[r.startsWith("-")?r:s]=o}return t},{});function UO(e=6){const t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let n="";for(let r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n}var zO=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],qy={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"};function $O(e,t){var s;const{key:n,level:r,...i}=t;switch(e.nodeType){case 1:return w.createElement(HO(e.nodeName),WO(e,n),Yy(e.childNodes,r,i));case 3:{const o=((s=e.nodeValue)==null?void 0:s.toString())??"";if(!i.allowWhiteSpaces&&/^\s+$/.test(o)&&!/[\u00A0\u202F]/.test(o))return null;if(!e.parentNode)return o;const a=e.parentNode.nodeName.toLowerCase();return zO.includes(a)?(/\S/.test(o)&&console.warn(`A textNode is not allowed inside '${a}'. Your text "${o}" will be ignored`),null):o}case 8:return null;case 11:return Yy(e.childNodes,r,t);default:return null}}function WO(e,t){const n={key:t};if(e instanceof Element){const r=e.getAttribute("class");r&&(n.className=r),[...e.attributes].forEach(i=>{switch(i.name){case"class":break;case"style":n[i.name]=VO(i.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":n[qy[i.name]||i.name]=!0;break;default:n[qy[i.name]||i.name]=i.value}})}return n}function Yy(e,t,n){const r=[...e].map((i,s)=>$l(i,{...n,index:s,level:t+1})).filter(Boolean);return r.length?r:null}function HO(e){return/[a-z]+[A-Z]+[a-z]+/.test(e)?e:e.toLowerCase()}function $l(e,t={}){if(!e||!(e instanceof Node))return null;const{actions:n=[],index:r=0,level:i=0,randomKey:s}=t;let o=e,a=`${i}-${r}`;const l=[];return s&&i===0&&(a=`${UO()}-${a}`),Array.isArray(n)&&n.forEach(c=>{c.condition(o,a,i)&&(typeof c.pre=="function"&&(o=c.pre(o,a,i),o instanceof Node||(o=e)),typeof c.post=="function"&&l.push(c.post(o,a,i)))}),l.length?l:$O(o,{key:a,level:i,...t})}function GO(e,t={}){if(!e||typeof e!="string")return null;const{includeAllNodes:n=!1,nodeOnly:r=!1,selector:i="body > *",type:s="text/html"}=t;try{const a=new DOMParser().parseFromString(e,s);if(n){const{childNodes:c}=a.body;return r?c:[...c].map(u=>$l(u,t))}const l=a.querySelector(i)||a.body.childNodes[0];if(!(l instanceof Node))throw new TypeError("Error parsing input");return r?l:$l(l,t)}catch{}return null}function fC(e,t={}){return typeof e=="string"?GO(e,t):e instanceof Node?$l(e,t):null}var KO=Object.defineProperty,qO=(e,t,n)=>t in e?KO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wa=(e,t,n)=>qO(e,typeof t!="symbol"?t+"":t,n),Qy="react-inlinesvg",Xy=10,J={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function Ba(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function YO(){return XO()&&typeof window<"u"&&window!==null}async function hC(e,t){const n=await fetch(e,t),r=n.headers.get("content-type"),[i]=(r??"").split(/ ?; ?/);if(n.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some(s=>i.includes(s)))throw new Error(`Content type isn't valid: ${i}`);return n.text()}function QO(e=1){return new Promise(t=>{setTimeout(t,e*1e3)})}function XO(){if(!document)return!1;const e=document.createElement("div");e.innerHTML="<svg />";const t=e.firstChild;return!!t&&t.namespaceURI==="http://www.w3.org/2000/svg"}function JO(e){return e[Math.floor(Math.random()*e.length)]}function ZO(e){const t="abcdefghijklmnopqrstuvwxyz",n="1234567890",r=`${t}${t.toUpperCase()}${n}`;let i="";for(let s=0;s<e;s++)i+=JO(r);return i}function eL(e,...t){const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(t.includes(r)||(n[r]=e[r]));return n}var tL=class{constructor(){wa(this,"cacheApi"),wa(this,"cacheStore"),wa(this,"subscribers",[]),wa(this,"isReady",!1),this.cacheStore=new Map;let e=Qy,t=!1;Ba()&&(e=window.REACT_INLINESVG_CACHE_NAME??Qy,t=!!window.REACT_INLINESVG_PERSISTENT_CACHE&&"caches"in window),t?caches.open(e).then(n=>{this.cacheApi=n}).catch(n=>{console.error(`Failed to open cache: ${n.message}`)}).finally(()=>{this.isReady=!0,this.subscribers.forEach(n=>n())}):this.isReady=!0}onReady(e){this.isReady?e():this.subscribers.push(e)}async get(e,t){var n;return await(this.cacheApi?this.fetchAndAddToPersistentCache(e,t):this.fetchAndAddToInternalCache(e,t)),((n=this.cacheStore.get(e))==null?void 0:n.content)??""}set(e,t){this.cacheStore.set(e,t)}isCached(e){var t;return((t=this.cacheStore.get(e))==null?void 0:t.status)===J.LOADED}async fetchAndAddToInternalCache(e,t){const n=this.cacheStore.get(e);if((n==null?void 0:n.status)===J.LOADING){await this.handleLoading(e,async()=>{this.cacheStore.set(e,{content:"",status:J.IDLE}),await this.fetchAndAddToInternalCache(e,t)});return}if(!(n!=null&&n.content)){this.cacheStore.set(e,{content:"",status:J.LOADING});try{const r=await hC(e,t);this.cacheStore.set(e,{content:r,status:J.LOADED})}catch(r){throw this.cacheStore.set(e,{content:"",status:J.FAILED}),r}}}async fetchAndAddToPersistentCache(e,t){var i,s,o;const n=this.cacheStore.get(e);if((n==null?void 0:n.status)===J.LOADED)return;if((n==null?void 0:n.status)===J.LOADING){await this.handleLoading(e,async()=>{this.cacheStore.set(e,{content:"",status:J.IDLE}),await this.fetchAndAddToPersistentCache(e,t)});return}this.cacheStore.set(e,{content:"",status:J.LOADING});const r=await((i=this.cacheApi)==null?void 0:i.match(e));if(r){const a=await r.text();this.cacheStore.set(e,{content:a,status:J.LOADED});return}try{await((s=this.cacheApi)==null?void 0:s.add(new Request(e,t)));const a=await((o=this.cacheApi)==null?void 0:o.match(e)),l=await(a==null?void 0:a.text())??"";this.cacheStore.set(e,{content:l,status:J.LOADED})}catch(a){throw this.cacheStore.set(e,{content:"",status:J.FAILED}),a}}async handleLoading(e,t){var r;let n=0;for(;((r=this.cacheStore.get(e))==null?void 0:r.status)===J.LOADING&&n<Xy;)await QO(.1),n+=1;n>=Xy&&await t()}keys(){return[...this.cacheStore.keys()]}data(){return[...this.cacheStore.entries()].map(([e,t])=>({[e]:t}))}async delete(e){this.cacheApi&&await this.cacheApi.delete(e),this.cacheStore.delete(e)}async clear(){if(this.cacheApi){const e=await this.cacheApi.keys();for(const t of e)await this.cacheApi.delete(t)}this.cacheStore.clear()}};function Jy(e){const t=w.useRef();return w.useEffect(()=>{t.current=e}),t.current}function nL(e){const{baseURL:t,content:n,description:r,handleError:i,hash:s,preProcessor:o,title:a,uniquifyIDs:l=!1}=e;try{const c=rL(n,o),u=fC(c,{nodeOnly:!0});if(!u||!(u instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");const d=pC(u,{baseURL:t,hash:s,uniquifyIDs:l});if(r){const f=d.querySelector("desc");f!=null&&f.parentNode&&f.parentNode.removeChild(f);const h=document.createElementNS("http://www.w3.org/2000/svg","desc");h.innerHTML=r,d.prepend(h)}if(typeof a<"u"){const f=d.querySelector("title");if(f!=null&&f.parentNode&&f.parentNode.removeChild(f),a){const h=document.createElementNS("http://www.w3.org/2000/svg","title");h.innerHTML=a,d.prepend(h)}}return d}catch(c){return i(c)}}function rL(e,t){return t?t(e):e}function pC(e,t){const{baseURL:n="",hash:r,uniquifyIDs:i}=t,s=["id","href","xlink:href","xlink:role","xlink:arcrole"],o=["href","xlink:href"],a=(l,c)=>o.includes(l)&&(c?!c.includes("#"):!1);return i&&[...e.children].forEach(l=>{var c;if((c=l.attributes)!=null&&c.length){const u=Object.values(l.attributes).map(d=>{const f=d,h=/url\((.*?)\)/.exec(d.value);return h!=null&&h[1]&&(f.value=d.value.replace(h[0],`url(${n}${h[1]}__${r})`)),f});s.forEach(d=>{const f=u.find(h=>h.name===d);f&&!a(d,f.value)&&(f.value=`${f.value}__${r}`)})}return l.children.length?pC(l,t):l}),e}var vi;function iL(e){const{cacheRequests:t=!0,children:n=null,description:r,fetchOptions:i,innerRef:s,loader:o=null,onError:a,onLoad:l,src:c,title:u,uniqueHash:d}=e,[f,h]=w.useReducer((X,xe)=>({...X,...xe}),{content:"",element:null,isCached:t&&vi.isCached(e.src),status:J.IDLE}),{content:g,element:_,isCached:S,status:m}=f,p=Jy(e),y=Jy(f),E=w.useRef(d??ZO(8)),C=w.useRef(!1),I=w.useRef(!1),b=w.useCallback(X=>{C.current&&(h({status:X.message==="Browser does not support SVG"?J.UNSUPPORTED:J.FAILED}),a==null||a(X))},[a]),T=w.useCallback((X,xe=!1)=>{C.current&&h({content:X,isCached:xe,status:J.LOADED})},[]),O=w.useCallback(async()=>{const X=await hC(c,i);T(X)},[i,T,c]),L=w.useCallback(()=>{try{const X=nL({...e,handleError:b,hash:E.current,content:g}),xe=fC(X);if(!xe||!w.isValidElement(xe))throw new Error("Could not convert the src to a React element");h({element:xe,status:J.READY})}catch(X){b(new Error(X.message))}},[g,b,e]),G=w.useCallback(async()=>{const X=/^data:image\/svg[^,]*?(;base64)?,(.*)/u.exec(c);let xe;if(X?xe=X[1]?window.atob(X[2]):decodeURIComponent(X[2]):c.includes("<svg")&&(xe=c),xe){T(xe);return}try{if(t){const Ye=await vi.get(c,i);T(Ye,!0)}else await O()}catch(Ye){b(Ye)}},[t,O,i,b,T,c]),Re=w.useCallback(async()=>{C.current&&h({content:"",element:null,isCached:!1,status:J.LOADING})},[]);w.useEffect(()=>{if(C.current=!0,!Ba()||I.current)return()=>{};try{if(m===J.IDLE){if(!YO())throw new Error("Browser does not support SVG");if(!c)throw new Error("Missing src");Re()}}catch(X){b(X)}return I.current=!0,()=>{C.current=!1}},[]),w.useEffect(()=>{if(Ba()&&p)if(p.src!==c){if(!c){b(new Error("Missing src"));return}Re()}else(p.title!==u||p.description!==r)&&L()},[r,L,b,Re,p,c,u]),w.useEffect(()=>{y&&(y.status!==J.LOADING&&m===J.LOADING&&G(),y.status!==J.LOADED&&m===J.LOADED&&L(),y.status!==J.READY&&m===J.READY&&(l==null||l(c,S)))},[G,L,S,l,y,c,m]);const Ae=eL(e,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return Ba()?_?w.cloneElement(_,{ref:s,...Ae}):[J.UNSUPPORTED,J.FAILED].includes(m)?n:o:o}function H(e){vi||(vi=new tL);const{loader:t}=e,n=w.useRef(!1),[r,i]=w.useState(vi.isReady);return w.useEffect(()=>{n.current||(vi.onReady(()=>{i(!0)}),n.current=!0)},[]),r?rc.createElement(iL,{...e}):t}const sL=()=>{const e=nS();return new URLSearchParams(e.search).get("parameters")},qi=e=>{if(e>=1e6){const t=Math.floor(e/1e3),n=(e%1e3/1e3).toString().slice(1,3).replace(".",",");return`${t.toLocaleString("vi-VN")}${n}k`}else return e.toLocaleString("vi-VN")};function oL(e,t){if(isNaN(e)||isNaN(t))return console.error("Invalid timestamp:",e,t),!1;const n=new Date(e),r=new Date(t);return n.getUTCDate()===r.getUTCDate()&&n.getUTCMonth()===r.getUTCMonth()&&n.getUTCFullYear()===r.getUTCFullYear()}const aL=(e,t)=>{const n=t.map(i=>({...i})),r=n.findIndex(i=>i.id===e.id);return r!==-1?n.map((i,s)=>s===r?{...i,totalIcoinBetting:(i.totalIcoinBetting??0)+(e.totalIcoinBetting??0)}:i):[...t,e]},lL=(e,t)=>{const n=e.map(o=>o.id),r={};t.forEach(o=>{r[o.id]=o});const i=n.map(o=>r[o]).filter(o=>o!==void 0),s=new Set(n);return t.forEach(o=>{s.has(o.id)||i.push(o)}),i},Se=w.createContext({stateGame:"NONE",transactionId:0,noGame:0,cardResult:null,topUsers:[],setModal:e=>{},selectedCard:null,setSelectedCard:e=>{},betting:e=>{},iCoinWinTheGame:0,setBettingTimeEnd:()=>{},totalIcoin:0,setTotalIcoin:e=>{},fbId:""}),cL=function({betCards:t}){const[n,r]=w.useState(0),{stateGame:i,setTotalIcoin:s,fbId:o}=w.useContext(Se);return w.useEffect(()=>{const a=Xr(Jr,`/ikara/users/${o}/totalIcoin`),l=c=>{const u=c.val();u!=null&&u!=null&&u!=n&&(i!=="RESULTWAITING"&&i!=="RESULT"&&i!=="END"||t.length===0)&&(r(u),s(u||0))};return ss(a,l),()=>os(a,"value",l)},[n,o,i]),v.jsxs("div",{className:"end-left",children:[v.jsx("p",{className:"end-left--text",children:"Tổng của tôi:"}),v.jsx(H,{src:zi,className:"end-left--img"}),v.jsx("p",{className:"end-left--icoin",children:qi(n)})]})},uL=({bettingIcoin:e})=>v.jsxs("p",{className:"card__main--icoin",children:[e," iCoin"]}),dL="/assets/bg_card_light_1_5_px-da0b943b.png",fL=({betCard:e})=>v.jsxs("div",{className:"card__main",children:[v.jsx("p",{className:"card__main--background-color",children:" "}),v.jsx("p",{className:"card__main--header",children:e.id.split("_").slice(-1)}),v.jsx("img",{src:dL,alt:"card background",className:"card__main--background"}),v.jsx(H,{src:e.imageUrl,className:"card__main--zodiac"}),v.jsxs("p",{className:"card__main--bonus",children:["x",e.multiply]}),v.jsx(uL,{bettingIcoin:e.totalIcoinBetting||0})]}),kp=e=>window.flutter_inappwebview&&typeof window.flutter_inappwebview.callHandler=="function"?(window.flutter_inappwebview.callHandler(e),!0):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers[e]?(window.webkit.messageHandlers[e].postMessage(e),!0):window.AndroidWebView&&typeof window.AndroidWebView.postMessage=="function"?(window.AndroidWebView.postMessage(e),!0):(console.log("No WebView handler available (Flutter, WKWebView, or Android WebView)"),!1);function hL(){return v.jsxs("button",{className:"end-right",onClick:()=>kp("callbackMyWallet"),children:[v.jsx("p",{className:"end-right--text",children:"Nạp ngay"}),v.jsx(H,{src:iS,className:"end-right--img"})]})}const pL=w.memo(function({icoinImg:t,icoinWinToday:n}){return v.jsxs("div",{className:"totalIcoin",children:[v.jsx(H,{className:"header-left--img",src:t}),v.jsx("p",{className:"header-left--icoin",children:qi(n)})]})}),mL=w.memo(function({arrowImg:t,noGameToday:n}){const{setModal:r,stateGame:i}=w.useContext(Se),s=()=>{i!=="RESULT"&&i!=="END"&&r({state:"OPEN",type:"MYHISTORY"})};return v.jsxs("div",{onClick:s,className:"header-right",children:[v.jsxs("p",{className:"header-right--text",children:["Số lần đoán hôm nay: ",n]}),v.jsx(H,{className:"header-right--arrow",src:t})]})});let gL={data:""},yL=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||gL,vL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_L=/\/\*[^]*?\*\/|  +/g,Zy=/\n+/g,Bn=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Bn(o,s):s+"{"+Bn(o,s[1]=="k"?"":t)+"}":typeof o=="object"?r+=Bn(o,t?t.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Bn.p?Bn.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},hn={},mC=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+mC(e[n]);return t}return e},wL=(e,t,n,r,i)=>{let s=mC(e),o=hn[s]||(hn[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!hn[o]){let l=s!==e?e:(c=>{let u,d,f=[{}];for(;u=vL.exec(c.replace(_L,""));)u[4]?f.shift():u[3]?(d=u[3].replace(Zy," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(Zy," ").trim();return f[0]})(e);hn[o]=Bn(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&hn.g?hn.g:null;return n&&(hn.g=hn[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(hn[o],t,r,a),o},SL=(e,t,n)=>e.reduce((r,i,s)=>{let o=t[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Bn(a,""):a===!1?"":a}return r+i+(o??"")},"");function Oc(e){let t=this||{},n=e.call?e(t.p):e;return wL(n.unshift?n.raw?SL(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,yL(t.target),t.g,t.o,t.k)}let gC,Ef,Cf;Oc.bind({g:1});let bn=Oc.bind({k:1});function EL(e,t,n,r){Bn.p=t,gC=e,Ef=n,Cf=r}function pr(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Ef&&Ef()},a),n.o=/ *go\d+/.test(l),a.className=Oc.apply(n,r)+(l?" "+l:""),t&&(a.ref=o);let c=e;return e[0]&&(c=a.as||e,delete a.as),Cf&&c[0]&&Cf(a),gC(c,a)}return t?t(i):i}}var CL=e=>typeof e=="function",To=(e,t)=>CL(e)?e(t):e,xL=(()=>{let e=0;return()=>(++e).toString()})(),yC=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),TL=20,Va=new Map,IL=1e3,ev=e=>{if(Va.has(e))return;let t=setTimeout(()=>{Va.delete(e),Zr({type:4,toastId:e})},IL);Va.set(e,t)},kL=e=>{let t=Va.get(e);t&&clearTimeout(t)},xf=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,TL)};case 1:return t.toast.id&&kL(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return e.toasts.find(s=>s.id===n.id)?xf(e,{type:1,toast:n}):xf(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?ev(r):e.toasts.forEach(s=>{ev(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Ua=[],za={toasts:[],pausedAt:void 0},Zr=e=>{za=xf(za,e),Ua.forEach(t=>{t(za)})},bL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},NL=(e={})=>{let[t,n]=w.useState(za);w.useEffect(()=>(Ua.push(n),()=>{let i=Ua.indexOf(n);i>-1&&Ua.splice(i,1)}),[t]);let r=t.toasts.map(i=>{var s,o;return{...e,...e[i.type],...i,duration:i.duration||((s=e[i.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||bL[i.type],style:{...e.style,...(o=e[i.type])==null?void 0:o.style,...i.style}}});return{...t,toasts:r}},RL=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||xL()}),Go=e=>(t,n)=>{let r=RL(t,e,n);return Zr({type:2,toast:r}),r.id},ht=(e,t)=>Go("blank")(e,t);ht.error=Go("error");ht.success=Go("success");ht.loading=Go("loading");ht.custom=Go("custom");ht.dismiss=e=>{Zr({type:3,toastId:e})};ht.remove=e=>Zr({type:4,toastId:e});ht.promise=(e,t,n)=>{let r=ht.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(ht.success(To(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{ht.error(To(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};var AL=(e,t)=>{Zr({type:1,toast:{id:e,height:t}})},PL=()=>{Zr({type:5,time:Date.now()})},DL=e=>{let{toasts:t,pausedAt:n}=NL(e);w.useEffect(()=>{if(n)return;let s=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&ht.dismiss(a.id);return}return setTimeout(()=>ht.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=w.useCallback(()=>{n&&Zr({type:6,time:Date.now()})},[n]),i=w.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=t.filter(h=>(h.position||c)===(s.position||c)&&h.height),d=u.findIndex(h=>h.id===s.id),f=u.filter((h,g)=>g<d&&h.visible).length;return u.filter(h=>h.visible).slice(...a?[f+1]:[0,f]).reduce((h,g)=>h+(g.height||0)+l,0)},[t]);return{toasts:t,handlers:{updateHeight:AL,startPause:PL,endPause:r,calculateOffset:i}}},OL=bn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,LL=bn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ML=bn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,FL=pr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${OL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${LL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ML} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,jL=bn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,BL=pr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${jL} 1s linear infinite;
`,VL=bn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,UL=bn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zL=pr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${VL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${UL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$L=pr("div")`
  position: absolute;
`,WL=pr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,HL=bn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GL=pr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${HL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,KL=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement(GL,null,t):t:n==="blank"?null:w.createElement(WL,null,w.createElement(BL,{...r}),n!=="loading"&&w.createElement($L,null,n==="error"?w.createElement(FL,{...r}):w.createElement(zL,{...r})))},qL=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,YL=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,QL="0%{opacity:0;} 100%{opacity:1;}",XL="0%{opacity:1;} 100%{opacity:0;}",JL=pr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ZL=pr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,eM=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=yC()?[QL,XL]:[qL(n),YL(n)];return{animation:t?`${bn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},tM=w.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?eM(e.position||t||"top-center",e.visible):{opacity:0},s=w.createElement(KL,{toast:e}),o=w.createElement(ZL,{...e.ariaProps},To(e.message,e));return w.createElement(JL,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:o}):w.createElement(w.Fragment,null,s,o))});EL(w.createElement);var nM=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=w.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:s,className:t,style:n},i)},rM=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},iM=Oc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sa=16,sM=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=DL(n);return w.createElement("div",{style:{position:"fixed",zIndex:9999,top:Sa,left:Sa,right:Sa,bottom:Sa,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||t,d=l.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),f=rM(u,d);return w.createElement(nM,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?iM:"",style:f},c.type==="custom"?To(c.message,c):i?i(c):w.createElement(tM,{toast:c,position:u}))}))},he=ht;const oM=w.memo(({betCards:e,onUserDataChange:t,setFirebaseData:n})=>{const[r,i]=w.useState(),[s,o]=w.useState(0),[a,l]=w.useState([]),{stateGame:c,transactionId:u,fbId:d}=w.useContext(Se);return w.useEffect(()=>{const f=Xr(Jr,`/zodiacGame/players/${d}`),h=g=>{const _=g.val();if(!_)return;const S=_.bettingCards?Object.keys(_.bettingCards).map(y=>{var E,C,I,b,T;return{id:((E=_.bettingCards[y])==null?void 0:E.id)||"",imageUrl:((C=_.bettingCards[y])==null?void 0:C.imageUrl)||"",name:((I=_.bettingCards[y])==null?void 0:I.name)||"",multiply:((b=_.bettingCards[y])==null?void 0:b.multiply)||0,totalIcoinBetting:((T=_.bettingCards[y])==null?void 0:T.totalIcoinBetting)||0}}):[];let m=[];S.length==0&&c=="NONE"||l(y=>(m=lL(y,S),n([...m.map(E=>({...E}))]),m));const p={facebookUserId:_.facebookUserId,profileImageLink:_.profileImageLink,name:_.name,uid:_.uid,totalIcoin:_.totalIcoin,noBettingToday:_.noBettingToday,bettingCards:S,isWin:_.isWin,totalIcoinWin:_.totalIcoinWin||0,totalIcoinWinToday:_.totalIcoinWinToday||0};i({...p}),c!=="PREPARESTART"&&c!=="END"&&c!=="NONE"&&t({isWin:p.isWin,totalIcoinWin:p.totalIcoinWin}),(c!=="RESULTWAITING"&&c!=="RESULT"&&c!=="END"||e.length===0)&&o(p.totalIcoinWinToday||0)};return ss(f,h),()=>os(f,"value",h)},[c,u,d]),w.useEffect(()=>{try{e.length<=4?l([...e.map(f=>({...f}))]):(he.dismiss(),he("Đặt cược tối đa 4 lá linh vật",{duration:2e3,position:"bottom-center"}))}catch{}},[e,u]),v.jsx(v.Fragment,{children:v.jsxs("div",{className:"section-myInfo mt-22px",children:[v.jsx("img",{src:BO,className:"section-myInfo__bg"}),v.jsxs("div",{className:"header-left",children:[v.jsx("p",{className:"header-left--text",children:"Thưởng hôm nay:"}),v.jsx(pL,{icoinImg:zi,icoinWinToday:s})]}),v.jsx(mL,{arrowImg:iS,noGameToday:(r==null?void 0:r.noBettingToday)||0}),v.jsx("div",{className:"section-myInfo__cards",children:a.map(f=>v.jsx(fL,{betCard:f},f.id))}),v.jsxs("div",{className:"end",children:[v.jsx(cL,{fbId:d,betCards:e}),v.jsx(hL,{})]})]})})}),aM="/assets/best-players-logo-b7d6d18d.svg",lM="/assets/bg_best_players-4f1a1d29.png",cM="/assets/avatar_default_1-148aca01.png",uM="/assets/avatar_default_2-a46cef53.png",dM="/assets/avatar_default_3-eb0f54ff.png",fM="/assets/avatar_default_4-73ef9ddc.png",hM="/assets/avatar_default_5-511431ef.png",pM="/assets/avatar_default_6-b39c3580.png",mM="/assets/avatar_default_7-28fb2927.png",tv=[cM,uM,dM,fM,hM,pM,mM],gM=e=>{function t(){const r=Math.floor(Math.random()*tv.length);return tv[r]}const n=e.target;n.onerror=null,n.src=t()};function bp({avatarUrl:e,className:t}){return v.jsx("img",{src:e,alt:"user avatar",className:t,onError:gM})}function yM({index:e,profileImageLink:t,name:n,totalIcoin:r}){return v.jsxs("li",{className:`content${e}`,children:[v.jsx(bp,{avatarUrl:t,className:`content${e}--img`}),v.jsx("p",{className:`content${e}--name`,children:n}),v.jsx("p",{className:`content${e}--text`,children:"Thưởng ván trước:"}),v.jsxs("div",{className:`content${e}__icoin`,children:[v.jsx("p",{className:`content${e}__icoin--data`,children:qi(r||0)}),v.jsx("img",{src:zi,alt:"icoin",className:"content1__icoin--img"})]})]})}const vM=function(){const{topUsers:t,stateGame:n}=w.useContext(Se);return v.jsxs("div",{className:"best-players mb-4-5px mt-30px",children:[v.jsx("img",{src:lM,alt:"",className:"best-players__bg"}),v.jsx(H,{src:aM,className:"best-players--img mt-6px"}),v.jsx("ol",{className:"contents",children:n&&n!=="RESULT"&&n!=="RESULTWAITING"&&n!=="END"&&t.map((r,i)=>v.jsx(yM,{index:i,profileImageLink:r.profileImageLink||"",name:r.name||"unknow",totalIcoin:r.totalIcoin||0},r.facebookUserId))})]})},vC="/assets/bg_card_selected-df79ef84.svg",_C="/assets/bg_content_betting_075x-897afc53.png",wC="/assets/bg_content_betting_2x-c05d5acb.png",_M="/assets/bg_header_betting-5f2b7e96.svg",SC="/assets/bg_lighter-a043652d.svg";function wM(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function Lc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Tf=e=>Array.isArray(e);function EC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Io(e){return typeof e=="string"||Array.isArray(e)}function nv(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Np(e,t,n,r){if(typeof t=="function"){const[i,s]=nv(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=nv(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function Mc(e,t,n){const r=e.getProps();return Np(r,t,n!==void 0?n:r.custom,e)}const Rp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ap=["initial",...Rp],Ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ei=new Set(Ko),rn=e=>e*1e3,sn=e=>e/1e3,SM={type:"spring",stiffness:500,damping:25,restSpeed:10},EM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),CM={type:"keyframes",duration:.8},xM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TM=(e,{keyframes:t})=>t.length>2?CM:ei.has(e)?e.startsWith("scale")?EM(t[1]):SM:xM;function Pp(e,t){return e?e[t]||e.default||e:void 0}const IM={skipAnimations:!1,useManualTiming:!1},kM=e=>e!==null;function Fc(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(kM),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const yt=e=>e;let CC=yt;function bM(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const h=d&&r?t:n;return u&&s.add(c),h.has(c)||h.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const Ea=["read","resolveKeyframes","update","preRender","render","postRender"],NM=40;function xC(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ea.reduce((m,p)=>(m[p]=bM(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:f}=o,h=()=>{const m=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(m-i.timestamp,NM),1),i.timestamp=m,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:Ea.reduce((m,p)=>{const y=o[p];return m[p]=(E,C=!1,I=!1)=>(n||g(),y.schedule(E,C,I)),m},{}),cancel:m=>{for(let p=0;p<Ea.length;p++)o[Ea[p]].cancel(m)},state:i,steps:o}}const{schedule:le,cancel:or,state:je,steps:Bu}=xC(typeof requestAnimationFrame<"u"?requestAnimationFrame:yt,!0),TC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RM=1e-7,AM=12;function PM(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=TC(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>RM&&++a<AM);return o}function qo(e,t,n,r){if(e===t&&n===r)return yt;const i=s=>PM(s,0,1,e,n);return s=>s===0||s===1?s:TC(i(s),t,r)}const IC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kC=e=>t=>1-e(1-t),bC=qo(.33,1.53,.69,.99),Dp=kC(bC),NC=IC(Dp),RC=e=>(e*=2)<1?.5*Dp(e):.5*(2-Math.pow(2,-10*(e-1))),Op=e=>1-Math.sin(Math.acos(e)),AC=kC(Op),PC=IC(Op),DC=e=>/^0[^.\s]+$/u.test(e);function DM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||DC(e):!0}const OC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),LC=e=>t=>typeof t=="string"&&t.startsWith(e),MC=LC("--"),OM=LC("var(--"),Lp=e=>OM(e)?LM.test(e.split("/*")[0].trim()):!1,LM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,MM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FM(e){const t=MM.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function FC(e,t,n=1){const[r,i]=FM(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return OC(o)?parseFloat(o):o}return Lp(i)?FC(i,t,n+1):i}const Nn=(e,t,n)=>n>t?t:n<e?e:n,as={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ko={...as,transform:e=>Nn(0,1,e)},Ca={...as,default:1},Yo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),On=Yo("deg"),on=Yo("%"),F=Yo("px"),jM=Yo("vh"),BM=Yo("vw"),rv={...on,parse:e=>on.parse(e)/100,transform:e=>on.transform(e*100)},VM=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),iv=e=>e===as||e===F,sv=(e,t)=>parseFloat(e.split(", ")[t]),ov=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return sv(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?sv(s[1],e):0}},UM=new Set(["x","y","z"]),zM=Ko.filter(e=>!UM.has(e));function $M(e){const t=[];return zM.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Yi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ov(4,13),y:ov(5,14)};Yi.translateX=Yi.x;Yi.translateY=Yi.y;const jC=e=>t=>t.test(e),WM={test:e=>e==="auto",parse:e=>e},BC=[as,F,on,On,BM,jM,WM],av=e=>BC.find(jC(e)),Lr=new Set;let If=!1,kf=!1;function VC(){if(kf){const e=Array.from(Lr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=$M(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}kf=!1,If=!1,Lr.forEach(e=>e.complete()),Lr.clear()}function UC(){Lr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(kf=!0)})}function HM(){UC(),VC()}class Mp{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Lr.add(this),If||(If=!0,le.read(UC),le.resolveKeyframes(VC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Lr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Lr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const qs=e=>Math.round(e*1e5)/1e5,Fp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GM(e){return e==null}const KM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jp=(e,t)=>n=>!!(typeof n=="string"&&KM.test(n)&&n.startsWith(e)||t&&!GM(n)&&Object.prototype.hasOwnProperty.call(n,t)),zC=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Fp);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qM=e=>Nn(0,255,e),Vu={...as,transform:e=>Math.round(qM(e))},Rr={test:jp("rgb","red"),parse:zC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Vu.transform(e)+", "+Vu.transform(t)+", "+Vu.transform(n)+", "+qs(ko.transform(r))+")"};function YM(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const bf={test:jp("#"),parse:YM,transform:Rr.transform},_i={test:jp("hsl","hue"),parse:zC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+on.transform(qs(t))+", "+on.transform(qs(n))+", "+qs(ko.transform(r))+")"},We={test:e=>Rr.test(e)||bf.test(e)||_i.test(e),parse:e=>Rr.test(e)?Rr.parse(e):_i.test(e)?_i.parse(e):bf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Rr.transform(e):_i.transform(e)},QM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XM(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Fp))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(QM))===null||n===void 0?void 0:n.length)||0)>0}const $C="number",WC="color",JM="var",ZM="var(",lv="${}",eF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bo(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(eF,l=>(We.test(l)?(r.color.push(s),i.push(WC),n.push(We.parse(l))):l.startsWith(ZM)?(r.var.push(s),i.push(JM),n.push(l)):(r.number.push(s),i.push($C),n.push(parseFloat(l))),++s,lv)).split(lv);return{values:n,split:a,indexes:r,types:i}}function HC(e){return bo(e).values}function GC(e){const{split:t,types:n}=bo(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===$C?s+=qs(i[o]):a===WC?s+=We.transform(i[o]):s+=i[o]}return s}}const tF=e=>typeof e=="number"?0:e;function nF(e){const t=HC(e);return GC(e)(t.map(tF))}const ar={test:XM,parse:HC,createTransformer:GC,getAnimatableNone:nF},rF=new Set(["brightness","contrast","saturate","opacity"]);function iF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Fp)||[];if(!r)return e;const i=n.replace(r,"");let s=rF.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const sF=/\b([a-z-]*)\(.*?\)/gu,Nf={...ar,getAnimatableNone:e=>{const t=e.match(sF);return t?t.map(iF).join(" "):e}},oF={borderWidth:F,borderTopWidth:F,borderRightWidth:F,borderBottomWidth:F,borderLeftWidth:F,borderRadius:F,radius:F,borderTopLeftRadius:F,borderTopRightRadius:F,borderBottomRightRadius:F,borderBottomLeftRadius:F,width:F,maxWidth:F,height:F,maxHeight:F,top:F,right:F,bottom:F,left:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,backgroundPositionX:F,backgroundPositionY:F},aF={rotate:On,rotateX:On,rotateY:On,rotateZ:On,scale:Ca,scaleX:Ca,scaleY:Ca,scaleZ:Ca,skew:On,skewX:On,skewY:On,distance:F,translateX:F,translateY:F,translateZ:F,x:F,y:F,z:F,perspective:F,transformPerspective:F,opacity:ko,originX:rv,originY:rv,originZ:F},cv={...as,transform:Math.round},Bp={...oF,...aF,zIndex:cv,size:F,fillOpacity:ko,strokeOpacity:ko,numOctaves:cv},lF={...Bp,color:We,backgroundColor:We,outlineColor:We,fill:We,stroke:We,borderColor:We,borderTopColor:We,borderRightColor:We,borderBottomColor:We,borderLeftColor:We,filter:Nf,WebkitFilter:Nf},Vp=e=>lF[e];function KC(e,t){let n=Vp(e);return n!==Nf&&(n=ar),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const cF=new Set(["auto","none","0"]);function uF(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!cF.has(s)&&bo(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=KC(n,i)}class qC extends Mp{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Lp(c))){const u=FC(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!VM.has(r)||t.length!==2)return;const[i,s]=t,o=av(i),a=av(s);if(o!==a)if(iv(o)&&iv(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)DM(t[i])&&r.push(i);r.length&&uF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Yi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function jc(e){return typeof e=="function"}let $a;function dF(){$a=void 0}const an={now:()=>($a===void 0&&an.set(je.isProcessing||IM.useManualTiming?je.timestamp:performance.now()),$a),set:e=>{$a=e,queueMicrotask(dF)}},uv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ar.test(e)||e==="0")&&!e.startsWith("url("));function fF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function hF(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=uv(i,t),a=uv(s,t);return!o||!a?!1:fF(e)||(n==="spring"||jc(n))&&r}const pF=40;class YC{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=an.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HM(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=an.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!hF(t,r,i,s))if(o)this.options.duration=0;else{l==null||l(Fc(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Gr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},QC=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(Gr(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function XC(e,t){return t?e*(1e3/t):0}const mF=5;function JC(e,t,n){const r=Math.max(t-mF,0);return XC(n-e(r),t-r)}const ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Uu=.001;function gF({duration:e=ye.duration,bounce:t=ye.bounce,velocity:n=ye.velocity,mass:r=ye.mass}){let i,s,o=1-t;o=Nn(ye.minDamping,ye.maxDamping,o),e=Nn(ye.minDuration,ye.maxDuration,sn(e)),o<1?(i=c=>{const u=c*o,d=u*e,f=u-n,h=Rf(c,o),g=Math.exp(-d);return Uu-f/h*g},s=c=>{const d=c*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(c,2)*e,g=Math.exp(-d),_=Rf(Math.pow(c,2),o);return(-i(c)+Uu>0?-1:1)*((f-h)*g)/_}):(i=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-Uu+u*d},s=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=vF(i,s,a);if(e=rn(e),isNaN(l))return{stiffness:ye.stiffness,damping:ye.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const yF=12;function vF(e,t,n){let r=n;for(let i=1;i<yF;i++)r=r-e(r)/t(r);return r}function Rf(e,t){return e*Math.sqrt(1-t*t)}const Wl=2e4;function Up(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Wl;)t+=n,r=e.next(t);return t>=Wl?1/0:t}const _F=["duration","bounce"],wF=["stiffness","damping","mass"];function dv(e,t){return t.some(n=>e[n]!==void 0)}function SF(e){let t={velocity:ye.velocity,stiffness:ye.stiffness,damping:ye.damping,mass:ye.mass,isResolvedFromDuration:!1,...e};if(!dv(e,wF)&&dv(e,_F))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Nn(.05,1,1-e.bounce)*Math.sqrt(i);t={...t,mass:ye.mass,stiffness:i,damping:s}}else{const n=gF(e);t={...t,...n,mass:ye.mass},t.isResolvedFromDuration=!0}return t}function zp(e=ye.visualDuration,t=ye.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=SF({...n,velocity:-sn(n.velocity||0)}),g=f||0,_=c/(2*Math.sqrt(l*u)),S=o-s,m=sn(Math.sqrt(l/u)),p=Math.abs(S)<5;r||(r=p?ye.restSpeed.granular:ye.restSpeed.default),i||(i=p?ye.restDelta.granular:ye.restDelta.default);let y;if(_<1){const C=Rf(m,_);y=I=>{const b=Math.exp(-_*m*I);return o-b*((g+_*m*S)/C*Math.sin(C*I)+S*Math.cos(C*I))}}else if(_===1)y=C=>o-Math.exp(-m*C)*(S+(g+m*S)*C);else{const C=m*Math.sqrt(_*_-1);y=I=>{const b=Math.exp(-_*m*I),T=Math.min(C*I,300);return o-b*((g+_*m*S)*Math.sinh(T)+C*S*Math.cosh(T))/C}}const E={calculatedDuration:h&&d||null,next:C=>{const I=y(C);if(h)a.done=C>=d;else{let b=0;_<1&&(b=C===0?rn(g):JC(y,C,I));const T=Math.abs(b)<=r,O=Math.abs(o-I)<=i;a.done=T&&O}return a.value=a.done?o:I,a},toString:()=>{const C=Math.min(Up(E),Wl),I=QC(b=>E.next(C*b).value,C,30);return C+"ms "+I}};return E}function fv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},h=T=>a!==void 0&&T<a||l!==void 0&&T>l,g=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let _=n*t;const S=d+_,m=o===void 0?S:o(S);m!==S&&(_=m-d);const p=T=>-_*Math.exp(-T/r),y=T=>m+p(T),E=T=>{const O=p(T),L=y(T);f.done=Math.abs(O)<=c,f.value=f.done?m:L};let C,I;const b=T=>{h(f.value)&&(C=T,I=zp({keyframes:[f.value,g(f.value)],velocity:JC(y,T,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return b(0),{calculatedDuration:null,next:T=>{let O=!1;return!I&&C===void 0&&(O=!0,E(T),b(T)),C!==void 0&&T>=C?I.next(T-C):(!O&&E(T),f)}}}const EF=qo(.42,0,1,1),CF=qo(0,0,.58,1),ZC=qo(.42,0,.58,1),ex=e=>Array.isArray(e)&&typeof e[0]!="number",$p=e=>Array.isArray(e)&&typeof e[0]=="number",xF={linear:yt,easeIn:EF,easeInOut:ZC,easeOut:CF,circIn:Op,circInOut:PC,circOut:AC,backIn:Dp,backInOut:NC,backOut:bC,anticipate:RC},hv=e=>{if($p(e)){CC(e.length===4);const[t,n,r,i]=e;return qo(t,n,r,i)}else if(typeof e=="string")return xF[e];return e},TF=(e,t)=>n=>t(e(n)),Qo=(...e)=>e.reduce(TF),ue=(e,t,n)=>e+(t-e)*n;function zu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=zu(l,a,e+1/3),s=zu(l,a,e),o=zu(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Hl(e,t){return n=>n>0?t:e}const $u=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},kF=[bf,Rr,_i],bF=e=>kF.find(t=>t.test(e));function pv(e){const t=bF(e);if(!t)return!1;let n=t.parse(e);return t===_i&&(n=IF(n)),n}const mv=(e,t)=>{const n=pv(e),r=pv(t);if(!n||!r)return Hl(e,t);const i={...n};return s=>(i.red=$u(n.red,r.red,s),i.green=$u(n.green,r.green,s),i.blue=$u(n.blue,r.blue,s),i.alpha=ue(n.alpha,r.alpha,s),Rr.transform(i))},Af=new Set(["none","hidden"]);function NF(e,t){return Af.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function RF(e,t){return n=>ue(e,t,n)}function Wp(e){return typeof e=="number"?RF:typeof e=="string"?Lp(e)?Hl:We.test(e)?mv:DF:Array.isArray(e)?tx:typeof e=="object"?We.test(e)?mv:AF:Hl}function tx(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>Wp(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function AF(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Wp(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function PF(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const DF=(e,t)=>{const n=ar.createTransformer(t),r=bo(e),i=bo(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Af.has(e)&&!i.values.length||Af.has(t)&&!r.values.length?NF(e,t):Qo(tx(PF(r,i),i.values),n):Hl(e,t)};function nx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ue(e,t,n):Wp(e)(e,t)}function OF(e,t,n){const r=[],i=n||nx,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||yt:t;a=Qo(l,a)}r.push(a)}return r}function LF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(CC(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=OF(t,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=Gr(e[u],e[u+1],c);return o[u](d)};return n?c=>l(Nn(e[0],e[s-1],c)):l}function rx(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Gr(0,t,r);e.push(ue(n,1,i))}}function ix(e){const t=[0];return rx(t,e.length-1),t}function MF(e,t){return e.map(n=>n*t)}function FF(e,t){return e.map(()=>t||ZC).splice(0,e.length-1)}function Gl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=ex(r)?r.map(hv):hv(r),s={done:!1,value:t[0]},o=MF(n&&n.length===t.length?n:ix(t),e),a=LF(o,t,{ease:Array.isArray(i)?i:FF(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const jF=e=>{const t=({timestamp:n})=>e(n);return{start:()=>le.update(t,!0),stop:()=>or(t),now:()=>je.isProcessing?je.timestamp:an.now()}},BF={decay:fv,inertia:fv,tween:Gl,keyframes:Gl,spring:zp},VF=e=>e/100;class Hp extends YC{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Mp,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=jc(n)?n:BF[n]||Gl;let l,c;a!==Gl&&typeof t[0]!="number"&&(l=Qo(VF,nx(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Up(u));const{calculatedDuration:d}=u,f=d+i,h=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:h,repeatType:g,repeatDelay:_,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?m<0:m>u;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let y=this.currentTime,E=s;if(h){const T=Math.min(this.currentTime,u)/d;let O=Math.floor(T),L=T%1;!L&&T>=1&&(L=1),L===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(g==="reverse"?(L=1-L,_&&(L-=_/d)):g==="mirror"&&(E=o)),y=Nn(0,1,L)*d}const C=p?{done:!1,value:l[0]}:E.next(y);a&&(C.value=a(C.value));let{done:I}=C;!p&&c!==null&&(I=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return b&&i!==void 0&&(C.value=Fc(l,this.options,i)),S&&S(C.value),b&&this.finish(),C}get duration(){const{resolved:t}=this;return t?sn(t.calculatedDuration):0}get time(){return sn(this.currentTime)}set time(t){t=rn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=sn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=jF,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const UF=new Set(["opacity","clipPath","filter","transform"]);function Gp(e){let t;return()=>(t===void 0&&(t=e()),t)}const zF={linearEasing:void 0};function $F(e,t){const n=Gp(e);return()=>{var r;return(r=zF[t])!==null&&r!==void 0?r:n()}}const Kl=$F(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function sx(e){return!!(typeof e=="function"&&Kl()||!e||typeof e=="string"&&(e in Pf||Kl())||$p(e)||Array.isArray(e)&&e.every(sx))}const As=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Pf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:As([0,.65,.55,1]),circOut:As([.55,0,1,.45]),backIn:As([.31,.01,.66,-.59]),backOut:As([.33,1.53,.69,.99])};function ox(e,t){if(e)return typeof e=="function"&&Kl()?QC(e,t):$p(e)?As(e):Array.isArray(e)?e.map(n=>ox(n,t)||Pf.easeOut):Pf[e]}function WF(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=ox(a,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function gv(e,t){e.timeline=t,e.onfinish=null}const HF=Gp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ql=10,GF=2e4;function KF(e){return jc(e.type)||e.type==="spring"||!sx(e.ease)}function qF(e,t){const n=new Hp({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<GF;)r=n.sample(s),i.push(r.value),s+=ql;return{times:void 0,keyframes:i,duration:s-ql,ease:"linear"}}const ax={anticipate:RC,backInOut:NC,circInOut:PC};function YF(e){return e in ax}class yv extends YC{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new qC(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Kl()&&YF(o)&&(o=ax[o]),KF(this.options)){const{onComplete:f,onUpdate:h,motionValue:g,element:_,...S}=this.options,m=qF(t,S);t=m.keyframes,t.length===1&&(t[1]=t[0]),i=m.duration,s=m.times,o=m.ease,a="keyframes"}const d=WF(l.owner.current,c,t,{...this.options,duration:i,times:s,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(gv(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(Fc(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return sn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return sn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=rn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return yt;const{animation:r}=n;gv(r,t)}return yt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:f,...h}=this.options,g=new Hp({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),_=rn(this.time);c.setWithVelocity(g.sample(_-ql).value,g.sample(_).value,ql)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;return HF()&&r&&UF.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const QF=Gp(()=>window.ScrollTimeline!==void 0);class lx{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>QF()&&i.attachTimeline?i.attachTimeline(t):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function XF({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Kp=(e,t,n,r={},i,s)=>o=>{const a=Pp(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-rn(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};XF(a)||(u={...u,...TM(e,u)}),u.duration&&(u.duration=rn(u.duration)),u.repeatDelay&&(u.repeatDelay=rn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&t.get()!==void 0){const f=Fc(u.keyframes,a);if(f!==void 0)return le.update(()=>{u.onUpdate(f),u.onComplete()}),new lx([])}return!s&&yv.supports(u)?new yv(u):new Hp(u)},JF=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ZF=e=>Tf(e)?e[e.length-1]||0:e;function qp(e,t){e.indexOf(t)===-1&&e.push(t)}function Bc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Yp{constructor(){this.subscriptions=[]}add(t){return qp(this.subscriptions,t),()=>Bc(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vv=30,e2=e=>!isNaN(parseFloat(e));class t2{constructor(t,n={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=an.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=an.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=e2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Yp);const r=this.events[t].add(n);return t==="change"?()=>{r(),le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=an.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>vv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vv);return XC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(e,t){return new t2(e,t)}function n2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,No(n))}function r2(e,t){const n=Mc(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=ZF(s[o]);n2(e,o,a)}}const Qp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i2="framerAppearId",cx="data-"+Qp(i2);function ux(e){return e.props[cx]}const Le=e=>!!(e&&e.getVelocity);function s2(e){return!!(Le(e)&&e.add)}function Df(e,t){const n=e.getValue("willChange");if(s2(n))return n.add(t)}function o2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Xp(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,(s=e.latestValues[d])!==null&&s!==void 0?s:null),h=l[d];if(h===void 0||u&&o2(u,d))continue;const g={delay:n,...Pp(o||{},d)};let _=!1;if(window.MotionHandoffAnimation){const m=ux(e);if(m){const p=window.MotionHandoffAnimation(m,d,le);p!==null&&(g.startTime=p,_=!0)}}Df(e,d),f.start(Kp(d,f,h,e.shouldReduceMotion&&ei.has(d)?{type:!1}:g,e,_));const S=f.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{le.update(()=>{a&&r2(e,a)})}),c}function Of(e,t,n={}){var r;const i=Mc(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(Xp(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return a2(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function a2(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(l2).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Of(c,t,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function l2(e,t){return e.sortNodePosition(t)}function c2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Of(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Of(e,t,n);else{const i=typeof t=="function"?Mc(e,t,n.custom):t;r=Promise.all(Xp(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const u2=Ap.length;function dx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?dx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<u2;n++){const r=Ap[n],i=e.props[r];(Io(i)||i===!1)&&(t[r]=i)}return t}const d2=[...Rp].reverse(),f2=Rp.length;function h2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>c2(e,n,r)))}function p2(e){let t=h2(e),n=_v(),r=!0;const i=l=>(c,u)=>{var d;const f=Mc(e,u,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:g,..._}=f;c={...c,..._,...g}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,u=dx(e.parent)||{},d=[],f=new Set;let h={},g=1/0;for(let S=0;S<f2;S++){const m=d2[S],p=n[m],y=c[m]!==void 0?c[m]:u[m],E=Io(y),C=m===l?p.isActive:null;C===!1&&(g=S);let I=y===u[m]&&y!==c[m]&&E;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),p.protectedKeys={...h},!p.isActive&&C===null||!y&&!p.prevProp||Lc(y)||typeof y=="boolean")continue;const b=m2(p.prevProp,y);let T=b||m===l&&p.isActive&&!I&&E||S>g&&E,O=!1;const L=Array.isArray(y)?y:[y];let G=L.reduce(i(m),{});C===!1&&(G={});const{prevResolvedValues:Re={}}=p,Ae={...Re,...G},X=Y=>{T=!0,f.has(Y)&&(O=!0,f.delete(Y)),p.needsAnimating[Y]=!0;const R=e.getValue(Y);R&&(R.liveStyle=!1)};for(const Y in Ae){const R=G[Y],M=Re[Y];if(h.hasOwnProperty(Y))continue;let B=!1;Tf(R)&&Tf(M)?B=!EC(R,M):B=R!==M,B?R!=null?X(Y):f.add(Y):R!==void 0&&f.has(Y)?X(Y):p.protectedKeys[Y]=!0}p.prevProp=y,p.prevResolvedValues=G,p.isActive&&(h={...h,...G}),r&&e.blockInitialAnimation&&(T=!1),T&&(!(I&&b)||O)&&d.push(...L.map(Y=>({animation:Y,options:{type:m}})))}if(f.size){const S={};f.forEach(m=>{const p=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),S[m]=p??null}),d.push({animation:S})}let _=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=_v(),r=!0}}}function m2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!EC(t,e):!1}function vr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _v(){return{animate:vr(!0),whileInView:vr(),whileHover:vr(),whileTap:vr(),whileDrag:vr(),whileFocus:vr(),exit:vr()}}class mr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class g2 extends mr{constructor(t){super(t),t.animationState||(t.animationState=p2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Lc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let y2=0;class v2 extends mr{constructor(){super(...arguments),this.id=y2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const _2={animation:{Feature:g2},exit:{Feature:v2}},Ft={x:!1,y:!1};function fx(){return Ft.x||Ft.y}function Jp(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);const s=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function hx(e,t){const n=Jp(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function wv(e){return t=>{t.pointerType==="touch"||fx()||e(t)}}function w2(e,t,n={}){const[r,i,s]=hx(e,n),o=wv(a=>{const{target:l}=a,c=t(a);if(!c||!l)return;const u=wv(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Zp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ps=new WeakSet;function Sv(e){return t=>{t.key==="Enter"&&e(t)}}function Wu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const S2=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Sv(()=>{if(Ps.has(n))return;Wu(n,"down");const i=Sv(()=>{Wu(n,"up")}),s=()=>Wu(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)},E2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C2(e){return E2.has(e.tagName)||e.tabIndex!==-1}const px=(e,t)=>t?e===t?!0:px(e,t.parentElement):!1;function Ev(e){return Zp(e)&&!fx()}function x2(e,t,n={}){const[r,i,s]=hx(e,n),o=a=>{const l=a.currentTarget;if(!Ev(a)||Ps.has(l))return;Ps.add(l);const c=t(a),u=(h,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!Ev(h)||!Ps.has(l))&&(Ps.delete(l),c&&c(h,{success:g}))},d=h=>{u(h,n.useGlobalTarget||px(l,h.target))},f=h=>{u(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{C2(a)||(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>S2(c,i),i)}),s}function T2(e){return e==="x"||e==="y"?Ft[e]?null:(Ft[e]=!0,()=>{Ft[e]=!1}):Ft.x||Ft.y?null:(Ft.x=Ft.y=!0,()=>{Ft.x=Ft.y=!1})}function Xo(e){return{point:{x:e.pageX,y:e.pageY}}}const I2=e=>t=>Zp(t)&&e(t,Xo(t));function Ro(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ys(e,t,n,r){return Ro(e,t,I2(n),r)}const Cv=(e,t)=>Math.abs(e-t);function k2(e,t){const n=Cv(e.x,t.x),r=Cv(e.y,t.y);return Math.sqrt(n**2+r**2)}class mx{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Gu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=k2(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:g}=d,{timestamp:_}=je;this.history.push({...g,timestamp:_});const{onStart:S,onMove:m}=this.handlers;f||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Hu(f,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Gu(d.type==="pointercancel"?this.lastMoveEventInfo:Hu(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,S),g&&g(d,S)},!Zp(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Xo(t),a=Hu(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=je;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,Gu(a,this.history)),this.removeListeners=Qo(Ys(this.contextWindow,"pointermove",this.handlePointerMove),Ys(this.contextWindow,"pointerup",this.handlePointerUp),Ys(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),or(this.updatePoint)}}function Hu(e,t){return t?{point:t(e.point)}:e}function xv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gu({point:e},t){return{point:e,delta:xv(e,gx(t)),offset:xv(e,b2(t)),velocity:N2(t,.1)}}function b2(e){return e[0]}function gx(e){return e[e.length-1]}function N2(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=gx(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>rn(t)));)n--;if(!r)return{x:0,y:0};const s=sn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const yx=1e-4,R2=1-yx,A2=1+yx,vx=.01,P2=0-vx,D2=0+vx;function wt(e){return e.max-e.min}function O2(e,t,n){return Math.abs(e-t)<=n}function Tv(e,t,n,r=.5){e.origin=r,e.originPoint=ue(t.min,t.max,e.origin),e.scale=wt(n)/wt(t),e.translate=ue(n.min,n.max,e.origin)-e.originPoint,(e.scale>=R2&&e.scale<=A2||isNaN(e.scale))&&(e.scale=1),(e.translate>=P2&&e.translate<=D2||isNaN(e.translate))&&(e.translate=0)}function Qs(e,t,n,r){Tv(e.x,t.x,n.x,r?r.originX:void 0),Tv(e.y,t.y,n.y,r?r.originY:void 0)}function Iv(e,t,n){e.min=n.min+t.min,e.max=e.min+wt(t)}function L2(e,t,n){Iv(e.x,t.x,n.x),Iv(e.y,t.y,n.y)}function kv(e,t,n){e.min=t.min-n.min,e.max=e.min+wt(t)}function Xs(e,t,n){kv(e.x,t.x,n.x),kv(e.y,t.y,n.y)}function M2(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ue(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ue(n,e,r.max):Math.min(e,n)),e}function bv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function F2(e,{top:t,left:n,bottom:r,right:i}){return{x:bv(e.x,n,i),y:bv(e.y,t,r)}}function Nv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function j2(e,t){return{x:Nv(e.x,t.x),y:Nv(e.y,t.y)}}function B2(e,t){let n=.5;const r=wt(e),i=wt(t);return i>r?n=Gr(t.min,t.max-r,e.min):r>i&&(n=Gr(e.min,e.max-i,t.min)),Nn(0,1,n)}function V2(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Lf=.35;function U2(e=Lf){return e===!1?e=0:e===!0&&(e=Lf),{x:Rv(e,"left","right"),y:Rv(e,"top","bottom")}}function Rv(e,t,n){return{min:Av(e,t),max:Av(e,n)}}function Av(e,t){return typeof e=="number"?e:e[t]||0}const Pv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Si=()=>({x:Pv(),y:Pv()}),Dv=()=>({min:0,max:0}),ge=()=>({x:Dv(),y:Dv()});function Tt(e){return[e("x"),e("y")]}function _x({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function z2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ku(e){return e===void 0||e===1}function Mf({scale:e,scaleX:t,scaleY:n}){return!Ku(e)||!Ku(t)||!Ku(n)}function Cr(e){return Mf(e)||wx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wx(e){return Ov(e.x)||Ov(e.y)}function Ov(e){return e&&e!=="0%"}function Yl(e,t,n){const r=e-n,i=t*r;return n+i}function Lv(e,t,n,r,i){return i!==void 0&&(e=Yl(e,i,r)),Yl(e,n,r)+t}function Ff(e,t=0,n=1,r,i){e.min=Lv(e.min,t,n,r,i),e.max=Lv(e.max,t,n,r,i)}function Sx(e,{x:t,y:n}){Ff(e.x,t.translate,t.scale,t.originPoint),Ff(e.y,n.translate,n.scale,n.originPoint)}const Mv=.999999999999,Fv=1.0000000000001;function W2(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ci(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Sx(e,o)),r&&Cr(s.latestValues)&&Ci(e,s.latestValues))}t.x<Fv&&t.x>Mv&&(t.x=1),t.y<Fv&&t.y>Mv&&(t.y=1)}function Ei(e,t){e.min=e.min+t,e.max=e.max+t}function jv(e,t,n,r,i=.5){const s=ue(e.min,e.max,i);Ff(e,t,n,s,r)}function Ci(e,t){jv(e.x,t.x,t.scaleX,t.scale,t.originX),jv(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ex(e,t){return _x($2(e.getBoundingClientRect(),t))}function H2(e,t,n){const r=Ex(e,n),{scroll:i}=t;return i&&(Ei(r.x,i.offset.x),Ei(r.y,i.offset.y)),r}const Cx=({current:e})=>e?e.ownerDocument.defaultView:null,G2=new WeakMap;class K2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xo(u).point)},s=(u,d)=>{const{drag:f,dragPropagation:h,onDragStart:g}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=T2(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tt(S=>{let m=this.getAxisMotionValue(S).get()||0;if(on.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const y=p.layout.layoutBox[S];y&&(m=wt(y)*(parseFloat(m)/100))}}this.originPoint[S]=m}),g&&le.postRender(()=>g(u,d)),Df(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:g,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:S}=d;if(h&&this.currentDirection===null){this.currentDirection=q2(S),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),_&&_(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Tt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mx(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Cx(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&le.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!xa(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=M2(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&wi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=F2(i.layoutBox,n):this.constraints=!1,this.elastic=U2(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Tt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=V2(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!wi(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=H2(r,i.root,this.visualElement.getTransformPagePoint());let o=j2(i.layout.layoutBox,s);if(n){const a=n(z2(o));this.hasMutatedConstraints=!!a,a&&(o=_x(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Tt(u=>{if(!xa(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Df(this.visualElement,t),r.start(Kp(t,r,0,n,this.visualElement,!1))}stopAnimation(){Tt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tt(n=>{const{drag:r}=this.getProps();if(!xa(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-ue(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Tt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=B2({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tt(o=>{if(!xa(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ue(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;G2.set(this.visualElement,this);const t=this.visualElement.current,n=Ys(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();wi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),le.read(r);const o=Ro(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Tt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Lf,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function xa(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function q2(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Y2 extends mr{constructor(t){super(t),this.removeGroupControls=yt,this.removeListeners=yt,this.controls=new K2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bv=e=>(t,n)=>{e&&le.postRender(()=>e(t,n))};class Q2 extends mr{constructor(){super(...arguments),this.removePointerDownListener=yt}onPointerDown(t){this.session=new mx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Cx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Bv(t),onStart:Bv(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&le.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ys(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vc=w.createContext(null);function X2(){const e=w.useContext(Vc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=w.useId();w.useEffect(()=>r(i),[]);const s=w.useCallback(()=>n&&n(i),[i,n]);return!t&&n?[!1,s]:[!0]}const em=w.createContext({}),xx=w.createContext({}),Wa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Es={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(F.test(e))e=parseFloat(e);else return e;const n=Vv(e,t.target.x),r=Vv(e,t.target.y);return`${n}% ${r}%`}},J2={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ar.parse(e);if(i.length>5)return r;const s=ar.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=ue(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},Ql={};function Z2(e){Object.assign(Ql,e)}const{schedule:tm,cancel:k4}=xC(queueMicrotask,!1);class ej extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;Z2(tj),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Wa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||le.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Tx(e){const[t,n]=X2(),r=w.useContext(em);return v.jsx(ej,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(xx),isPresent:t,safeToRemove:n})}const tj={borderRadius:{...Es,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Es,borderTopRightRadius:Es,borderBottomLeftRadius:Es,borderBottomRightRadius:Es,boxShadow:J2},Ix=["TopLeft","TopRight","BottomLeft","BottomRight"],nj=Ix.length,Uv=e=>typeof e=="string"?parseFloat(e):e,zv=e=>typeof e=="number"||F.test(e);function rj(e,t,n,r,i,s){i?(e.opacity=ue(0,n.opacity!==void 0?n.opacity:1,ij(r)),e.opacityExit=ue(t.opacity!==void 0?t.opacity:1,0,sj(r))):s&&(e.opacity=ue(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<nj;o++){const a=`border${Ix[o]}Radius`;let l=$v(t,a),c=$v(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||zv(l)===zv(c)?(e[a]=Math.max(ue(Uv(l),Uv(c),r),0),(on.test(c)||on.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=ue(t.rotate||0,n.rotate||0,r))}function $v(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ij=kx(0,.5,AC),sj=kx(.5,.95,yt);function kx(e,t,n){return r=>r<e?0:r>t?1:n(Gr(e,t,r))}function Wv(e,t){e.min=t.min,e.max=t.max}function Ct(e,t){Wv(e.x,t.x),Wv(e.y,t.y)}function Hv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Gv(e,t,n,r,i){return e-=t,e=Yl(e,1/n,r),i!==void 0&&(e=Yl(e,1/i,r)),e}function oj(e,t=0,n=1,r=.5,i,s=e,o=e){if(on.test(t)&&(t=parseFloat(t),t=ue(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ue(s.min,s.max,r);e===s&&(a-=t),e.min=Gv(e.min,t,n,a,i),e.max=Gv(e.max,t,n,a,i)}function Kv(e,t,[n,r,i],s,o){oj(e,t[n],t[r],t[i],t.scale,s,o)}const aj=["x","scaleX","originX"],lj=["y","scaleY","originY"];function qv(e,t,n,r){Kv(e.x,t,aj,n?n.x:void 0,r?r.x:void 0),Kv(e.y,t,lj,n?n.y:void 0,r?r.y:void 0)}function Yv(e){return e.translate===0&&e.scale===1}function bx(e){return Yv(e.x)&&Yv(e.y)}function Qv(e,t){return e.min===t.min&&e.max===t.max}function cj(e,t){return Qv(e.x,t.x)&&Qv(e.y,t.y)}function Xv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Nx(e,t){return Xv(e.x,t.x)&&Xv(e.y,t.y)}function Jv(e){return wt(e.x)/wt(e.y)}function Zv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uj{constructor(){this.members=[]}add(t){qp(this.members,t),t.scheduleRender()}remove(t){if(Bc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dj(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const fj=(e,t)=>e.depth-t.depth;class hj{constructor(){this.children=[],this.isDirty=!1}add(t){qp(this.children,t),this.isDirty=!0}remove(t){Bc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fj),this.isDirty=!1,this.children.forEach(t)}}function Ha(e){const t=Le(e)?e.get():e;return JF(t)?t.toValue():t}function pj(e,t){const n=an.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(or(r),e(s-t))};return le.read(r,!0),()=>or(r)}function Rx(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Ax(e,t,n){const r=Le(e)?e:No(e);return r.start(Kp("",r,t,n)),r.animation}const xr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ds=typeof window<"u"&&window.MotionDebug!==void 0,qu=["","X","Y","Z"],mj={visibility:"hidden"},e_=1e3;let gj=0;function Yu(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Px(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ux(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",le,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Px(r)}function Dx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=gj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ds&&(xr.totalNodes=xr.resolvedTargetDeltas=xr.recalculatedProjection=0),this.nodes.forEach(_j),this.nodes.forEach(xj),this.nodes.forEach(Tj),this.nodes.forEach(wj),Ds&&window.MotionDebug.record(xr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yp),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Rx(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=pj(f,250),Wa.hasAnimatedSinceResize&&(Wa.hasAnimatedSinceResize=!1,this.nodes.forEach(n_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||u.getDefaultTransition()||Rj,{onLayoutAnimationStart:S,onLayoutAnimationComplete:m}=u.getProps(),p=!this.targetLayout||!Nx(this.targetLayout,g)||h,y=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,y);const E={...Pp(_,"layout"),onPlay:S,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else f||n_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ij),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Px(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t_);return}this.isUpdating||this.nodes.forEach(Ej),this.isUpdating=!1,this.nodes.forEach(Cj),this.nodes.forEach(yj),this.nodes.forEach(vj),this.clearAllSnapshots();const a=an.now();je.delta=Nn(0,1e3/60,a-je.timestamp),je.timestamp=a,je.isProcessing=!0,Bu.update.process(je),Bu.preRender.process(je),Bu.render.process(je),je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sj),this.sharedNodes.forEach(kj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!bx(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Cr(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Aj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ge();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Pj))){const{scroll:u}=this.root;u&&(Ei(l.x,u.offset.x),Ei(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=ge();if(Ct(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Ct(l,o),Ei(l.x,d.offset.x),Ei(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=ge();Ct(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ci(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Cr(u.latestValues)&&Ci(l,u.latestValues)}return Cr(this.latestValues)&&Ci(l,this.latestValues),l}removeTransform(o){const a=ge();Ct(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Cr(c.latestValues))continue;Mf(c.latestValues)&&c.updateSnapshot();const u=ge(),d=c.measurePageBox();Ct(u,d),qv(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Cr(this.latestValues)&&qv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=je.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Xs(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),L2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ct(this.target,this.layout.layoutBox),Sx(this.target,this.targetDelta)):Ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Xs(this.relativeTargetOrigin,this.target,h.target),Ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ds&&xr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Mf(this.parent.latestValues)||wx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===je.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ct(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;W2(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ge());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hv(this.prevProjectionDelta.x,this.projectionDelta.x),Hv(this.prevProjectionDelta.y,this.projectionDelta.y)),Qs(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Zv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Ds&&xr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Si(),this.projectionDelta=Si(),this.projectionDeltaWithTransform=Si()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ge(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,_=h!==g,S=this.getStack(),m=!S||S.members.length<=1,p=!!(_&&!m&&this.options.crossfade===!0&&!this.path.some(Nj));this.animationProgress=0;let y;this.mixTargetDelta=E=>{const C=E/1e3;r_(d.x,o.x,C),r_(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bj(this.relativeTarget,this.relativeTargetOrigin,f,C),y&&cj(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ge()),Ct(y,this.relativeTarget)),_&&(this.animationValues=u,rj(u,c,this.latestValues,C,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{Wa.hasAnimatedSinceResize=!0,this.currentAnimation=Ax(0,e_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Ox(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ge();const d=wt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=wt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Ct(a,l),Ci(a,u),Qs(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uj),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Yu("z",o,c,this.animationValues);for(let u=0;u<qu.length;u++)Yu(`rotate${qu[u]}`,o,c,this.animationValues),Yu(`skew${qu[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mj;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ha(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Ha(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Cr(this.latestValues)&&(_.transform=u?u({},""):"none",this.hasProjected=!1),_}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=dj(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:h,y:g}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in Ql){if(f[_]===void 0)continue;const{correct:S,applyTo:m}=Ql[_],p=c.transform==="none"?f[_]:S(f[_],d);if(m){const y=m.length;for(let E=0;E<y;E++)c[m[E]]=p}else c[_]=p}return this.options.layoutId&&(c.pointerEvents=d===this?Ha(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(t_),this.root.sharedNodes.clear()}}}function yj(e){e.updateLayout()}function vj(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Tt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=wt(f);f.min=r[d].min,f.max=f.min+h}):Ox(s,n.layoutBox,r)&&Tt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=wt(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=Si();Qs(a,r,n.layoutBox);const l=Si();o?Qs(l,e.applyTransform(i,!0),n.measuredBox):Qs(l,r,n.layoutBox);const c=!bx(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const g=ge();Xs(g,n.layoutBox,f.layoutBox);const _=ge();Xs(_,r,h.layoutBox),Nx(g,_)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function _j(e){Ds&&xr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Sj(e){e.clearSnapshot()}function t_(e){e.clearMeasurements()}function Ej(e){e.isLayoutDirty=!1}function Cj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function n_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xj(e){e.resolveTargetDelta()}function Tj(e){e.calcProjection()}function Ij(e){e.resetSkewAndRotation()}function kj(e){e.removeLeadSnapshot()}function r_(e,t,n){e.translate=ue(t.translate,0,n),e.scale=ue(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function i_(e,t,n,r){e.min=ue(t.min,n.min,r),e.max=ue(t.max,n.max,r)}function bj(e,t,n,r){i_(e.x,t.x,n.x,r),i_(e.y,t.y,n.y,r)}function Nj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Rj={duration:.45,ease:[.4,0,.1,1]},s_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),o_=s_("applewebkit/")&&!s_("chrome/")?Math.round:yt;function a_(e){e.min=o_(e.min),e.max=o_(e.max)}function Aj(e){a_(e.x),a_(e.y)}function Ox(e,t,n){return e==="position"||e==="preserve-aspect"&&!O2(Jv(t),Jv(n),.2)}function Pj(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Dj=Dx({attachResizeListener:(e,t)=>Ro(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qu={current:void 0},Lx=Dx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qu.current){const e=new Dj({});e.mount(window),e.setOptions({layoutScroll:!0}),Qu.current=e}return Qu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Oj={pan:{Feature:Q2},drag:{Feature:Y2,ProjectionNode:Lx,MeasureLayout:Tx}};function l_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&le.postRender(()=>s(t,Xo(t)))}class Lj extends mr{mount(){const{current:t}=this.node;t&&(this.unmount=w2(t,n=>(l_(this.node,n,"Start"),r=>l_(this.node,r,"End"))))}unmount(){}}class Mj extends mr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qo(Ro(this.node.current,"focus",()=>this.onFocus()),Ro(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c_(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&le.postRender(()=>s(t,Xo(t)))}class Fj extends mr{mount(){const{current:t}=this.node;t&&(this.unmount=x2(t,n=>(c_(this.node,n,"Start"),(r,{success:i})=>c_(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jf=new WeakMap,Xu=new WeakMap,jj=e=>{const t=jf.get(e.target);t&&t(e)},Bj=e=>{e.forEach(jj)};function Vj({root:e,...t}){const n=e||document;Xu.has(n)||Xu.set(n,{});const r=Xu.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Bj,{root:e,...t})),r[i]}function Uj(e,t,n){const r=Vj(t);return jf.set(e,n),r.observe(e),()=>{jf.delete(e),r.unobserve(e)}}const zj={some:0,all:1};class $j extends mr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:zj[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return Uj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Wj(t,n))&&this.startObserver()}unmount(){}}function Wj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Hj={inView:{Feature:$j},tap:{Feature:Fj},focus:{Feature:Mj},hover:{Feature:Lj}},Gj={layout:{ProjectionNode:Lx,MeasureLayout:Tx}},nm=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Uc=w.createContext({}),rm=typeof window<"u",im=rm?w.useLayoutEffect:w.useEffect,Mx=w.createContext({strict:!1});function Kj(e,t,n,r,i){var s,o;const{visualElement:a}=w.useContext(Uc),l=w.useContext(Mx),c=w.useContext(Vc),u=w.useContext(nm).reducedMotion,d=w.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,h=w.useContext(xx);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&qj(d.current,n,i,h);const g=w.useRef(!1);w.useInsertionEffect(()=>{f&&g.current&&f.update(n,c)});const _=n[cx],S=w.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return im(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),tm.render(f.render),S.current&&f.animationState&&f.animationState.animateChanges())}),w.useEffect(()=>{f&&(!S.current&&f.animationState&&f.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,_)}),S.current=!1))}),f}function qj(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Fx(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&wi(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Fx(e){if(e)return e.options.allowProjection!==!1?e.projection:Fx(e.parent)}function Yj(e,t,n){return w.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):wi(n)&&(n.current=r))},[t])}function zc(e){return Lc(e.animate)||Ap.some(t=>Io(e[t]))}function jx(e){return!!(zc(e)||e.variants)}function Qj(e,t){if(zc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Io(n)?n:void 0,animate:Io(r)?r:void 0}}return e.inherit!==!1?t:{}}function Xj(e){const{initial:t,animate:n}=Qj(e,w.useContext(Uc));return w.useMemo(()=>({initial:t,animate:n}),[u_(t),u_(n)])}function u_(e){return Array.isArray(e)?e.join(" "):e}const d_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qi={};for(const e in d_)Qi[e]={isEnabled:t=>d_[e].some(n=>!!t[n])};function Jj(e){for(const t in e)Qi[t]={...Qi[t],...e[t]}}const Zj=Symbol.for("motionComponentSymbol");function eB({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Jj(e);function s(a,l){let c;const u={...w.useContext(nm),...a,layoutId:tB(a)},{isStatic:d}=u,f=Xj(a),h=r(a,d);if(!d&&rm){nB();const g=rB(u);c=g.MeasureLayout,f.visualElement=Kj(i,h,u,t,g.ProjectionNode)}return v.jsxs(Uc.Provider,{value:f,children:[c&&f.visualElement?v.jsx(c,{visualElement:f.visualElement,...u}):null,n(i,a,Yj(h,f.visualElement,l),h,d,f.visualElement)]})}const o=w.forwardRef(s);return o[Zj]=i,o}function tB({layoutId:e}){const t=w.useContext(em).id;return t&&e!==void 0?t+"-"+e:e}function nB(e,t){w.useContext(Mx).strict}function rB(e){const{drag:t,layout:n}=Qi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const iB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sm(e){return typeof e!="string"||e.includes("-")?!1:!!(iB.indexOf(e)>-1||/[A-Z]/u.test(e))}function Bx(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Vx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ux(e,t,n,r){Bx(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Vx.has(i)?i:Qp(i),t.attrs[i])}function zx(e,{layout:t,layoutId:n}){return ei.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ql[e]||e==="opacity")}function om(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(Le(i[o])||t.style&&Le(t.style[o])||zx(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function $x(e,t,n){const r=om(e,t,n);for(const i in e)if(Le(e[i])||Le(t[i])){const s=Ko.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function am(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}function sB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:oB(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const Wx=e=>(t,n)=>{const r=w.useContext(Uc),i=w.useContext(Vc),s=()=>sB(e,t,r,i);return n?s():am(s)};function oB(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=Ha(s[f]);let{initial:o,animate:a}=e;const l=zc(e),c=jx(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Lc(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const g=Np(e,f[h]);if(g){const{transitionEnd:_,transition:S,...m}=g;for(const p in m){let y=m[p];if(Array.isArray(y)){const E=u?y.length-1:0;y=y[E]}y!==null&&(i[p]=y)}for(const p in _)i[p]=_[p]}}}return i}const lm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Hx=()=>({...lm(),attrs:{}}),Gx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,aB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lB=Ko.length;function cB(e,t,n){let r="",i=!0;for(let s=0;s<lB;s++){const o=Ko[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Gx(a,Bp[o]);if(!l){i=!1;const u=aB[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function cm(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(ei.has(l)){o=!0;continue}else if(MC(l)){i[l]=c;continue}else{const u=Gx(c,Bp[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=cB(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function f_(e,t,n){return typeof e=="string"?e:F.transform(t+n*e)}function uB(e,t,n){const r=f_(t,e.x,e.width),i=f_(n,e.y,e.height);return`${r} ${i}`}const dB={offset:"stroke-dashoffset",array:"stroke-dasharray"},fB={offset:"strokeDashoffset",array:"strokeDasharray"};function hB(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?dB:fB;e[s.offset]=F.transform(-r);const o=F.transform(t),a=F.transform(n);e[s.array]=`${o} ${a}`}function um(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(cm(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h,dimensions:g}=e;f.transform&&(g&&(h.transform=f.transform),delete f.transform),g&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=uB(g,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&hB(f,o,a,l,!1)}const dm=e=>typeof e=="string"&&e.toLowerCase()==="svg",pB={useVisualState:Wx({scrapeMotionValuesFromProps:$x,createRenderState:Hx,onMount:(e,t,{renderState:n,latestValues:r})=>{le.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),le.render(()=>{um(n,r,dm(t.tagName),e.transformTemplate),Ux(t,n)})}})},mB={useVisualState:Wx({scrapeMotionValuesFromProps:om,createRenderState:lm})};function Kx(e,t,n){for(const r in t)!Le(t[r])&&!zx(r,n)&&(e[r]=t[r])}function gB({transformTemplate:e},t){return w.useMemo(()=>{const n=lm();return cm(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yB(e,t){const n=e.style||{},r={};return Kx(r,n,e),Object.assign(r,gB(e,t)),r}function vB(e,t){const n={},r=yB(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const _B=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_B.has(e)}let qx=e=>!Xl(e);function wB(e){e&&(qx=t=>t.startsWith("on")?!Xl(t):e(t))}try{wB(require("@emotion/is-prop-valid").default)}catch{}function SB(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(qx(i)||n===!0&&Xl(i)||!t&&!Xl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function EB(e,t,n,r){const i=w.useMemo(()=>{const s=Hx();return um(s,t,dm(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Kx(s,e.style,e),i.style={...s,...i.style}}return i}function CB(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(sm(n)?EB:vB)(r,s,o,n),c=SB(r,typeof n=="string",e),u=n!==w.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=w.useMemo(()=>Le(d)?d.get():d,[d]);return w.createElement(n,{...u,children:f})}}function xB(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...sm(r)?pB:mB,preloadedFeatures:e,useRender:CB(i),createVisualElement:t,Component:r};return eB(o)}}const Bf={current:null},Yx={current:!1};function TB(){if(Yx.current=!0,!!rm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Bf.current=e.matches;e.addListener(t),t()}else Bf.current=!1}function IB(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Le(i))e.addValue(r,i);else if(Le(s))e.addValue(r,No(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,No(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Xi=new WeakMap,kB=[...BC,We,ar],bB=e=>kB.find(jC(e)),h_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Qx{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=an.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,le.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=zc(n),this.isVariantNode=jx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];l[f]!==void 0&&Le(h)&&h.set(l[f],!1)}}mount(t){this.current=t,Xi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Yx.current||TB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Xi.delete(this.current),this.projection&&this.projection.unmount(),or(this.notifyUpdate),or(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ei.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Qi){const n=Qi[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<h_.length;r++){const i=h_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=IB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=No(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(OC(i)||DC(i))?i=parseFloat(i):!bB(i)&&ar.test(n)&&(i=KC(t,n)),this.setBaseTarget(t,Le(i)?i.get():i)),Le(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Np(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Le(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Yp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Xx extends Qx{constructor(){super(...arguments),this.KeyframeResolver=qC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Le(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NB(e){return window.getComputedStyle(e)}class Jx extends Xx{constructor(){super(...arguments),this.type="html",this.renderInstance=Bx}readValueFromInstance(t,n){if(ei.has(n)){const r=Vp(n);return r&&r.default||0}else{const r=NB(t),i=(MC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ex(t,n)}build(t,n,r){cm(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return om(t,n,r)}}class Zx extends Xx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ei.has(n)){const r=Vp(n);return r&&r.default||0}return n=Vx.has(n)?n:Qp(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return $x(t,n,r)}build(t,n,r){um(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){Ux(t,n,r,i)}mount(t){this.isSVGTag=dm(t.tagName),super.mount(t)}}const RB=(e,t)=>sm(e)?new Zx(t):new Jx(t,{allowProjection:e!==w.Fragment}),AB=xB({..._2,...Hj,...Oj,...Gj},RB),lr=wM(AB);class PB extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function DB({children:e,isPresent:t}){const n=w.useId(),r=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=w.useContext(nm);return w.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),v.jsx(PB,{isPresent:t,childRef:r,sizeRef:i,children:w.cloneElement(e,{ref:r})})}const OB=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=am(LB),l=w.useId(),c=w.useCallback(d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=w.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return w.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),w.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=v.jsx(DB,{isPresent:n,children:e})),v.jsx(Vc.Provider,{value:u,children:e})};function LB(){return new Map}const Ta=e=>e.key||"";function p_(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const MB=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=w.useMemo(()=>p_(e),[e]),l=a.map(Ta),c=w.useRef(!0),u=w.useRef(a),d=am(()=>new Map),[f,h]=w.useState(a),[g,_]=w.useState(a);im(()=>{c.current=!1,u.current=a;for(let p=0;p<g.length;p++){const y=Ta(g[p]);l.includes(y)?d.delete(y):d.get(y)!==!0&&d.set(y,!1)}},[g,l.length,l.join("-")]);const S=[];if(a!==f){let p=[...a];for(let y=0;y<g.length;y++){const E=g[y],C=Ta(E);l.includes(C)||(p.splice(y,0,E),S.push(E))}o==="wait"&&S.length&&(p=S),_(p_(p)),h(a);return}const{forceRender:m}=w.useContext(em);return v.jsx(v.Fragment,{children:g.map(p=>{const y=Ta(p),E=a===g||l.includes(y),C=()=>{if(d.has(y))d.set(y,!0);else return;let I=!0;d.forEach(b=>{b||(I=!1)}),I&&(m==null||m(),_(u.current),i&&i())};return v.jsx(OB,{isPresent:E,initial:!c.current||r?void 0:!1,custom:E?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:E?void 0:C,children:p},y)})})};function FB(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Up(r),Wl);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:sn(i)}}function fm(e){return typeof e=="object"&&!Array.isArray(e)}function eT(e,t,n,r){return typeof e=="string"&&fm(t)?Jp(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function m_(e,t,n,r){var i;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:(i=r.get(t))!==null&&i!==void 0?i:e}const jB=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function tT(e,t){return ex(e)?e[jB(0,e.length,t)]:e}function BB(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(Bc(e,i),r--)}}function VB(e,t,n,r,i,s){BB(e,i,s);for(let o=0;o<t.length;o++)e.push({value:t[o],at:ue(i,s,r[o]),easing:tT(n,o)})}function UB(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}function zB(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function $B(e,t,n){return e*(t+1)}const WB="easeInOut";function HB(e,{defaultTransition:t={},...n}={},r,i){const s=t.duration||.3,o=new Map,a=new Map,l={},c=new Map;let u=0,d=0,f=0;for(let h=0;h<e.length;h++){const g=e[h];if(typeof g=="string"){c.set(g,d);continue}else if(!Array.isArray(g)){c.set(g.name,m_(d,g.at,u,c));continue}let[_,S,m={}]=g;m.at!==void 0&&(d=m_(d,m.at,u,c));let p=0;const y=(E,C,I,b=0,T=0)=>{const O=GB(E),{delay:L=0,times:G=ix(O),type:Re="keyframes",repeat:Ae,repeatType:X,repeatDelay:xe=0,...Ye}=C;let{ease:Y=t.ease||"easeOut",duration:R}=C;const M=typeof L=="function"?L(b,T):L,B=O.length,te=jc(Re)?Re:i==null?void 0:i[Re];if(B<=2&&te){let Dt=100;if(B===2&&YB(O)){const Qt=O[1]-O[0];Dt=Math.abs(Qt)}const tt={...Ye};R!==void 0&&(tt.duration=rn(R));const Ot=FB(tt,Dt,te);Y=Ot.ease,R=Ot.duration}R??(R=s);const de=d+M;G.length===1&&G[0]===0&&(G[1]=1);const fn=G.length-O.length;if(fn>0&&rx(G,fn),O.length===1&&O.unshift(null),Ae){R=$B(R,Ae);const Dt=[...O],tt=[...G];Y=Array.isArray(Y)?[...Y]:[Y];const Ot=[...Y];for(let Qt=0;Qt<Ae;Qt++){O.push(...Dt);for(let Pn=0;Pn<Dt.length;Pn++)G.push(tt[Pn]+(Qt+1)),Y.push(Pn===0?"linear":tT(Ot,Pn-1))}zB(G,Ae)}const Te=de+R;VB(I,O,Y,G,de,Te),p=Math.max(M+R,p),f=Math.max(Te,f)};if(Le(_)){const E=g_(_,a);y(S,m,y_("default",E))}else{const E=eT(_,S,r,l),C=E.length;for(let I=0;I<C;I++){S=S,m=m;const b=E[I],T=g_(b,a);for(const O in S)y(S[O],KB(m,O),y_(O,T),I,C)}}u=d,d+=p}return a.forEach((h,g)=>{for(const _ in h){const S=h[_];S.sort(UB);const m=[],p=[],y=[];for(let C=0;C<S.length;C++){const{at:I,value:b,easing:T}=S[C];m.push(b),p.push(Gr(0,f,I)),y.push(T||"easeOut")}p[0]!==0&&(p.unshift(0),m.unshift(m[0]),y.unshift(WB)),p[p.length-1]!==1&&(p.push(1),m.push(null)),o.has(g)||o.set(g,{keyframes:{},transition:{}});const E=o.get(g);E.keyframes[_]=m,E.transition[_]={...t,duration:f,ease:y,times:p,...n}}}),o}function g_(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function y_(e,t){return t[e]||(t[e]=[]),t[e]}function GB(e){return Array.isArray(e)?e:[e]}function KB(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const qB=e=>typeof e=="number",YB=e=>e.every(qB);function QB(e,t){return e in t}class XB extends Qx{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(QB(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return ge()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function JB(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Rx(e)?new Zx(t):new Jx(t);n.mount(e),Xi.set(e,n)}function ZB(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new XB(t);n.mount(e),Xi.set(e,n)}function eV(e,t){return Le(e)||typeof e=="number"||typeof e=="string"&&!fm(t)}function nT(e,t,n,r){const i=[];if(eV(e,t))i.push(Ax(e,fm(t)&&t.default||t,n&&(n.default||n)));else{const s=eT(e,t,r),o=s.length;for(let a=0;a<o;a++){const l=s[a],c=l instanceof Element?JB:ZB;Xi.has(l)||c(l);const u=Xi.get(l),d={...n};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(a,o)),i.push(...Xp(u,{...t,transition:d},{}))}}return i}function tV(e,t,n){const r=[];return HB(e,t,n,{spring:zp}).forEach(({keyframes:s,transition:o},a)=>{r.push(...nT(a,s,o))}),r}function nV(e){return Array.isArray(e)&&Array.isArray(e[0])}function rV(e){function t(n,r,i){let s=[];nV(n)?s=tV(n,r,e):s=nT(n,r,i,e);const o=new lx(s);return e&&e.animations.push(o),o}return t}const iV=rV(),sV={some:0,all:1};function oV(e,t,{root:n,margin:r,amount:i="some"}={}){const s=Jp(e),o=new WeakMap,a=c=>{c.forEach(u=>{const d=o.get(u.target);if(u.isIntersecting!==!!d)if(u.isIntersecting){const f=t(u);typeof f=="function"?o.set(u.target,f):l.unobserve(u.target)}else d&&(d(u),o.delete(u.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:sV[i]});return s.forEach(c=>l.observe(c)),()=>l.disconnect()}function aV(e,{root:t,margin:n,amount:r,once:i=!1}={}){const[s,o]=w.useState(!1);return w.useEffect(()=>{if(!e.current||i&&s)return;const a=()=>(o(!0),i?void 0:()=>o(!1)),l={root:t&&t.current||void 0,margin:n,amount:r};return oV(e.current,a,l)},[t,e,n,i,r]),s}const Ao=({lowResSrc:e,highResSrc:t,alt:n,className:r})=>{const[i,s]=w.useState(e),[o,a]=w.useState(!1);return w.useEffect(()=>{const l=new Image;l.src=t,l.onload=()=>{s(t),a(!0)}},[t]),v.jsx("img",{className:r,src:i,alt:n,style:{opacity:1},onClick:l=>{l.stopPropagation(),l.preventDefault()},onTouchStart:l=>{l.stopPropagation(),l.preventDefault()},onFocus:l=>{l.stopPropagation(),l.preventDefault()}})},lV="/assets/stake_audio-e1ebab1a.wav",cV=new Audio(lV),uV=({children:e,handleClick:t,className:n})=>v.jsx("button",{onClick:r=>{r.stopPropagation(),r.preventDefault(),cV.play(),t()},className:n,children:e}),dV=({from:e,to:t,animationOptions:n})=>{const r=w.useRef(null),i=aV(r,{once:!0});return im(()=>{const s=r.current;if(!s||!i)return;if(window.matchMedia("(prefers-reduced-motion)").matches){s.textContent=String(t);return}s.textContent=String(e);const o=iV(e,t,{duration:.75,ease:"easeOut",...n,onUpdate(a){s.textContent=a.toFixed(0)}});return()=>{o.stop()}},[r,i,e,t]),v.jsx("span",{ref:r,style:{color:"white"}})},Ju=({content:e,setClick:t,cssClass:n})=>{const[r,i]=w.useState([]),s=a=>{i([...r,{id:Date.now()}]),t(a)},o=a=>{try{i(r.filter(l=>l.id!==a))}catch{}};return v.jsxs("button",{className:`${n} button-moving`,onClick:a=>s(a),children:[r.map(a=>v.jsx(lr.p,{initial:{opacity:1,y:0},animate:{opacity:0,y:-100},transition:{duration:1},onAnimationComplete:()=>o(a.id),style:{position:"absolute"},className:"button-moving--content",children:e},a.id)),e]})},fV=()=>{const[e,t]=w.useState({from:0,to:0}),{setModal:n,selectedCard:r,transactionId:i,betting:s,totalIcoin:o}=w.useContext(Se),a=()=>{if(!i){he.dismiss(),he("Thiếu thông tin game",{duration:2e3,position:"bottom-center"});return}if(!r){he.dismiss(),he("Thiếu card select",{duration:2e3,position:"bottom-center"});return}if(e.to==0){he.remove(),he("Thiếu tiền cược",{duration:2e3,position:"bottom-center"});return}const c={...r,totalIcoinBetting:e.to||0};n({state:"CLOSE",type:"BETTING"}),s(c)},l=(c,u)=>{if(u.preventDefault(),u.stopPropagation(),c){const d=e.to+c;if(d<=o){const f=e.to;t(h=>({...h,from:f,to:d}))}else n({state:"OPEN",type:"DEPOSIT"})}};return v.jsx(lr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"betting-popup-overlay",onClick:()=>n({state:"CLOSE",type:"BETTING"}),transition:{type:"just"},"aria-labelledby":"betting-dialog-title",role:"dialog",children:v.jsxs(lr.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"betting-popup","aria-modal":"true",children:[v.jsx(Ao,{lowResSrc:_C,highResSrc:wC,alt:"betting",className:"betting--BgContent"}),v.jsx(H,{src:vC,className:"betting--zodiac-background",onClick:c=>c.stopPropagation()}),(r==null?void 0:r.imageUrl)&&v.jsx(H,{src:(r==null?void 0:r.imageUrl)||"",onClick:c=>c.stopPropagation(),className:"betting--zodiac-card"}),v.jsx(H,{src:SC,className:"betting--BgLighter",onClick:c=>c.stopPropagation()}),v.jsx(H,{src:_M,className:"betting--BgHeader",onClick:c=>c.stopPropagation()}),v.jsx("p",{className:"betting--text",onClick:c=>c.stopPropagation(),children:"Chúc bạn nhận thưởng lớn"}),v.jsxs("div",{className:"betting__totalIcoin mb-15px mt-28px",onClick:c=>c.stopPropagation(),children:[v.jsx(H,{className:"betting__totalIcoin--img",src:zi}),v.jsx(dV,{from:e.from,to:e.to})]}),v.jsx(Ju,{content:"+10",setClick:c=>l(10,c),cssClass:"betting--button-1"}),v.jsx(Ju,{content:"+100",setClick:c=>l(100,c),cssClass:"betting--button-2"}),v.jsx(Ju,{content:"+1000",setClick:c=>l(1e3,c),cssClass:"betting--button-3"}),v.jsx(uV,{handleClick:a,className:"betting__confirm mb-34px mt-14-5px",children:"xác nhận"})]})})},hV="/assets/bg_card_selected_light-18ab94bd.svg",pV="/assets/text_congregation-84fc5767.svg",mV="/assets/text_apologize-e6c8645d.svg",gV="/assets/bg_content_lost_075x-38b16954.png",yV="/assets/bg_content_lost_2x-6b4ff92b.png",vV="/assets/bg_header_lost-a38e50b0.svg",_V="/assets/bg_header_short_win-265ba6d2.svg",wV="/assets/crown_gold-6caf98ea.svg",SV="/assets/crown_sliver-11110b14.svg",EV="/assets/crown_bronze-e184d6a2.svg",CV="/assets/line_left_win-e6d3327b.svg",xV="/assets/line_right_win-780193e6.svg",TV="/assets/line_left_lost-d26ee548.svg",IV="/assets/line_right_lost-5e37cc66.svg",Cs={bgHeader:vV,bgContent075x:gV,bgContent2x:yV,lineLeft:TV,lineRight:IV},xs={bgHeader:_V,bgContent075x:_C,bgContent2x:wC,lineLeft:CV,lineRight:xV},kV=[wV,SV,EV],bV=({zodiac:e,totalIcoin:t,dialogType:n})=>{const{setModal:r,topUsers:i}=w.useContext(Se),s=v.jsxs(v.Fragment,{children:[v.jsx(H,{src:mV,className:"lost--primary-text",onClick:l=>{l.stopPropagation()}}),v.jsxs("div",{className:"lost__secondary",onClick:l=>{l.stopPropagation()},children:[v.jsx("p",{className:"lost__secondary--text1",children:"Bạn bỏ lỡ phần thưởng lần đoán này"}),v.jsx("p",{className:"lost__secondary--text2",children:"Đừng nản lòng, hãy cố gắng lên, tin tưởng bản thân!"})]})]}),o=v.jsxs(v.Fragment,{children:[v.jsx(H,{src:pV,className:"win--primary-text",onClick:l=>{l.stopPropagation()}}),v.jsxs("div",{className:"win__secondary",onClick:l=>{l.stopPropagation()},children:[v.jsx("p",{className:"win__secondary--text",children:"Thật xuất sắc, bạn đã đoán trúng ván này"}),v.jsxs("div",{className:"win__totalIcoin",children:[v.jsx(H,{className:"win__totalIcoin--img",src:zi}),v.jsx("p",{className:"win__totalIcoin--icoin",children:t})]})]})]}),a=()=>{switch(n){case"LOST":return s;case"WIN":return o;default:return null}};return v.jsx(lr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r({state:"CLOSE",type:"WINLOST"}),className:"lost-popup-overlay",children:v.jsxs(lr.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{type:"just"},className:"lost-popup",children:[n=="WIN"?v.jsx(Ao,{lowResSrc:xs.bgContent075x,highResSrc:xs.bgContent2x,alt:"win dialog",className:"lost--BgContent mb--1px"}):v.jsx(Ao,{lowResSrc:Cs.bgContent075x,highResSrc:Cs.bgContent2x,alt:"lost dialog",className:"lost--BgContent mb--1px"}),v.jsx(H,{src:hV,className:"lost--zodiac-background",onClick:l=>{l.stopPropagation()}}),v.jsx(H,{src:e,className:"lost--zodiac-card",onClick:l=>{l.stopPropagation()}}),v.jsx(H,{src:SC,className:"lost--BgLighter",onClick:l=>{l.stopPropagation()}}),v.jsx(H,{src:n=="WIN"?xs.bgHeader:Cs.bgHeader,className:"lost--BgHeader",onClick:l=>{l.stopPropagation()}}),a(),v.jsx(H,{src:n=="WIN"?xs.lineLeft:Cs.lineLeft,className:"lost--light1"}),v.jsx("p",{className:"lost--tertiary",onClick:l=>{l.stopPropagation()},children:"TOP chiến thắng"}),v.jsx(H,{src:n=="WIN"?xs.lineRight:Cs.lineRight,className:"lost--light2"}),i.map((l,c)=>v.jsxs("div",{className:`lost__no${c+1}`,onClick:u=>{u.stopPropagation()},children:[v.jsx(H,{className:`lost__no${c+1}--img`,src:kV[c]}),v.jsx("div",{className:`lost__no${c+1}--url`,children:v.jsx(bp,{avatarUrl:l.profileImageLink||"",className:""})}),v.jsx("p",{className:`lost__no${c+1}--name`,children:l.name}),v.jsxs("div",{className:"lost__totalIcoin",children:[v.jsx(H,{className:"lost__totalIcoin--img",src:zi}),v.jsx("p",{className:"lost__totalIcoin--icoin",children:qi(l.totalIcoin||0)})]})]},c))]})})},NV="/assets/rule_1-dca20812.png",RV="/assets/rule_2-3a60a5b8.png",AV="/assets/rule_3-56c60c4f.png",PV="/assets/rule_4-e431b9e1.png",Ts=[{image:NV,text:"Trong lúc thời gian đếm ngược bạn nhấn chọn lá bài muốn đoán"},{image:RV,text:"Bạn nhấn chọn lá bài sẽ hiện các mức cược, mỗi ván lật tối đa 4 lá bài"},{image:AV,text:"Kết thúc đếm ngược sẽ tự động lật bài. Nếu trúng bạn nhận thưởng tương ứng với số tiền cược"},{image:PV,text:"Chúng tôi sẽ hiện thị người thắng 1 ngày trước"}];function dn({children:e,onClick:t,classNameChild:n,className:r="popup-overlay-center"}){const i=document.getElementById("modal-root");return i?Kw.createPortal(v.jsx(lr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:r,children:v.jsx(lr.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:n,onClick:s=>s.stopPropagation(),children:e})}),i):(console.error("Modal root element not found"),null)}const DV=()=>{const[e,t]=w.useState(0),{setModal:n}=w.useContext(Se);w.useEffect(()=>{Ts.forEach(i=>{new Image().src=i.image})},[]);const r=()=>{t(i=>(i+1)%Ts.length)};return v.jsxs(dn,{className:"popup-overlay-history",onClick:()=>n({state:"CLOSE",type:"RULE"}),classNameChild:"rule",children:[v.jsx("p",{className:"rule--primary mt-20px",children:"Thể lệ Đoán Linh Vật"}),v.jsx("img",{className:"rule--img mb-20px mt-18-5px",src:Ts[e].image}),v.jsx("p",{className:"rule--secondary",children:Ts[e].text}),v.jsx("div",{className:"rule__line mt-18px",children:Ts.map((i,s)=>v.jsx("p",{className:e==s?"rule__line--selected":"rule__line--normal",children:" "},s))}),v.jsx(lr.div,{whileTap:{y:1},className:"rule__button mb-21px mt-13px",onClick:r,children:v.jsx("p",{className:"rule__button--next",children:"Tiếp tục"})})]})};function rT(e,t){return function(){return e.apply(t,arguments)}}const{toString:OV}=Object.prototype,{getPrototypeOf:hm}=Object,$c=(e=>t=>{const n=OV.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yt=e=>(e=e.toLowerCase(),t=>$c(t)===e),Wc=e=>t=>typeof t===e,{isArray:ls}=Array,Po=Wc("undefined");function LV(e){return e!==null&&!Po(e)&&e.constructor!==null&&!Po(e.constructor)&&vt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const iT=Yt("ArrayBuffer");function MV(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&iT(e.buffer),t}const FV=Wc("string"),vt=Wc("function"),sT=Wc("number"),Hc=e=>e!==null&&typeof e=="object",jV=e=>e===!0||e===!1,Ga=e=>{if($c(e)!=="object")return!1;const t=hm(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BV=Yt("Date"),VV=Yt("File"),UV=Yt("Blob"),zV=Yt("FileList"),$V=e=>Hc(e)&&vt(e.pipe),WV=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||vt(e.append)&&((t=$c(e))==="formdata"||t==="object"&&vt(e.toString)&&e.toString()==="[object FormData]"))},HV=Yt("URLSearchParams"),[GV,KV,qV,YV]=["ReadableStream","Request","Response","Headers"].map(Yt),QV=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jo(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),ls(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function oT(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Ar=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),aT=e=>!Po(e)&&e!==Ar;function Vf(){const{caseless:e}=aT(this)&&this||{},t={},n=(r,i)=>{const s=e&&oT(t,i)||i;Ga(t[s])&&Ga(r)?t[s]=Vf(t[s],r):Ga(r)?t[s]=Vf({},r):ls(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Jo(arguments[r],n);return t}const XV=(e,t,n,{allOwnKeys:r}={})=>(Jo(t,(i,s)=>{n&&vt(i)?e[s]=rT(i,n):e[s]=i},{allOwnKeys:r}),e),JV=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ZV=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},eU=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&hm(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},tU=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},nU=e=>{if(!e)return null;if(ls(e))return e;let t=e.length;if(!sT(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},rU=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hm(Uint8Array)),iU=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},sU=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},oU=Yt("HTMLFormElement"),aU=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),v_=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),lU=Yt("RegExp"),lT=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Jo(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},cU=e=>{lT(e,(t,n)=>{if(vt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(vt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},uU=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ls(e)?r(e):r(String(e).split(t)),n},dU=()=>{},fU=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Zu="abcdefghijklmnopqrstuvwxyz",__="0123456789",cT={DIGIT:__,ALPHA:Zu,ALPHA_DIGIT:Zu+Zu.toUpperCase()+__},hU=(e=16,t=cT.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function pU(e){return!!(e&&vt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const mU=e=>{const t=new Array(10),n=(r,i)=>{if(Hc(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=ls(r)?[]:{};return Jo(r,(o,a)=>{const l=n(o,i+1);!Po(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},gU=Yt("AsyncFunction"),yU=e=>e&&(Hc(e)||vt(e))&&vt(e.then)&&vt(e.catch),uT=((e,t)=>e?setImmediate:t?((n,r)=>(Ar.addEventListener("message",({source:i,data:s})=>{i===Ar&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ar.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",vt(Ar.postMessage)),vU=typeof queueMicrotask<"u"?queueMicrotask.bind(Ar):typeof process<"u"&&process.nextTick||uT,x={isArray:ls,isArrayBuffer:iT,isBuffer:LV,isFormData:WV,isArrayBufferView:MV,isString:FV,isNumber:sT,isBoolean:jV,isObject:Hc,isPlainObject:Ga,isReadableStream:GV,isRequest:KV,isResponse:qV,isHeaders:YV,isUndefined:Po,isDate:BV,isFile:VV,isBlob:UV,isRegExp:lU,isFunction:vt,isStream:$V,isURLSearchParams:HV,isTypedArray:rU,isFileList:zV,forEach:Jo,merge:Vf,extend:XV,trim:QV,stripBOM:JV,inherits:ZV,toFlatObject:eU,kindOf:$c,kindOfTest:Yt,endsWith:tU,toArray:nU,forEachEntry:iU,matchAll:sU,isHTMLForm:oU,hasOwnProperty:v_,hasOwnProp:v_,reduceDescriptors:lT,freezeMethods:cU,toObjectSet:uU,toCamelCase:aU,noop:dU,toFiniteNumber:fU,findKey:oT,global:Ar,isContextDefined:aT,ALPHABET:cT,generateString:hU,isSpecCompliantForm:pU,toJSONObject:mU,isAsyncFn:gU,isThenable:yU,setImmediate:uT,asap:vU};function V(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}x.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});const dT=V.prototype,fT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fT[e]={value:e}});Object.defineProperties(V,fT);Object.defineProperty(dT,"isAxiosError",{value:!0});V.from=(e,t,n,r,i,s)=>{const o=Object.create(dT);return x.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),V.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const _U=null;function Uf(e){return x.isPlainObject(e)||x.isArray(e)}function hT(e){return x.endsWith(e,"[]")?e.slice(0,-2):e}function w_(e,t,n){return e?e.concat(t).map(function(i,s){return i=hT(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function wU(e){return x.isArray(e)&&!e.some(Uf)}const SU=x.toFlatObject(x,{},null,function(t){return/^is[A-Z]/.test(t)});function Gc(e,t,n){if(!x.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=x.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,S){return!x.isUndefined(S[_])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(t);if(!x.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(x.isDate(g))return g.toISOString();if(!l&&x.isBlob(g))throw new V("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(g)||x.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,_,S){let m=g;if(g&&!S&&typeof g=="object"){if(x.endsWith(_,"{}"))_=r?_:_.slice(0,-2),g=JSON.stringify(g);else if(x.isArray(g)&&wU(g)||(x.isFileList(g)||x.endsWith(_,"[]"))&&(m=x.toArray(g)))return _=hT(_),m.forEach(function(y,E){!(x.isUndefined(y)||y===null)&&t.append(o===!0?w_([_],E,s):o===null?_:_+"[]",c(y))}),!1}return Uf(g)?!0:(t.append(w_(S,_,s),c(g)),!1)}const d=[],f=Object.assign(SU,{defaultVisitor:u,convertValue:c,isVisitable:Uf});function h(g,_){if(!x.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));d.push(g),x.forEach(g,function(m,p){(!(x.isUndefined(m)||m===null)&&i.call(t,m,x.isString(p)?p.trim():p,_,f))===!0&&h(m,_?_.concat(p):[p])}),d.pop()}}if(!x.isObject(e))throw new TypeError("data must be an object");return h(e),t}function S_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function pm(e,t){this._pairs=[],e&&Gc(e,this,t)}const pT=pm.prototype;pT.append=function(t,n){this._pairs.push([t,n])};pT.toString=function(t){const n=t?function(r){return t.call(this,r,S_)}:S_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function EU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mT(e,t,n){if(!t)return e;const r=n&&n.encode||EU;x.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=x.isURLSearchParams(t)?t.toString():new pm(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class CU{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){x.forEach(this.handlers,function(r){r!==null&&t(r)})}}const E_=CU,gT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xU=typeof URLSearchParams<"u"?URLSearchParams:pm,TU=typeof FormData<"u"?FormData:null,IU=typeof Blob<"u"?Blob:null,kU={isBrowser:!0,classes:{URLSearchParams:xU,FormData:TU,Blob:IU},protocols:["http","https","file","blob","url","data"]},mm=typeof window<"u"&&typeof document<"u",zf=typeof navigator=="object"&&navigator||void 0,bU=mm&&(!zf||["ReactNative","NativeScript","NS"].indexOf(zf.product)<0),NU=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),RU=mm&&window.location.href||"http://localhost",AU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mm,hasStandardBrowserEnv:bU,hasStandardBrowserWebWorkerEnv:NU,navigator:zf,origin:RU},Symbol.toStringTag,{value:"Module"})),Ke={...AU,...kU};function PU(e,t){return Gc(e,new Ke.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Ke.isNode&&x.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function DU(e){return x.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function OU(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function yT(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&x.isArray(i)?i.length:o,l?(x.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!x.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&x.isArray(i[o])&&(i[o]=OU(i[o])),!a)}if(x.isFormData(e)&&x.isFunction(e.entries)){const n={};return x.forEachEntry(e,(r,i)=>{t(DU(r),i,n,0)}),n}return null}function LU(e,t,n){if(x.isString(e))try{return(t||JSON.parse)(e),x.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const gm={transitional:gT,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=x.isObject(t);if(s&&x.isHTMLForm(t)&&(t=new FormData(t)),x.isFormData(t))return i?JSON.stringify(yT(t)):t;if(x.isArrayBuffer(t)||x.isBuffer(t)||x.isStream(t)||x.isFile(t)||x.isBlob(t)||x.isReadableStream(t))return t;if(x.isArrayBufferView(t))return t.buffer;if(x.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return PU(t,this.formSerializer).toString();if((a=x.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Gc(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),LU(t)):t}],transformResponse:[function(t){const n=this.transitional||gm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(x.isResponse(t)||x.isReadableStream(t))return t;if(t&&x.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?V.from(a,V.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke.classes.FormData,Blob:Ke.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],e=>{gm.headers[e]={}});const ym=gm,MU=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FU=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&MU[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},C_=Symbol("internals");function Is(e){return e&&String(e).trim().toLowerCase()}function Ka(e){return e===!1||e==null?e:x.isArray(e)?e.map(Ka):String(e)}function jU(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const BU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ed(e,t,n,r,i){if(x.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!x.isString(t)){if(x.isString(r))return t.indexOf(r)!==-1;if(x.isRegExp(r))return r.test(t)}}function VU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function UU(e,t){const n=x.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}class Kc{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,c){const u=Is(l);if(!u)throw new Error("header name must be a non-empty string");const d=x.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Ka(a))}const o=(a,l)=>x.forEach(a,(c,u)=>s(c,u,l));if(x.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(x.isString(t)&&(t=t.trim())&&!BU(t))o(FU(t),n);else if(x.isHeaders(t))for(const[a,l]of t.entries())s(l,a,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=Is(t),t){const r=x.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return jU(i);if(x.isFunction(n))return n.call(this,i,r);if(x.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Is(t),t){const r=x.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ed(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=Is(o),o){const a=x.findKey(r,o);a&&(!n||ed(r,r[a],a,n))&&(delete r[a],i=!0)}}return x.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||ed(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return x.forEach(this,(i,s)=>{const o=x.findKey(r,s);if(o){n[o]=Ka(i),delete n[s];return}const a=t?VU(s):String(s).trim();a!==s&&delete n[s],n[a]=Ka(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return x.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&x.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[C_]=this[C_]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Is(o);r[a]||(UU(i,o),r[a]=!0)}return x.isArray(t)?t.forEach(s):s(t),this}}Kc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(Kc.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});x.freezeMethods(Kc);const Kt=Kc;function td(e,t){const n=this||ym,r=t||n,i=Kt.from(r.headers);let s=r.data;return x.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function vT(e){return!!(e&&e.__CANCEL__)}function cs(e,t,n){V.call(this,e??"canceled",V.ERR_CANCELED,t,n),this.name="CanceledError"}x.inherits(cs,V,{__CANCEL__:!0});function _T(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $U(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function WU(e,t){let n=0,r=1e3/t,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const Jl=(e,t,n=3)=>{let r=0;const i=$U(50,250);return WU(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},x_=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},T_=e=>(...t)=>x.asap(()=>e(...t)),HU=Ke.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ke.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ke.origin),Ke.navigator&&/(msie|trident)/i.test(Ke.navigator.userAgent)):()=>!0,GU=Ke.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];x.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),x.isString(r)&&o.push("path="+r),x.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function KU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function wT(e,t){return e&&!KU(t)?qU(e,t):t}const I_=e=>e instanceof Kt?{...e}:e;function Kr(e,t){t=t||{};const n={};function r(c,u,d,f){return x.isPlainObject(c)&&x.isPlainObject(u)?x.merge.call({caseless:f},c,u):x.isPlainObject(u)?x.merge({},u):x.isArray(u)?u.slice():u}function i(c,u,d,f){if(x.isUndefined(u)){if(!x.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function s(c,u){if(!x.isUndefined(u))return r(void 0,u)}function o(c,u){if(x.isUndefined(u)){if(!x.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in t)return r(c,u);if(d in e)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(I_(c),I_(u),d,!0)};return x.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=l[u]||i,f=d(e[u],t[u],u);x.isUndefined(f)&&d!==a||(n[u]=f)}),n}const ST=e=>{const t=Kr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=Kt.from(o),t.url=mT(wT(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(x.isFormData(n)){if(Ke.hasStandardBrowserEnv||Ke.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Ke.hasStandardBrowserEnv&&(r&&x.isFunction(r)&&(r=r(t)),r||r!==!1&&HU(t.url))){const c=i&&s&&GU.read(s);c&&o.set(i,c)}return t},YU=typeof XMLHttpRequest<"u",QU=YU&&function(e){return new Promise(function(n,r){const i=ST(e);let s=i.data;const o=Kt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,g;function _(){h&&h(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function m(){if(!S)return;const y=Kt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:y,config:e,request:S};_T(function(b){n(b),_()},function(b){r(b),_()},C),S=null}"onloadend"in S?S.onloadend=m:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(m)},S.onabort=function(){S&&(r(new V("Request aborted",V.ECONNABORTED,e,S)),S=null)},S.onerror=function(){r(new V("Network Error",V.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||gT;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),r(new V(E,C.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&x.forEach(o.toJSON(),function(E,C){S.setRequestHeader(C,E)}),x.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),a&&a!=="json"&&(S.responseType=i.responseType),c&&([f,g]=Jl(c,!0),S.addEventListener("progress",f)),l&&S.upload&&([d,h]=Jl(l),S.upload.addEventListener("progress",d),S.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=y=>{S&&(r(!y||y.type?new cs(null,e,S):y),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const p=zU(i.url);if(p&&Ke.protocols.indexOf(p)===-1){r(new V("Unsupported protocol "+p+":",V.ERR_BAD_REQUEST,e));return}S.send(s||null)})},XU=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof V?u:new cs(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,s(new V(`timeout ${t} of ms exceeded`,V.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>x.asap(a),l}},JU=XU,ZU=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},e3=async function*(e,t){for await(const n of t3(e))yield*ZU(n,t)},t3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},k_=(e,t,n,r)=>{const i=e3(e,t);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=s+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},qc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ET=qc&&typeof ReadableStream=="function",n3=qc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),CT=(e,...t)=>{try{return!!e(...t)}catch{return!1}},r3=ET&&CT(()=>{let e=!1;const t=new Request(Ke.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),b_=64*1024,$f=ET&&CT(()=>x.isReadableStream(new Response("").body)),Zl={stream:$f&&(e=>e.body)};qc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Zl[t]&&(Zl[t]=x.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new V(`Response type '${t}' is not supported`,V.ERR_NOT_SUPPORT,r)})})})(new Response);const i3=async e=>{if(e==null)return 0;if(x.isBlob(e))return e.size;if(x.isSpecCompliantForm(e))return(await new Request(Ke.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(x.isArrayBufferView(e)||x.isArrayBuffer(e))return e.byteLength;if(x.isURLSearchParams(e)&&(e=e+""),x.isString(e))return(await n3(e)).byteLength},s3=async(e,t)=>{const n=x.toFiniteNumber(e.getContentLength());return n??i3(t)},o3=qc&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=ST(e);c=c?(c+"").toLowerCase():"text";let h=JU([i,s&&s.toAbortSignal()],o),g;const _=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let S;try{if(l&&r3&&n!=="get"&&n!=="head"&&(S=await s3(u,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),I;if(x.isFormData(r)&&(I=C.headers.get("content-type"))&&u.setContentType(I),C.body){const[b,T]=x_(S,Jl(T_(l)));r=k_(C.body,b_,b,T)}}x.isString(d)||(d=d?"include":"omit");const m="credentials"in Request.prototype;g=new Request(t,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:m?d:void 0});let p=await fetch(g);const y=$f&&(c==="stream"||c==="response");if($f&&(a||y&&_)){const C={};["status","statusText","headers"].forEach(O=>{C[O]=p[O]});const I=x.toFiniteNumber(p.headers.get("content-length")),[b,T]=a&&x_(I,Jl(T_(a),!0))||[];p=new Response(k_(p.body,b_,b,()=>{T&&T(),_&&_()}),C)}c=c||"text";let E=await Zl[x.findKey(Zl,c)||"text"](p,e);return!y&&_&&_(),await new Promise((C,I)=>{_T(C,I,{data:E,headers:Kt.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:g})})}catch(m){throw _&&_(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,e,g),{cause:m.cause||m}):V.from(m,m&&m.code,e,g)}}),Wf={http:_U,xhr:QU,fetch:o3};x.forEach(Wf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const N_=e=>`- ${e}`,a3=e=>x.isFunction(e)||e===null||e===!1,xT={getAdapter:e=>{e=x.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!a3(n)&&(r=Wf[(o=String(n)).toLowerCase()],r===void 0))throw new V(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(N_).join(`
`):" "+N_(s[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Wf};function nd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cs(null,e)}function R_(e){return nd(e),e.headers=Kt.from(e.headers),e.data=td.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xT.getAdapter(e.adapter||ym.adapter)(e).then(function(r){return nd(e),r.data=td.call(e,e.transformResponse,r),r.headers=Kt.from(r.headers),r},function(r){return vT(r)||(nd(e),r&&r.response&&(r.response.data=td.call(e,e.transformResponse,r.response),r.response.headers=Kt.from(r.response.headers))),Promise.reject(r)})}const TT="1.7.9",Yc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const A_={};Yc.transitional=function(t,n,r){function i(s,o){return"[Axios v"+TT+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new V(i(o," has been removed"+(n?" in "+n:"")),V.ERR_DEPRECATED);return n&&!A_[o]&&(A_[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};Yc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function l3(e,t,n){if(typeof e!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new V("option "+s+" must be "+l,V.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new V("Unknown option "+s,V.ERR_BAD_OPTION)}}const qa={assertOptions:l3,validators:Yc},Jt=qa.validators;class ec{constructor(t){this.defaults=t,this.interceptors={request:new E_,response:new E_}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Kr(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&qa.assertOptions(r,{silentJSONParsing:Jt.transitional(Jt.boolean),forcedJSONParsing:Jt.transitional(Jt.boolean),clarifyTimeoutError:Jt.transitional(Jt.boolean)},!1),i!=null&&(x.isFunction(i)?n.paramsSerializer={serialize:i}:qa.assertOptions(i,{encode:Jt.function,serialize:Jt.function},!0)),qa.assertOptions(n,{baseUrl:Jt.spelling("baseURL"),withXsrfToken:Jt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&x.merge(s.common,s[n.method]);s&&x.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Kt.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const c=[];this.interceptors.response.forEach(function(_){c.push(_.fulfilled,_.rejected)});let u,d=0,f;if(!l){const g=[R_.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const g=a[d++],_=a[d++];try{h=g(h)}catch(S){_.call(this,S);break}}try{u=R_.call(this,h)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=Kr(this.defaults,t);const n=wT(t.baseURL,t.url);return mT(n,t.params,t.paramsSerializer)}}x.forEach(["delete","get","head","options"],function(t){ec.prototype[t]=function(n,r){return this.request(Kr(r||{},{method:t,url:n,data:(r||{}).data}))}});x.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(Kr(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ec.prototype[t]=n(),ec.prototype[t+"Form"]=n(!0)});const Ya=ec;class vm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new cs(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new vm(function(i){t=i}),cancel:t}}}const c3=vm;function u3(e){return function(n){return e.apply(null,n)}}function d3(e){return x.isObject(e)&&e.isAxiosError===!0}const Hf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hf).forEach(([e,t])=>{Hf[t]=e});const f3=Hf;function IT(e){const t=new Ya(e),n=rT(Ya.prototype.request,t);return x.extend(n,Ya.prototype,t,{allOwnKeys:!0}),x.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return IT(Kr(e,i))},n}const Ce=IT(ym);Ce.Axios=Ya;Ce.CanceledError=cs;Ce.CancelToken=c3;Ce.isCancel=vT;Ce.VERSION=TT;Ce.toFormData=Gc;Ce.AxiosError=V;Ce.Cancel=Ce.CanceledError;Ce.all=function(t){return Promise.all(t)};Ce.spread=u3;Ce.isAxiosError=d3;Ce.mergeConfig=Kr;Ce.AxiosHeaders=Kt;Ce.formToJSON=e=>yT(x.isHTMLForm(e)?new FormData(e):e);Ce.getAdapter=xT.getAdapter;Ce.HttpStatusCode=f3;Ce.default=Ce;const _m=Ce,gr=_m.create({baseURL:window.location.hostname=="localhost"?"http://localhost:8085":window.location.origin});localStorage.getItem("token");const h3=window.location.hostname.includes("ikara-development")||window.location.hostname.includes("localhost")?"com.dev.yokara":"com.yokara",p3=async e=>{try{const t=LO(jO,"v5-SetLogCat"),n=localStorage.getItem("uid")||"0",r={parameters:btoa(JSON.stringify({lastUID:n,logcatLine:{pid:h3,tid:"",level:"I",tag:"",msg:e}}))};return(await t(r)).data}catch(t){throw console.error("Error calling SetLogCat function: ",t),t}},m3=async()=>{try{const e=await gr.get("/rest/zodiac-game/history");return e.data.status==="OK"&&Array.isArray(e.data.data.zodiacGameList)?(await p3("Game History Api Success"),e.data.data.zodiacGameList.map(t=>({status:t.status,zodiacCardId:t.zodiacCardId,noGame:t.noGame}))):(console.error("Unexpected response structure:",e.data),null)}catch(e){return console.error("Error fetching game history:",e),null}},g3="/assets/bg_game_history_075x-ba78c3f3.png",y3="/assets/bg_game_history_2x-362e0b90.png",v3="/assets/bg_card_normal_light-9fb1643d.svg",_3="/assets/icon_stick-3d97695a.svg",w3="/assets/text-result-9628ac5b.svg";var S3={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function E3(e){if(typeof e=="number")return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();n.includes(".")?t=parseFloat(n):t=parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return S3[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function Ia(e){var t=E3(e);return"".concat(t.value).concat(t.unit)}var C3=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(t,`
    }
  `);return s&&s.insertRule(o,0),r},tc=globalThis&&globalThis.__assign||function(){return tc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},tc.apply(this,arguments)},x3=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},T3=C3("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function I3(e){var t=e.loading,n=t===void 0?!0:t,r=e.color,i=r===void 0?"#000000":r,s=e.speedMultiplier,o=s===void 0?1:s,a=e.cssOverride,l=a===void 0?{}:a,c=e.height,u=c===void 0?35:c,d=e.width,f=d===void 0?4:d,h=e.radius,g=h===void 0?2:h,_=e.margin,S=_===void 0?2:_,m=x3(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),p=tc({display:"inherit"},l),y=function(E){return{backgroundColor:i,width:Ia(f),height:Ia(u),margin:Ia(S),borderRadius:Ia(g),display:"inline-block",animation:"".concat(T3," ").concat(1/o,"s ").concat(E*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?w.createElement("span",tc({style:p},m),w.createElement("span",{style:y(1)}),w.createElement("span",{style:y(2)}),w.createElement("span",{style:y(3)}),w.createElement("span",{style:y(4)}),w.createElement("span",{style:y(5)})):null}function Qc({className:e="mine-popup__loading"}){return v.jsx("div",{className:e,children:v.jsx(I3,{color:"#F15350"})})}const k3=({zodiacs:e})=>{const[t,n]=w.useState([]),[r,i]=w.useState(!0),{setModal:s}=w.useContext(Se);return w.useEffect(()=>{(async()=>{try{const a=await m3();a!=null&&n(a)}catch(a){console.error("Error fetching game history:",a)}i(!1)})()},[]),v.jsxs(dn,{className:"popup-overlay-history",onClick:()=>s({state:"CLOSE",type:"GAMEHISTORY"}),classNameChild:"history-game-popup",children:[v.jsx(Ao,{lowResSrc:g3,highResSrc:y3,alt:"history game",className:"history-game-popup__bg"}),v.jsx(H,{src:w3,className:"history-game-popup--header"}),v.jsxs("div",{className:"history-game-popup__title mt-7px",children:[v.jsx("p",{className:"history-game-popup__title--no",children:"Ván"}),e.map((o,a)=>v.jsxs("div",{className:"history-game-popup__card",children:[v.jsx(H,{src:v3,className:"history-game-popup__card--Bg"}),v.jsx(H,{src:o,className:"history-game-popup__card--zodiac"})]},a))]}),r?v.jsx(Qc,{className:"history-game-popup__loading"}):v.jsx("div",{className:"history-game-popup__content",children:t.map(o=>v.jsxs("div",{className:"history-game-popup__item",children:[v.jsx("p",{className:"history-game-popup__item--index",children:o.noGame}),[...Array(8)].map((a,l)=>v.jsx("div",{className:"history-game-popup__item--buffalo",children:v.jsx(H,{className:o.zodiacCardId.slice(-1)===(l+1).toString()?"history-game-popup__item--stickShow":"history-game-popup__item--stickHide",src:_3})},l))]},o.noGame))})]})},b3="/assets/bg_card_nomarl-4d67c8b6.svg",N3="/assets/text-mine-history-1b511c15.svg",R3="/assets/icoin-lost-920fb113.svg",P_="/assets/icoin_small-af94bff5.svg",A3=async()=>{var t,n,r,i;const e=localStorage.getItem("token");if(!e)return"FAILED";try{const s=await gr.get("/rest/zodiac-game/user-history",{headers:{Authorization:`Bearer ${e}`}});return s.data.status==="OK"&&Array.isArray((n=(t=s.data)==null?void 0:t.data)==null?void 0:n.zodiacGameUserList)?P3((i=(r=s.data)==null?void 0:r.data)==null?void 0:i.zodiacGameUserList):(console.error("Unexpected response structure:",s.data),null)}catch(s){return console.error("Error fetching game history:",s),null}},P3=e=>{const t=Date.now();return e.filter(i=>{const s=i.addTime;return typeof s!="number"?!1:oL(s,t)}).map(i=>({time:new Date((i==null?void 0:i.addTime)??0),noGame:(i==null?void 0:i.noGame)??0,totalIcoinWin:(i==null?void 0:i.totalIcoinWin)??0,totalIcoinBetting:(i==null?void 0:i.totalIcoinBetting)??0,zodiacCardId:(i==null?void 0:i.zodiacCardId)??"",zodiacCards:[...i==null?void 0:i.zodiacCards.map(s=>({id:s.id??"",name:s.name??"",multiply:s.multiply??-1,imageUrl:s.imageUrl??"",totalIcoinBetting:s.totalIcoinBetting??0}))]}))},D_="/assets/bg_my_history-f6a6abcf.png",D3="/assets/bg_my_history_075x-023a2a9c.png",O3=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),{setModal:i,stateGame:s}=w.useContext(Se);return w.useEffect(()=>{new Image().src=D_},[]),w.useEffect(()=>{(async()=>{try{const a=await A3();if(a!=null&&a!="FAILED"){const l=[...a.map(c=>({...c}))];s!=="RESULTWAITING"&&s!=="RESULT"&&s!=="END"&&t([...l])}}catch(a){console.error("Error fetching history:",a)}r(!1)})()},[]),v.jsxs(dn,{className:"popup-overlay-history",onClick:()=>i({state:"CLOSE",type:"MYHISTORY"}),classNameChild:"mine-popup",children:[v.jsx(Ao,{lowResSrc:D3,highResSrc:D_,alt:"my history",className:"mine-popup__bg"}),v.jsx(H,{src:n?N3:"",className:"mine-popup--header mt-7px mb-12-5px"}),v.jsxs("div",{className:"mine-popup__title mb-7px",children:[v.jsx("p",{className:"mine-popup__title--head1",children:"Ván"}),v.jsx("p",{className:"mine-popup__title--head2",children:"Mức cược"})]}),n?v.jsx(Qc,{}):v.jsx("div",{className:"mine-popup__content",children:e.map((o,a)=>v.jsxs("div",{className:"item",children:[v.jsxs("div",{className:"item__time",children:[v.jsx("p",{className:"item__time--index",children:o.noGame}),v.jsx("p",{className:"item__time--hour",children:o.time.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),v.jsx("p",{className:"item__time--date",children:o.time.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"})})]}),v.jsx("div",{className:"bets",children:o.zodiacCards.map(l=>v.jsxs("div",{className:"bet",children:[v.jsx("p",{className:"bet--index",children:l.id.slice(-1)}),v.jsx(H,{src:l.id===o.zodiacCardId?vC:b3,className:"bet__card--bg"}),v.jsx(H,{src:l.imageUrl,className:"bet__card--zodiac"}),v.jsxs("p",{className:"bet--bonus",children:["x",l.multiply]}),v.jsxs("div",{className:"bet__icoin",children:[v.jsx(H,{className:"bet__icoin--img",src:l.id===o.zodiacCardId?P_:R3}),v.jsx("p",{className:"bet__icoin--data",children:qi(l.totalIcoinBetting??0)})]})]},l.id))}),v.jsxs("div",{className:"item__icoin",children:[v.jsx("p",{className:o.totalIcoinWin>0?"item__icoin--data-win":"item__icoin--data-lost",children:o.totalIcoinWin>0?`+${qi(o.totalIcoinWin)}`:0}),v.jsx(H,{className:"item__icoin--img",src:P_})]})]},a))})]})},L3=39;function M3(){const[e,t]=w.useState(0),{stateGame:n,transactionId:r,setModal:i,setBettingTimeEnd:s}=w.useContext(Se),o=a=>{const l=Date.now(),c=Math.floor((l-a)/1e3);return Math.max(L3-c,0)};return w.useEffect(()=>{let a=39;const l=Xr(Jr,"/zodiacGame/state/startTime");jP(l).then(u=>{const d=u.val()||0;a=o(d)});const c=setInterval(()=>{a-=1,a==0&&(s(),i({state:"CLOSE",type:"BETTING"}),i({state:"CLOSE",type:"DEPOSIT"})),t(Math.max(a,0))},1e3);return()=>clearInterval(c)},[n,r]),v.jsx("div",{className:"betting-table--counter",children:v.jsxs("p",{children:["Đếm ngược ",e]})})}const F3="/assets/bg_betting_frame-0793e80c.png",j3="/assets/bg_card_normal-a08be108.png",B3="/assets/bg_card_normal_select-84b7e45f.png";function V3({numberOfPlayer:e}){return v.jsxs("p",{className:"betting-table__card--players",children:[e," người"]})}function U3({betCard:e,index:t}){const{selectedCard:n,setSelectedCard:r}=w.useContext(Se),i=(n==null?void 0:n.id)===e.id;return v.jsxs("div",{onClick:s=>{s.preventDefault(),s.stopPropagation(),r(e)},className:"betting-table__card",children:[v.jsx("p",{className:"betting-table__card--no",children:t+1}),v.jsx("img",{src:B3,className:"betting-table__card--bgNormal",style:{zIndex:i?2:1,opacity:i?1:0}}),v.jsx("img",{src:j3,className:"betting-table__card--bgSelected",style:{zIndex:i?1:2,opacity:i?0:1}}),v.jsx(H,{src:e.imageUrl,className:"betting-table__card--zodiac"}),v.jsxs("p",{className:"betting-table__card--bonus",children:["x",e.multiply]}),v.jsx(V3,{numberOfPlayer:e.counter||0})]})}function z3(){const[e,t]=w.useState([]),{stateGame:n,transactionId:r}=w.useContext(Se);return w.useEffect(()=>{const i=Xr(Jr,"/zodiacGame/zodiacCards"),s=o=>{const a=o.val();if(a){const l=[];for(const c in a)if(Object.hasOwnProperty.call(a,c)){const u=a[c],d={id:u.id||"",imageUrl:u.imageUrl||"",name:u.name||"",multiply:u.multiply||0,counter:u.counter||0};l.push(d)}t(l),localStorage.setItem("card",JSON.stringify(l))}};return ss(i,s),()=>{os(i,"value",s)}},[n,r]),v.jsxs("div",{className:"betting-table mt-5px",children:[v.jsx(M3,{}),v.jsx("img",{src:F3,className:"betting-table__bg"}),v.jsx("div",{className:"betting-table__content",children:e.map((i,s)=>v.jsx(U3,{index:s,betCard:i},i.id))})]})}const $3="/assets/primary-text-692b974b.svg",W3="/assets/rule-34004157.svg",H3=function(){const{noGame:t,setModal:n,stateGame:r}=w.useContext(Se),i=()=>{r!=="RESULT"&&r!=="END"&&n({state:"OPEN",type:"RULE"})};return v.jsxs("header",{className:"section-header u-margin-top-huge1",children:[v.jsx(H,{src:$3,className:"u-margin-minus-bottom-big"}),v.jsxs("p",{className:"heading-secondary",children:["Hôm nay ",t||0," Ván"]}),v.jsx(H,{src:W3,className:"section-header__rule",onClick:i})]})},G3=async(e,t,n)=>{try{const r=localStorage.getItem("token");if(!r)return he.dismiss(),he("Thiếu thông tin",{duration:2e3,position:"bottom-center"}),"FAILED";const i=await gr.post("/rest/zodiac-game/betting",{zodiacGameId:e,totalIcoin:t,zodiacCardId:n},{headers:{Authorization:`Bearer ${r}`}});return i.data.status==="OK"?"OK":(he.dismiss(),he(i.data.message,{duration:2e3,position:"bottom-center"}),"FAILED")}catch(r){return he.dismiss(),he("Lỗi đặt cược",{duration:2e3,position:"bottom-center"}),_m.isAxiosError(r),"FAILED"}},K3=e=>{w.useEffect(()=>(window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}),[e])},q3=async()=>{try{const e=localStorage.getItem("token");if(!e)return;(await gr.post("/rest/zodiac-game/do-nothing",{},{headers:{Authorization:`Bearer ${e}`}})).data.status}catch{}},xt=e=>{e!=document.body.style.overflow&&(document.body.style.overflow=e)},Y3=async()=>{let e=localStorage.getItem("token");try{const t=await gr.post("api/user/info",{},{headers:{Authorization:`Bearer ${e}`}});return t.data?t.data:(localStorage.removeItem("token"),"FAILED")}catch(t){return localStorage.removeItem("token"),console.log(t),"FAILED"}},Q3=async()=>{let e={status:"FAILED",message:"Error No Token"};try{const t=localStorage.getItem("token");if(!t)return e;const n=await gr.post("/rest/zodiac-game/join-game",{},{headers:{Authorization:`Bearer ${t}`}}),{status:r,data:i,message:s}=n.data;return r==="OK"&&i&&i.user&&i.user.facebookUserId&&(e={message:s??"",status:r??"",data:{user:{...i.user}}}),e}catch(t){return X3(t),e}},X3=e=>{_m.isAxiosError(e)},J3=async()=>{var i,s;let e="",t=0;const n=3;let r=0;try{await Y3()}catch(o){console.log(o)}for(;r<n;){try{const o=await Q3();if(o&&o.message!=="FAILED"){e=((i=o.data)==null?void 0:i.user.facebookUserId)||"",t=((s=o.data)==null?void 0:s.user.uid)||0,localStorage.setItem("fbId",e),localStorage.setItem("uid",t.toString());break}}catch(o){console.log(o)}r++}return r===n&&(he.dismiss(),he("Lỗi kết nối, vui lòng thử lại sau",{duration:2e3,position:"bottom-center"})),e};function Z3(){const[e,t]=w.useState([]),[n,r]=w.useState(0);return w.useEffect(()=>{const i=Xr(Jr,"zodiacGame/players"),s=o=>{const a=o.val();if(a){const l=[];for(const u in a)if(Object.hasOwnProperty.call(a,u)){const d=a[u],f={facebookUserId:d.facebookUserId,profileImageLink:d.profileImageLink||"",name:d.name,uid:d.uid,totalIcoin:d.totalIcoin,noBettingToday:d.noBettingToday};l.push(f)}t([...l.map(u=>({...u}))]);const c=l.length>5?l.length-5:0;r(c)}};return ss(i,s),()=>{os(i,"value",s)}},[]),v.jsxs("div",{className:"result__right",children:[e.slice(0,5).map(i=>v.jsx(bp,{avatarUrl:i.profileImageLink||"",className:"avatar mr-5px"},i.profileImageLink)),e.length>5&&v.jsx("h2",{className:"result__right--number",children:n})]})}function e4({card:e,className:t,classNameBackground:n}){return v.jsx("div",{className:n,children:v.jsx("img",{src:e,alt:"card_background",className:t})})}const t4="/assets/arrow-c3b4047a.svg",n4=function(){const[t,n]=w.useState([]),{stateGame:r,transactionId:i,setModal:s}=w.useContext(Se);w.useEffect(()=>{const a=Xr(Jr,"/zodiacGame/state/zodiacCardsRecent"),l=c=>{const u=c.val();if(u){const d=[];for(const f in u)if(Object.hasOwnProperty.call(u,f)){const h=u[f],g={lastUpdate:h.lastUpdate||0,id:h.id||"",imageUrl:h.imageUrl||"",name:h.name,multiply:h.multiply};d.push(g)}(r==="PREPARESTART"||t.length===0)&&n([...d.map(f=>({...f}))])}};return ss(a,l),()=>os(a,"value",l)},[r,i]);const o=()=>{r!=="RESULT"&&r!=="END"&&s({state:"OPEN",type:"GAMEHISTORY"})};return v.jsxs("div",{className:"result__left",onClick:o,children:[v.jsx("p",{className:"result__left--text",children:"Kết quả"}),t.map(a=>v.jsx(e4,{card:a.imageUrl,className:"card--zodiac__small",classNameBackground:"card--zodiac__background--small mr-4px"},a.lastUpdate)),v.jsx("img",{src:t4,alt:"card_background"})]})};function r4(){return v.jsxs("div",{className:"result mt-7-5px",children:[v.jsx(n4,{}),v.jsx(Z3,{})]})}const i4=()=>{const{setModal:e}=w.useContext(Se);return v.jsxs(dn,{className:"popup-overlay-center",onClick:()=>e({state:"CLOSE",type:"DISCONNECT"}),classNameChild:"noti",children:[v.jsx("p",{className:"content",children:"Đường truyền không ổn định, vui lòng kiểm tra kết nối mạng"}),v.jsx("button",{className:"button_left",onClick:()=>e({state:"CLOSE",type:"DISCONNECT"}),children:"Thoát"}),v.jsx("button",{className:"button_right",onClick:()=>window.location.reload(),children:"Kết nối lại"})]})},s4=()=>{const{setModal:e}=w.useContext(Se);return v.jsxs(dn,{className:"popup-overlay-center",onClick:()=>e({state:"CLOSE",type:"DEPOSIT"}),classNameChild:"noti",children:[v.jsx("p",{className:"content",children:"Bạn không đủ iCoin để chơi vui lòng nạp thêm!"}),v.jsx("button",{className:"button_left",onClick:()=>e({state:"CLOSE",type:"DEPOSIT"}),children:"Huỷ"}),v.jsx("button",{className:"button_right",onClick:()=>{e({state:"CLOSE",type:"DEPOSIT"}),kp("callbackMyWallet")},children:"Nạp thêm"})]})},o4="/assets/maintain2x-72417522.png";function a4(){return v.jsxs(dn,{className:"popup-overlay-center",classNameChild:"maintain",children:[v.jsx("img",{className:"maintain--img",src:o4,alt:"maintain image for stop game"}),v.jsx("p",{className:"maintain--text",children:"Hiện tại game đang được bảo trì"}),v.jsx("p",{className:"maintain--text",children:"Bạn vui lòng chờ một thời gian"})]})}const O_=e=>{const t=w.useRef(new Audio(e));return w.useCallback(()=>{const r=t.current;r.currentTime=0,r.play().catch(i=>{console.error("Audio play error:",i)})},[])},l4="/assets/audio_win-903fb653.wav",c4="/assets/audio_lost-662c7d4f.wav",u4=({mpsSendOTP:e,errorMessage:t})=>{const{setModal:n}=w.useContext(Se),[r,i]=w.useState(""),[s,o]=w.useState(t);return v.jsx(dn,{className:"popup-overlay-history",onClick:()=>n({state:"CLOSE",type:"MPS_INPUTPHONE"}),classNameChild:"mps",children:v.jsxs("div",{className:"mps-chill",children:[v.jsxs("div",{style:{marginBottom:20,textAlign:"center"},children:[v.jsx("h3",{children:"Welcome to Mascot"}),s&&v.jsx("p",{style:{color:"red",fontSize:"14px"},children:s})]}),v.jsx("div",{style:{marginBottom:20},children:v.jsx("input",{maxLength:14,type:"text",className:"mps-input",placeholder:"Enter your phone number",value:r,onChange:a=>{const l=a.target.value;/^\d*$/.test(l)&&i(l)}})}),v.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"10px"},children:v.jsx("button",{className:"mps-button",onClick:()=>e(r),children:"SEND OTP"})})]})})},d4=({errorMessage:e,mpsVerifyOTP:t,_title:n,resendOTP:r})=>{const{setModal:i}=w.useContext(Se),[s,o]=w.useState(""),[a,l]=w.useState(e),[c,u]=w.useState(n||"Welcome To Mascot"),[d,f]=w.useState(60);w.useEffect(()=>{l(e)},[e]),w.useEffect(()=>{if(d>0){const g=setInterval(()=>{f(_=>_-1)},1e3);return()=>clearInterval(g)}},[d]);const h={container_2:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"300px",margin:"10px auto",fontSize:"16px"},timer:{fontWeight:"bold"},resend:{color:"#007BFF",cursor:"pointer",textDecoration:"underline"},disabledResend:{color:"#CCC",cursor:"not-allowed",textDecoration:"none"}};return v.jsx(dn,{className:"popup-overlay-history",onClick:()=>i({state:"CLOSE",type:"MPS_INPUTPHONE"}),classNameChild:"mps",children:v.jsxs("div",{className:"mps-chill",children:[v.jsxs("div",{style:{marginBottom:20,textAlign:"center"},children:[v.jsx("h3",{children:c}),a&&v.jsx("p",{style:{color:"red",fontSize:"14px"},children:a})]}),v.jsxs("div",{style:{marginBottom:20},children:[v.jsx("input",{maxLength:6,type:"text",className:"mps-input",placeholder:"Enter OTP",value:s,onChange:g=>{const _=g.target.value;/^\d*$/.test(_)&&o(_)}}),v.jsxs("div",{style:h.container_2,children:[v.jsxs("span",{style:h.timer,children:["Remain ",Math.floor(d/60),":",(d%60).toString().padStart(2,"0")]}),d===0?v.jsx("span",{style:h.resend,onClick:()=>{r(),f(60)},children:"Resend OTP?"}):v.jsx("span",{style:h.disabledResend,children:"Resend OTP?"})]})]}),v.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"10px"},children:v.jsx("button",{className:"mps-button",onClick:()=>{/^\d*$/.test(s)&&s.length==6?(f(60),t(s)):l("Please input OTP")},children:"GO"})})]})})},f4=({_title:e,_message:t,_buttonName:n,callback:r})=>{const{setModal:i}=w.useContext(Se);return v.jsx(dn,{className:"popup-overlay-history",onClick:()=>i({state:"CLOSE",type:"MPS_INPUTPHONE"}),classNameChild:"mps",children:v.jsxs("div",{className:"mps-chill",children:[v.jsx("div",{style:{marginBottom:30,textAlign:"center"},children:v.jsx("h2",{children:e})}),v.jsx("div",{style:{marginBottom:30,textAlign:"center"},children:v.jsx("p",{style:{wordWrap:"break-word"},children:v.jsx("strong",{children:t})})}),v.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"10px"},children:v.jsx("button",{className:"mps-button",onClick:r,children:n})})]})})},h4=({phoneNumber:e,callback:t})=>{const{setModal:n}=w.useContext(Se);return v.jsx(dn,{className:"popup-overlay-history",onClick:()=>n({state:"CLOSE",type:"MPS_INPUTPHONE"}),classNameChild:"mps",children:v.jsxs("div",{className:"mps-chill",children:[v.jsx("div",{style:{marginBottom:30,textAlign:"center"},children:v.jsx("h2",{children:"Hello "+e})}),v.jsx("div",{style:{marginBottom:30,textAlign:"center"},children:v.jsx("p",{style:{wordWrap:"break-word"},children:v.jsx("strong",{children:"Fee 120Fbu/1000 ibiceri/umunsi Join to MASCOT now for a chance to win 500.000 Fbu every month"})})}),v.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"10px"},children:v.jsx("button",{className:"mps-button",onClick:t,children:"REGISTER"})})]})})},p4=async e=>{try{return await gr.post("/api/auth/send_otp",{phone:e})}catch(t){console.error(t)}},m4=async(e,t)=>{try{return await gr.post("/api/auth/verify_otp",{phone:e,otp:t})}catch(n){console.error(n)}},g4=[ib,rb,ob,lb,cb,ab,sb,ub];function y4(){var Im;const e=sL(),[t,n]=w.useState("NONE"),[r,i]=w.useState(!1),[s,o]=w.useState(!1),[a,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[h,g]=w.useState(!1),[_,S]=w.useState(!1),[m,p]=w.useState(!1),[y,E]=w.useState(!1),[C,I]=w.useState(!1),b=w.useRef(!0),T=w.useRef("LOST"),O=w.useRef(null),L=w.useRef(0),[G,Re]=w.useState(""),Ae=w.useRef(null),X=w.useRef([]),xe=w.useRef(0),Ye=w.useRef(0),Y=w.useRef(!1),R=w.useRef(!1),M=w.useRef(0),B=w.useCallback(K=>{K.totalIcoinWin&&(L.current=K.totalIcoinWin),typeof K.isWin=="boolean"?K.isWin?T.current="WIN":T.current="LOST":(K.totalIcoinWin||0)>0?T.current="WIN":T.current="LOST"},[]);w.useEffect(()=>{(async()=>{const k=await J3();Re(k)})()},[e]);const te=O_(c4),de=O_(l4);w.useEffect(()=>{switch(localStorage.getItem("token")||wm(!0),(async()=>{const P=Xr(Jr,"zodiacGame/state"),Jc=BT=>{const Lt=BT.val();if(Lt){const Zo=Lt.zodiacCard,VT={id:Zo.id,imgUrl:Zo.imageUrl,multiply:Zo.multiply,name:Zo.name},km=[];if(Lt.topUsers){for(const ea in Lt.topUsers)if(Object.hasOwnProperty.call(Lt.topUsers,ea)){const yr=Lt.topUsers[ea],UT={facebookUserId:yr.facebookUserId||"",name:yr.name||"",profileImageLink:yr.profileImageLink||"",totalIcoin:yr.totalIcoin||0,uid:yr.uid||0};km.push(UT)}}Ae.current={...VT},X.current=[...km].sort((ea,yr)=>(yr.totalIcoin||0)-(ea.totalIcoin||0)),xe.current=Lt.noGameToday||0,Ye.current=Lt.transactionId||0,n(Lt.status),Lt.isPause!==R.current&&(Lt.isPause?(Qt({state:"OPEN",type:"MAINTAIN"}),R.current=!0):(Qt({state:"CLOSE",type:"MAINTAIN"}),R.current=!1)),b.current&&(kp("callbackDisableLoading"),b.current=!1)}};return ss(P,Jc),()=>os(P,"value",Jc)})(),t){case"NONE":l(P=>P&&!P),g(P=>P&&!P),f(P=>P&&!P),p(P=>P&&!P),xt("hidden");break;case"PREPARESTART":Te.current=[],l(P=>P&&!P),g(P=>P&&!P);break;case"COUNTDOWN":q3(),Y.current=!1,u(P=>P&&!P),i(P=>P&&!P),xt("scroll");break;case"RESULTWAITING":p(P=>P&&!P),g(P=>P&&!P);break;case"RESULT":l(P=>P&&!P),f(P=>P&&!P),S(P=>P&&!P),p(P=>P&&!P),g(P=>P&&!P),o(P=>P||!P),xt("hidden");break;case"END":o(P=>P&&!P),i(P=>P||!P),xt("hidden");break}},[t]);const fn=K=>{try{if(t==="COUNTDOWN"&&!Y.current){const k={...K,transactionId:Ye.current||0};O.current={...k},Qt({state:"OPEN",type:"BETTING"})}else he.remove(),he("Chưa đến thời gian đặt cược",{duration:2e3,position:"bottom-center"})}catch{he.remove(),he("Chưa đến thời gian đặt cược",{duration:2e3,position:"bottom-center"})}},Te=w.useRef([]),Dt=w.useCallback(K=>{Te.current=K},[]),tt=async K=>{const k=[...Te.current.map(P=>({...P}))];try{const P=aL(K,Te.current);P.length>4?(he.dismiss(),he("Đặt cược tối đa 4 lá linh vật",{duration:2e3,position:"bottom-center"})):(he.dismiss(),Te.current=P,await G3(Ye.current||0,K.totalIcoinBetting||0,K.id)!=="OK"&&(Te.current=k))}catch(P){console.error("Error betting:",P),Te.current=k}},Ot=w.useCallback(()=>{const K=navigator.onLine;E(!K)},[]);K3(Ot);const Qt=w.useCallback(K=>{if(K.state==="OPEN")switch(xt("hidden"),K.type){case"RULE":l(k=>k||!k);break;case"BETTING":g(k=>k||!k);break;case"WINLOST":u(k=>k||!k);break;case"GAMEHISTORY":f(k=>k||!k);break;case"MYHISTORY":S(k=>k||!k);break;case"DEPOSIT":p(k=>k||!k);break;case"DISCONNECT":E(k=>k||!k);break;case"GAMECIRCLE":o(k=>k||!k);break;case"GAMERESULT":i(k=>k||!k),u(k=>k||!k);break;case"MAINTAIN":I(k=>k||!k);break}else switch(K.type){case"RULE":l(k=>k&&!k),xt("scroll");break;case"BETTING":g(k=>k&&!k),m&&p(k=>k&&!k),xt("scroll");break;case"WINLOST":u(k=>k&&!k),xt("scroll");break;case"GAMEHISTORY":f(k=>k&&!k),xt("scroll");break;case"MYHISTORY":S(k=>k&&!k),xt("scroll");break;case"DEPOSIT":p(k=>k&&!k);break;case"DISCONNECT":xt("scroll"),E(k=>k&&!k);break;case"GAMECIRCLE":o(k=>k&&!k);break;case"GAMERESULT":i(k=>(T.current==="WIN"?de():te(),k&&!k)),u(k=>k||!k);break;case"MAINTAIN":xt("scroll"),I(k=>k&&!k);break}},[]),[Pn,wm]=w.useState(!1),[Sm,Em]=w.useState(!1),[kT,w4]=w.useState(!1),[bT,S4]=w.useState(!1),[Cm,xm]=w.useState(""),[NT,E4]=w.useState(""),[RT,C4]=w.useState(""),[AT,x4]=w.useState(""),[PT,T4]=w.useState(""),[Xc,DT]=w.useState(""),[OT,I4]=w.useState(()=>()=>{console.log("Default callback executed")}),Tm=async K=>{K!=null&&DT(K),Pn&&wm(!1),Sm||Em(!0);const k=await p4(K||Xc);console.log(k),k.data.status=="OK"||xm(k.data.message),alert(`OTP sent to ${Xc}`)},LT=async K=>{const k=await m4(Xc,K);console.log(k),k.data.status=="OK"?(Em(!1),localStorage.setItem("token",k.data.accessToken)):xm(k.data.message)},MT=()=>{Y.current=!0},FT=K=>{M.current=K},jT={stateGame:t,transactionId:Ye.current,noGame:xe.current,cardResult:Ae.current,selectedCard:O.current,topUsers:X.current,setModal:Qt,setSelectedCard:fn,betting:tt,iCoinWinTheGame:L.current||0,setBettingTimeEnd:MT,totalIcoin:M.current,setTotalIcoin:FT,fbId:G};return b.current?v.jsx(Qc,{className:"home_loading"}):v.jsx(Se.Provider,{value:jT,children:v.jsxs("div",{className:"main",children:[v.jsx(sM,{children:K=>v.jsx("div",{style:{opacity:K.visible?1:0,transition:"opacity 0.3s linear",background:"rgba(0, 0 , 0, 0.5)",fontSize:12,paddingTop:6,paddingBottom:5,paddingLeft:20,paddingRight:20,borderRadius:"20px",color:"#fff"},children:To(K.message,K)})}),v.jsx(H3,{}),v.jsx(r4,{}),v.jsx(z3,{}),v.jsx(oM,{onUserDataChange:B,betCards:Te.current,setFirebaseData:Dt}),v.jsx(vM,{}),v.jsxs(MB,{children:[a&&v.jsx(DV,{}),h&&O.current&&v.jsx(fV,{}),c&&v.jsx(bV,{dialogType:T.current,totalIcoin:L.current,zodiac:((Im=Ae.current)==null?void 0:Im.imgUrl)||""}),d&&v.jsx(k3,{zodiacs:g4}),_&&v.jsx(O3,{}),m&&v.jsx(s4,{},"deposit"),y&&v.jsx(i4,{}),C&&v.jsx(a4,{}),Pn&&v.jsx(u4,{mpsSendOTP:Tm,errorMessage:Cm}),Sm&&v.jsx(d4,{resendOTP:Tm,_title:NT,mpsVerifyOTP:LT,errorMessage:Cm}),kT&&v.jsx(f4,{_buttonName:PT,_title:RT,_message:AT,callback:OT}),bT&&v.jsx(h4,{phoneNumber:"123213",callback:null})]})]})})}class v4 extends rc.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return console.log(t),{hasError:!0}}componentDidCatch(t,n){console.log(`${t} + ${n}`),window.location.reload()}render(){return this.state.hasError?v.jsx(Qc,{}):this.props.children}}function _4(){return v.jsx(v4,{children:v.jsx(nb,{children:v.jsx(Zk,{children:v.jsx(rS,{path:"/",element:v.jsx(y4,{})})})})})}rd.createRoot(document.getElementById("root")).render(v.jsx(rc.StrictMode,{children:v.jsx(_4,{})}));
